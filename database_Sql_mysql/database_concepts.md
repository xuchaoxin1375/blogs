

## 数据模型

> 数据模型应满足三方面要求:一是能比较真实地模拟现实世界，二是容易为人所理解，三是便于在计算机上实现。一种数据模型要很好地、全面地满足这三方面的要求在目前尚很困难。因此，在数据库系统中针对不同的使用对象和应用目的，采用不同的数据模型。
> 如同在建筑设计和施工的不同阶段需要不同的图纸一样，在开发实施数据库应用系统中也需要使用不同的数据模型:概念模型、逻辑模型和物理模型。


> 根据模型应用的不同目的，可以将这些模型划分为两大类，它们分别属于两个不同的层次。
>
> - 第一类概念模型（conceptual model)，也称信息模型，它是按用户的观点来对数据和信息建模，主要用于数据库设计。
>
> - 第二类中的`逻辑模型`主要包括
>
>   - 层次模型(hierarchical model)、
>   - 网状模型(network model),
>   - 关系模型（relational model)、
>   - 面向对象数据模型（object oriented data model）和
>   - 对象关系数据模型（object relational data model)、
>   - 半结构化数据模型(semistructured data model)等。
>
>   > 它是按计算机系统的观点对数据建模,主要用于数据库管理系统的实现。
>
> - 第二类中的`物理模型`是对数据最底层的抽象，它描述数据在系统内部的`表示方式和存取方法`，或在`磁盘或磁带上的存储方式和存取方法`，是面向计算机系统的。
>
>   - 物理模型的具体实现是数据库管理系统的任务，数据库设计人员要了解和选择物理模型，最终用户则不必考虑物理级的细节。
>
> - 数据模型是数据库系统的核心和基础。
>
>   - 各种机器上实现的数据库管理系统软件都是基于某种数据模型或者说是支持某种数据模型的。
>
> - 为了把现实世界中的具体事物抽象、组织为某一数据库管理系统支持的数据模型，人们常常首先将现实世界抽象为信息世界，然后将信息世界转换为机器世界。
>
>   - 也就是说，首先把现实世界中的客观对象抽象为某一种信息结构，这种信息结构并不依赖于具体的计算机系统，不是某一个数据库管理系统支持的数据模型，而是`概念级的模型`;
>   - 然后再把概念模型转换为计算机上某一数据库管理系统支持的`数据模型`
>   - ![image-20220404143605622](https://cdn.jsdelivr.net/gh/xuchaoxin1375/pictures@main/images/image-20220404143605622.png)
>
>   

###  概念模型

-概念模型用于信息世界的建模，是现实世界到信息世界的`第一层抽象`，
-是数据库设计人员进行数据库设计的有力工具，
-也是数据库设计人员和用户之间进行交流的语言，
-因此概念模型一方面应该具有较强的语义表达能力，能够方便、直接地表达应用中的各种语义知识，另一方面它还应该简单、清晰、易于用户理解。

### 信息 世界中 的基本概念

#### 实体 (entity)


客观存在并可相互区别的事物称为实体。

#### 属性 ( attribute )

实体所 具有的 某一特 性称为 属性
```bash
test
```
#### 码 (key)

唯一标识实体的属性集称为码

#### 实体型 (entity type)

具有相同属性的实体必然具有共同的特征和性质。用实体名及其属性名集合来抽象和刻画同类实体，称为实体型。

#### 实体集 (entity set)

同一类 型实体的集合称为实体集。

#### 联系 (relationship) 

在现实世界中，事物内部以及事物之间是有联系的，这些联系在信息世界中反映为实体(型)内部的联系和实体(型)之间的联系。

>实体内部的联系通常是指组成实体的各属
>性之间的联系，实体之间的联系通常是指不同实体集之间的朕系。
>实体之间的联系有一对一、一对多和多对多等多种类型。

##### 一对一

- 如果对于实体集A中的每一个实体，实体集B中至多有一个（也可以没有）实体与之联系,反之亦然,则称实体集A与实体集B具有一对一联系。
- 如果对于实体集A中的每一个实体，实体集B中有n个实体(n≥0)与之联系，反之，对于实体集B中的每一个实体，实体集A中至多只有一个实体与之联系，则称实体集A与实体集B有一对多联系。
- 如果对于实体集A中的每一个实体，实体集B中有n个实体(n≥0)与之联系，反之,对于实体集B中的每一个实体，实体集A中也有m个实体(m≥0)与之联系，则称实体集A与实体集B具有多对多联系。例如一门课程可以同时有若干名学生选修，而一个学生可以同时选修多门课程,则课程实体与学生实体具有多对多联系。

### 概念模型的一种表示方法：实体-联系方法

- 概念模型是对信息世界建模，所以概念模型应该能够方便、准确地表示出上述信息世界中的常用概念。

#### E-R模型(E-R方法)

- 概念模型的表示方法很多，其中最为常用的是P.P.S.Chen于1976年提出的实体-联系方法（Entity-Relationship approach)。
- 该方法用E-R图（E-R diagram）来`描述现实世界的概念模型`,E-R方法也称为E-R模型。

### 例图(关系模型的数据结构)

![image-20220404132444632](https://cdn.jsdelivr.net/gh/xuchaoxin1375/pictures@main/images/image-20220404132444632.png)

### 关系(relation):

- 一个关系对应通常说的一张表，例如图1.14中的这张学生登记表。
- 元组(tuple):`表中的一行`即为一个元组。

### 属性（attribute):

表中的一列即为一个属性，给每一个属性起一个名称即属性名。如图1.14所示的表有6列，对应6个属性（学号，姓名，年龄，性别，系名和年级)。

### 码/键(key):

码,也称为码键。表中的某个属性组，它可以唯一确定一个元组

### 域(domain):

域是一组具有相同数据类型的值的集金。属性的取值范围来自某个域。如人的年龄一般在1~120岁之间,大学生年龄属性的域是(15~45岁),性别的域是(男,女)，系名的域是一个学校所有系名的集合。

### 分量:

元组中的一个属性值。

### 关系模式:

(关系模式是对`关系`的`描述`,一般表示为:

> 关系名（属性1，属性2，…，属性n)

例如，上面的关系模式(关系的描述)为

> 学生（学号，姓名,年龄,性别，系名，年级)

- `关系模型`要求关系必须是规范化的，即要求关系必须满足一定的规范条件，这些规范条件中最基本的一条就是，关系的每一个分量必须是一个不可分的数据项，也就是说，不允许表中还有表。
- ​	例如，图1.15中工资和扣除是可分的数据项，工资又分为基本工资、岗位津贴和业绩津贴，扣除又分为三险和个人所得税。
- 因此，图1.15的表就不符合关系模型要求。
- ![image-20220404132049832](https://cdn.jsdelivr.net/gh/xuchaoxin1375/pictures@main/images/image-20220404132049832.png)

## 术语对比

- 可以把关系和现实生活中的表格所使用的术语做一个粗略的对比

![image-20220404132126433](https://cdn.jsdelivr.net/gh/xuchaoxin1375/pictures@main/images/image-20220404132126433.png)