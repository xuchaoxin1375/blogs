[toc]

## äºŒåˆ†ç±»

### æ··æ·†çŸ©é˜µ

- [Confusion matrix - Wikipedia](https://en.wikipedia.org/wiki/Confusion_matrix)

- åœ¨æœºå™¨å­¦ä¹ é¢†åŸŸå’Œç»Ÿè®¡åˆ†ç±»é—®é¢˜ä¸­ï¼Œ**æ··æ·†çŸ©é˜µ**ï¼ˆ**è‹±è¯­ï¼šconfusion matrix**ï¼‰æ˜¯å¯è§†åŒ–å·¥å…·ï¼Œç‰¹åˆ«ç”¨äºç›‘ç£å­¦ä¹ ï¼Œåœ¨æ— ç›‘ç£å­¦ä¹ ä¸€èˆ¬å«åš**åŒ¹é…çŸ©é˜µ**ã€‚

- çŸ©é˜µçš„æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªç±»çš„**å®ä¾‹é¢„æµ‹**ï¼Œè€Œæ¯ä¸€è¡Œè¡¨ç¤ºä¸€ä¸ªå®é™…çš„ç±»çš„å®ä¾‹ã€‚

- ä¹‹æ‰€ä»¥å¦‚æ­¤å‘½åï¼Œæ˜¯å› ä¸ºé€šè¿‡è¿™ä¸ªçŸ©é˜µå¯ä»¥æ–¹ä¾¿åœ°çœ‹å‡ºæœºå™¨æ˜¯å¦å°†ä¸¤ä¸ªä¸åŒçš„ç±»æ··æ·†äº†ï¼ˆæ¯”å¦‚è¯´æŠŠä¸€ä¸ªç±»é”™å½“æˆäº†å¦ä¸€ä¸ªï¼‰ã€‚

- æ··æ·†çŸ©é˜µï¼ˆä¹Ÿç§°è¯¯å·®çŸ©é˜µ ï¼‰æ˜¯ä¸€ç§<u>ç‰¹æ®Šçš„, å…·æœ‰ä¸¤ä¸ªç»´åº¦çš„ï¼ˆå®é™…å’Œé¢„æµ‹ï¼‰**åˆ—è”è¡¨**</u>ï¼ˆ**è‹±è¯­ï¼šcontingency table**ï¼‰ï¼Œå¹¶ä¸”ä¸¤ç»´åº¦ä¸­éƒ½æœ‰ç€ä¸€æ ·çš„ç±»åˆ«çš„é›†åˆã€‚

  - | é¢„æµ‹è¾“å‡º\çœŸå®å€¼ | P    | N    |
    | --------------- | ---- | ---- |
    | P'              | TP   | FP   |
    | N'              | FN   | TN   |

    - ç†Ÿæ‚‰è¿™ä¸ªè¡¨æ ¼,å°±å®¹æ˜“ç†è§£ç›¸å…³æ¦‚å¿µå’Œå…¬å¼

  - | è¡¨1                                                          | è¡¨2                                                          |
    | ------------------------------------------------------------ | ------------------------------------------------------------ |
    | ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/26999fa980d84ec4911215dc1c7617b6.png) | ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/6a2e5f753102447b8a95239ee2f96d98.png) |

- å¦‚æœå·²ç»è®­ç»ƒå¥½äº†ä¸€ä¸ªç³»ç»Ÿç”¨æ¥åŒºåˆ†çŒ«å’Œç‹—ï¼Œé‚£æ··æ·†çŸ©é˜µå°±å¯ä»¥æ¦‚æ‹¬ç®—æ³•çš„æµ‹è¯•ç»“æœä»¥ä¾¿å°†æ¥çš„æ£€æŸ¥ã€‚å‡è®¾ä¸€ä¸ª13ä¸ªåŠ¨ç‰©çš„æ ·æœ¬ï¼Œ8åªçŒ«å’Œ5åªç‹—ï¼Œé‚£æ··æ·†çŸ©é˜µçš„ç»“æœå¯èƒ½å¦‚ä¸‹è¡¨æ‰€ç¤º

  - åœ¨è¿™ä¸ªæ··æ·†çŸ©é˜µä¸­ï¼Œç³»ç»Ÿé¢„æµ‹äº†8åªå®é™…çš„çŒ«(8åªçŒ«ä½œä¸ºè¾“å…¥)ï¼Œè€Œåˆ†ç±»é¢„æµ‹ç³»ç»Ÿäº‹å…ˆæ˜¯ä¸çŸ¥é“è¿™8åªè¾“å…¥å…·ä½“æ˜¯ä»€ä¹ˆ,é¢„æµ‹è®¡ç®—å"è®¤ä¸º"å…¶ä¸­3åªæ˜¯ç‹—(å³é”™è¯¯äº†3åª,ç³»ç»Ÿå°†çŒ«åˆ†ç±»ä¸ºäº†ç‹—)
  - ç±»ä¼¼çš„,5åªç‹—ä¸­ï¼Œåˆ™é¢„æµ‹æœ‰2åªæ˜¯çŒ«ã€‚(ç³»ç»Ÿå°†5åªç‹—ä¸­çš„æŸä¸¤åªé”™è¯¯åœ°åˆ†ç±»ä¸ºçŒ«)
  - æ‰€æœ‰æ­£ç¡®çš„é¢„æµ‹éƒ½ä½äºè¡¨æ ¼çš„å¯¹è§’çº¿ä¸Šï¼ˆä»¥ç²—ä½“çªå‡ºæ˜¾ç¤ºï¼‰ï¼Œå› æ­¤å¾ˆå®¹æ˜“ä»è§†è§‰ä¸Šæ£€æŸ¥è¡¨æ ¼ä¸­çš„é¢„æµ‹é”™è¯¯ï¼Œå› ä¸ºå®ƒä»¬å°†ç”±å¯¹è§’çº¿ä¹‹å¤–çš„å€¼è¡¨ç¤ºã€‚
  - å¦‚æœå‡å°‘ä¸€äº›ç»†èŠ‚,åªç»Ÿè®¡å°†è¾“å…¥çš„8çŒ«5ç‹—é¢„å‡º7çŒ«6ç‹—,è¿™çœ‹ä¸Šå»å¥½åƒé¢„æµ‹çš„è¿˜è¡Œ(æœ€å¥½çš„æƒ…å†µä¸‹åªåˆ¤é”™äº†ä¸€åª)
    - ç„¶è€Œæ ¹æ®æ··æ·†çŸ©é˜µæ­ç¤ºçš„ç»†èŠ‚å¯çŸ¥,å‡ºç°äº†è®¸å¤šç±»ä¼¼`è´Ÿè´Ÿå¾—æ­£`çš„è‹¥å¹²é¢„æµ‹,å®é™…çš„é¢„æµ‹æ•ˆæœå®é™…å¹¶ä¸å¥½

### æ··æ·†è¡¨ğŸˆ

- åœ¨é¢„æµ‹åˆ†æä¸­ï¼Œæ··æ·†è¡¨ï¼ˆæœ‰æ—¶ä¹Ÿç§°ä¸ºæ··æ·†çŸ©é˜µï¼‰æ˜¯å…·æœ‰ä¸¤è¡Œä¸¤åˆ—çš„è¡¨ï¼Œè¯¥è¡¨æŠ¥å‘Šå‡é˜³æ€§ï¼Œå‡é˜´æ€§ï¼ŒçœŸé˜³æ€§å’ŒçœŸé˜´æ€§çš„æ•°é‡ã€‚
- è¿™ä¸ä»…å¯ä»¥è¿›è¡Œæ­£ç¡®åˆ†ç±»ï¼ˆå‡†ç¡®åº¦ï¼‰çš„åˆ†æï¼Œè¿˜å¯ä»¥è¿›è¡Œæ›´è¯¦ç»†çš„åˆ†æã€‚
- å¯¹äºåˆ†ç±»å™¨çš„**çœŸå®æ€§èƒ½**ï¼Œå‡†ç¡®æ€§ä¸æ˜¯å¯é çš„æŒ‡æ ‡ï¼Œå› ä¸ºå¦‚æœ<u>æ•°æ®é›†ä¸å¹³è¡¡</u>ï¼ˆå³ï¼Œå½“ä¸åŒç±»åˆ«ä¸­çš„è§‚å¯Ÿæ•°å‘ç”Ÿå¾ˆå¤§å˜åŒ–æ—¶ï¼‰ï¼Œå®ƒå°†äº§ç”Ÿè¯¯å¯¼æ€§ç»“æœã€‚
  - ä¾‹å¦‚ï¼Œå¦‚æœæ•°æ®ä¸­æœ‰95åªçŒ«ï¼Œåªæœ‰5æ¡ç‹—ï¼Œ
  - ç‰¹å®šçš„åˆ†ç±»å™¨å¯èƒ½ä¼šå°†æ‰€æœ‰è§‚å¯Ÿç»“æœå½’ä¸ºçŒ«ã€‚æ€»ä½“å‡†ç¡®åº¦ä¸º95ï¼…
  - ä½†æ›´è¯¦ç»†åœ°ï¼Œåˆ†ç±»å™¨å¯¹çŒ«ç±»åˆ«çš„è¯†åˆ«ç‡ä¸º100ï¼…ï¼ˆæ•æ„Ÿæ€§ï¼‰ï¼Œ<u>**å¯¹ç‹—ç±»åˆ«çš„è¯†åˆ«ç‡ä¸º0ï¼…**</u>ã€‚

### Precision vs F1 score vs Youden's  J statistic

- åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒF1å¾—åˆ†ï¼ˆè‹±è¯­ï¼šF1 scoreï¼‰ç”šè‡³æ›´åŠ **ä¸å¯é **ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒF1å¾—åˆ†å°†è¶…è¿‡97.4ï¼…ï¼Œ

  - å°†çŒ«ä½œä¸ºé˜³æ€§

  - $$
    P=\frac{TP}{TP+FP}=\frac{95}{95+5}=0.95
    \\
    R=\frac{TP}{TP+FN}=\frac{95}{95+0}=1.00
    \\
    F_1\ score=\frac{2}{P^{-1}+R^{-1}}= 2/(1/0.95+1/1)=
    0.974...>97.4\%
    $$

  - è‹¥,å°†ç‹—ä½œä¸ºé˜³æ€§,ä¼šé‡åˆ°åˆ†æ¯ä¸º0çš„æƒ…å†µ

    

- çº¦ç™»æŒ‡æ•°(åç»­éƒ¨åˆ†ä»‹ç»)åˆ™æ¶ˆé™¤äº†è¿™ç§åè§ï¼Œå¹¶ä¸”å°†0ä½œä¸ºä¹±çŒœæƒ…å†µä¸‹**èƒ½å¢åŠ ä¿¡æ¯é‡çš„å†³å®š**ï¼ˆè‹±è¯­ï¼šinformed decisionï¼‰çš„æ¦‚ç‡ï¼ˆä¾‹å¦‚,è¿™é‡Œæ€»æ˜¯çŒœæµ‹çŒ«ï¼‰ã€‚

## çµæ•åº¦(å¬å›ç‡)å’Œç‰¹å¼‚åº¦

- çµæ•åº¦å’Œç‰¹å¼‚åº¦ï¼ˆè‹±è¯­ï¼šSensitivity and specificityï¼‰ï¼Œæˆ–åˆ†åˆ«ç§°æ•æ„Ÿæ€§å’Œç‰¹å¼‚æ€§ï¼Œæ˜¯ç»Ÿè®¡å­¦ä¸­ç”¨æ¥è¡¨å¾äºŒé¡¹åˆ†ç±»æµ‹è¯•ç‰¹å¾çš„æ•°æ®ï¼Œåœ¨ç»Ÿè®¡å­¦ä¸­ä¹Ÿè¢«ç§°ä¸ºç»Ÿè®¡åˆ†ç±»ï¼Œåœ¨åŒ»å­¦ä¸­å¹¿ä¸ºä½¿ç”¨ã€‚

### çµæ•åº¦Se

- çµæ•åº¦ï¼ˆSensitivityï¼Œä¹Ÿç§°ä¸ºçœŸé˜³æ€§ç‡ã€**å¬å›ç‡**ï¼ˆRecallï¼‰ ï¼‰

  - $$
    R=Se=\frac{TP}{TP+FN}
    $$

    

### ç‰¹å¼‚åº¦Sp

- ç‰¹å¼‚åº¦ï¼ˆSpecificityï¼Œä¹Ÿç§°ä¸º**çœŸé˜´æ€§ç‡**ï¼‰æ˜¯æŒ‡å®é™…ä¸ºé˜´æ€§çš„æ ·æœ¬ä¸­ï¼Œåˆ¤æ–­ä¸ºé˜´æ€§çš„æ¯”ä¾‹

  - ï¼ˆä¾‹å¦‚çœŸæ­£æœªç”Ÿç—…çš„äººä¸­ï¼Œè¢«åŒ»é™¢åˆ¤æ–­ä¸ºæœªç”Ÿç—…è€…çš„æ¯”ä¾‹ï¼‰ï¼Œè®¡ç®—æ–¹å¼æ˜¯çœŸé˜´æ€§é™¤ä»¥çœŸé˜´æ€§+å‡é˜³æ€§ï¼ˆå®é™…ä¸ºé˜´æ€§ï¼Œä½†åˆ¤æ–­ä¸ºé˜³æ€§ï¼‰çš„æ¯”å€¼

- $$
  Sp=\frac{TN}{TN+FP}
  $$

  

## Youden's J statisticçº¦ç™»æŒ‡æ•°

- [Youden's J statistic - Wikipedia](https://en.wikipedia.org/wiki/Youden's_J_statistic)

- **Youden's J statistic** (also called **Youden's index**) is a single statistic that captures the performance of a [dichotomous](https://en.wikipedia.org/wiki/Dichotomy) diagnostic test. **Informedness** is its generalization to the multiclass case and estimates the probability of an informed decision.

  - dichotomous diagnostic testæŒ‡çš„æ˜¯äºŒå…ƒè¯Šæ–­æµ‹è¯•ï¼Œå³æµ‹è¯•ç»“æœåªæœ‰ä¸¤ç§å¯èƒ½æ€§çš„è¯Šæ–­æµ‹è¯•ã€‚åœ¨åŒ»å­¦é¢†åŸŸä¸­ï¼Œå¸¸è§çš„äºŒå…ƒè¯Šæ–­æµ‹è¯•åŒ…æ‹¬é˜³æ€§å’Œé˜´æ€§æµ‹è¯•ç»“æœã€æ‚£ç—…å’Œæœªæ‚£ç—…çš„ç»“æœç­‰ã€‚

  - äºŒå…ƒè¯Šæ–­æµ‹è¯•é€šå¸¸ç”¨äºè¯„ä¼°æŸç§ç–¾ç—…æˆ–è€…ç—‡çŠ¶çš„å­˜åœ¨æˆ–è€…ç¼ºå¤±ï¼Œæˆ–è€…åˆ¤æ–­æŸç§æ²»ç–—æ–¹æ³•æ˜¯å¦æœ‰æ•ˆç­‰ã€‚å¸¸è§çš„äºŒå…ƒè¯Šæ–­æµ‹è¯•æ–¹æ³•åŒ…æ‹¬è¡€æ¶²æ£€æµ‹ã€å°¿æ¶²æ£€æµ‹ã€Xå…‰æ£€æŸ¥ç­‰ã€‚

  - äºŒå…ƒè¯Šæ–­æµ‹è¯•åœ¨æœºå™¨å­¦ä¹ é¢†åŸŸä¸­ä¹Ÿæœ‰å¹¿æ³›çš„åº”ç”¨ï¼Œå¦‚äºŒå…ƒåˆ†ç±»é—®é¢˜ä¸­çš„æ¨¡å‹è¯„ä¼°å’Œé€‰æ‹©æœ€ä½³é˜ˆå€¼ç­‰ã€‚

  - Youden's J statistic is:

    - ${\displaystyle J={\text{sensitivity}}+{\text{specificity}}-1}$

    - *J* = [çµæ•åº¦](https://zh.wikipedia.org/wiki/éˆæ•åº¦å’Œç‰¹ç•°åº¦) +[ç‰¹å¼‚åº¦](https://zh.wikipedia.org/wiki/ç‰¹å¼‚åº¦) âˆ’ 1

    - $$
      \text{sensitivity}={\frac {\text{true positives}}{{\text{true positives}}+{\text{false negatives}}}}
      =\frac{TP}{TP+FN}
      \\
      \text{specificity}={\frac {\text{true negatives}}{{\text{true negatives}}+{\text{false positives}}}}
      =\frac{TN}{TN+FP}
      $$

    - å…¶ä¸­TP+FNè¡¨ç¤ºå®é™…é˜³æ€§çš„æ•°é‡;TN+FPè¡¨ç¤ºå®é™…é˜´æ€§çš„æ•°é‡

  - with the two <u>right-hand quantities</u>(ç­‰å¼å³ä¾§) being sensitivity and specificity. Thus the expanded formula is:

    - $$
      {\displaystyle J={\frac {\text{true positives}}{{\text{true positives}}+{\text{false negatives}}}}
      +{\frac {\text{true negatives}}{{\text{true negatives}}+{\text{false positives}}}}-1}
      $$

    - $J\in[-1,1]$

      - è¯æ˜:

      - $$
        TP,NP,TN,FN
        \\
        TP\leqslant{TP+FN}
        \\
        TN\leqslant{TN+FP}
        \\
        {0}\leqslant\frac{TP}{TP+FN}\leqslant{1}
        \\
        0\leqslant{\frac{TN}{TN+FP}}\leqslant{1}
        \\
        \therefore{0\leqslant{\frac{TP}{TP+FN}+\frac{TN}{TN+FP}}\leqslant{2}}
        \\
        -1\leqslant{J}\leqslant{1}
        $$

        

    - åœ¨Youden's Jç»Ÿè®¡é‡çš„è®¡ç®—å…¬å¼ä¸­ï¼Œsensitivityå’Œspecificityæ˜¯æŒ‡åœ¨äºŒå…ƒåˆ†ç±»é—®é¢˜ä¸­çš„ä¸¤ä¸ªé‡è¦æŒ‡æ ‡ï¼Œåˆ†åˆ«è¡¨ç¤ºçœŸå®æ ‡ç­¾ä¸ºæ­£ç±»çš„æ ·æœ¬è¢«æ­£ç¡®åœ°é¢„æµ‹ä¸ºæ­£ç±»çš„æ¯”ä¾‹å’ŒçœŸå®æ ‡ç­¾ä¸ºè´Ÿç±»çš„æ ·æœ¬è¢«æ­£ç¡®åœ°é¢„æµ‹ä¸ºè´Ÿç±»çš„æ¯”ä¾‹ã€‚ 

    - åœ¨Youden's Jç»Ÿè®¡é‡çš„è®¡ç®—å…¬å¼ä¸­ï¼Œsensitivityå’Œspecificityè¢«ç§°ä½œå³ä¾§çš„ä¸¤ä¸ªé‡ï¼Œæ˜¯æŒ‡åœ¨å…¬å¼ä¸­å‡ºç°åœ¨å³ä¾§çš„ä¸¤ä¸ªé‡ã€‚

  - Youden's Jç»Ÿè®¡é‡ï¼ˆä¹Ÿç§°ä¸ºYoudenæŒ‡æ•°ï¼‰æ˜¯æ•æ‰äºŒå…ƒè¯Šæ–­æµ‹è¯•æ€§èƒ½çš„å•ä¸ªç»Ÿè®¡é‡ã€‚åœ¨äºŒå…ƒåˆ†ç±»é—®é¢˜ä¸­ï¼ŒYouden's Jç»Ÿè®¡é‡æ˜¯çœŸé˜³æ€§ç‡å’ŒçœŸé˜´æ€§ç‡ä¹‹å·®çš„ç»å¯¹å€¼çš„æœ€å¤§å€¼ã€‚

  - åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒYouden's Jç»Ÿè®¡é‡å¯ä»¥ä½œä¸ºè¯„ä»·æ¨¡å‹æ€§èƒ½çš„ä¸€ä¸ªæŒ‡æ ‡ã€‚


### eg

- ä»¥ä¸Šé¢çš„çŒ«ç‹—åˆ†ç±»ä¸ºä¾‹:
  - ${\displaystyle J={\frac {95}{95+0}}+{\frac {0}{0+5}}-1=0}$ ï¼ˆæ€»æ˜¯çŒœæµ‹çŒ«çš„çº¦ç™»æŒ‡æ•°ï¼‰
    - å°†çŒ«è§†ä¸ºé˜³æ€§,å°†ç‹—è§†ä¸ºé˜´æ€§
    - TP=95,TF=0(é¢„æµ‹æ­£ç¡®çš„ä¸¤ç±»æƒ…å†µåŠå…¶æ¬¡æ•°)
      - æŠŠçŒ«é¢„æµ‹ä¸ºçŒ«çš„æ¬¡æ•°ä¸º95
      - æŠŠç‹—é¢„æµ‹ä¸ºç‹—çš„æ¬¡æ•°ä¸º0
    - NP=5,NF=0(é¢„æµ‹é”™è¯¯çš„ä¸¤ç±»æƒ…å†µåŠå…¶æ¬¡æ•°)
      - æŠŠç‹—é¢„æµ‹ä¸ºçŒ«çš„æ¬¡æ•°ä¸º5
      - æŠŠçŒ«é¢„æµ‹ä¸ºç‹—çš„æ¬¡æ•°ä¸º0
    - èƒ½ç†Ÿç»ƒçš„å°†å››ä¸ªå˜é‡å’Œå«ä¹‰å¯¹åº”èµ·æ¥,æ˜¯æ­£ç¡®è®¡ç®—$J$çš„å…³é”®,å°†ç®€å•çš„ä¾‹å­åå¤ç»ƒä¹ ä¹Ÿå¾ˆæœ‰ç”¨
      - ä¹Ÿå°±æ˜¯,ç³»ç»Ÿè‹¥é¢„æµ‹çš„å¯¹,å…·ä½“æ€ä¹ˆå¯¹,æ˜¯æŠŠçŒ«é¢„æµ‹ä¸ºçŒ«,è¿˜æ˜¯æŠŠç‹—é¢„æµ‹ä¸ºç‹—
      - ç³»ç»Ÿè‹¥é¢„æµ‹é”™äº†,å…·ä½“æ€ä¹ˆé”™,æ˜¯æŠŠç‹—é¢„æµ‹ä¸ºçŒ«è¿˜æ˜¯æŠŠçŒ«é¢„æµ‹ä¸ºç‹—
- çº¦ç™»æŒ‡æ•°ä¸º0çš„ç³»ç»Ÿæˆ–æµ‹è¯•**ä¸å…·æœ‰ä»»ä½•ä½œç”¨**

## F-score

- [F-score - Wikipedia](https://en.wikipedia.org/wiki/F-score)

- In [statistical](https://en.wikipedia.org/wiki/Statistics) analysis of [binary classification](https://en.wikipedia.org/wiki/Binary_classification), the **F-score** or **F-measure** is a measure of a test's [accuracy](https://en.wikipedia.org/wiki/Accuracy_and_precision#In_binary_classification). It is calculated from the [precision](https://en.wikipedia.org/wiki/Precision_(information_retrieval)) and [recall](https://en.wikipedia.org/wiki/Recall_(information_retrieval)) of the test, where :

- ç²¾ç¡®ç‡æ˜¯æŒ‡é¢„æµ‹ä¸ºæ­£ä¾‹çš„æ ·æœ¬ä¸­çœŸæ­£ä¸ºæ­£ä¾‹çš„æ¯”ä¾‹

- å¬å›ç‡æ˜¯æŒ‡æ‰€æœ‰çœŸæ­£ä¸ºæ­£ä¾‹çš„æ ·æœ¬ä¸­è¢«é¢„æµ‹ä¸ºæ­£ä¾‹çš„æ¯”ä¾‹


### ç²¾ç¡®ç‡P(é˜³æ€§é¢„æµ‹å€¼)

- ä¹Ÿå«**é˜³æ€§é¢„æµ‹å€¼**

- the **precision** is the number of <u>true positive results</u> divided by the number of <u>all positive results</u>, including those not identified correctly

  - $$
    P=\frac{TP}{TP+FP}
    $$


- P=çœŸé˜³ä¾‹æ•°/é¢„æµ‹é˜³æ€§æ€»æ•°

### å¬å›ç‡R

- ä¹Ÿå«**çµæ•åº¦**

- the **recall** is the number of <u>true positive results</u> divided by the number of all samples that <u>should have been identified as positive</u>. 

- Precision is also known as [positive predictive value](https://en.wikipedia.org/wiki/Positive_predictive_value), and recall is also known as [sensitivity](https://en.wikipedia.org/wiki/Sensitivity_and_specificity) (é›¶ååº¦)in diagnostic binary classification.

  - $$
    R=\frac{TP}{TP+FN}
    $$

- R=çœŸé˜³/å®é™…é˜³æ€§æ€»æ•°



### relevant instance å’Œ retrieved instance

- åœ¨ä¿¡æ¯æ£€ç´¢é¢†åŸŸä¸­ï¼Œé€šå¸¸ä¼šä½¿ç”¨ç›¸å…³å®ä¾‹ï¼ˆrelevant instanceï¼‰å’Œæ£€ç´¢å®ä¾‹ï¼ˆretrieved instanceï¼‰è¿™ä¸¤ä¸ªæ¦‚å¿µã€‚
  - ç›¸å…³å®ä¾‹æ˜¯æŒ‡ä¸æŸ¥è¯¢ç›¸å…³çš„æ–‡æ¡£æˆ–ä¿¡æ¯ï¼Œä¹Ÿç§°ä¸ºç›¸å…³æ–‡æ¡£æˆ–ç›¸å…³ä¿¡æ¯ã€‚åœ¨ä¿¡æ¯æ£€ç´¢ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä»æ–‡æœ¬åº“ä¸­æ£€ç´¢å‡ºä¸æŸ¥è¯¢ç›¸å…³çš„æ–‡æ¡£æˆ–ä¿¡æ¯ï¼Œè¿™äº›æ–‡æ¡£æˆ–ä¿¡æ¯å°±æ˜¯ç›¸å…³å®ä¾‹ã€‚
  - æ£€ç´¢å®ä¾‹æ˜¯æŒ‡é€šè¿‡æ£€ç´¢ç®—æ³•æ£€ç´¢åˆ°çš„æ–‡æ¡£æˆ–ä¿¡æ¯ï¼Œä¹Ÿç§°ä¸ºæ£€ç´¢æ–‡æ¡£æˆ–æ£€ç´¢ä¿¡æ¯ã€‚åœ¨ä¿¡æ¯æ£€ç´¢ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨æ£€ç´¢ç®—æ³•æ¥ä»æ–‡æœ¬åº“ä¸­æ£€ç´¢å‡ºä¸€äº›æ–‡æ¡£æˆ–ä¿¡æ¯ï¼Œè¿™äº›æ–‡æ¡£æˆ–ä¿¡æ¯å°±æ˜¯æ£€ç´¢å®ä¾‹ã€‚

- ç›¸å…³å®ä¾‹å’Œæ£€ç´¢å®ä¾‹çš„å…³ç³»å¯ä»¥ç”¨ä»¥ä¸‹å››ä¸ªæœ¯è¯­æ¥æè¿°ï¼š

  1. True Positiveï¼ˆTPï¼‰ï¼šæ£€ç´¢å‡ºçš„æ–‡æ¡£æˆ–ä¿¡æ¯æ˜¯ç›¸å…³å®ä¾‹ã€‚
  2. False Positiveï¼ˆFPï¼‰ï¼šæ£€ç´¢å‡ºçš„æ–‡æ¡£æˆ–ä¿¡æ¯ä¸æ˜¯ç›¸å…³å®ä¾‹ã€‚
  3. True Negativeï¼ˆTNï¼‰ï¼šæœªæ£€ç´¢å‡ºçš„æ–‡æ¡£æˆ–ä¿¡æ¯ä¸æ˜¯ç›¸å…³å®ä¾‹ã€‚
  4. False Negativeï¼ˆFNï¼‰ï¼šæœªæ£€ç´¢å‡ºçš„æ–‡æ¡£æˆ–ä¿¡æ¯æ˜¯ç›¸å…³å®ä¾‹ã€‚

- | ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/e333f47c43a04c869f0eabf4efa55188.png) | $\large{P=\frac{\text{true positives}}{\text{retrived elemnts}}}$ | $\large{R=\frac{\text{true positives}}{\text{relevant elemnts}}}$ |
  | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
  |                                                              | retrieve elementsæ˜¯åˆ†ç±»ç³»ç»Ÿé¢„æµ‹å‡ºæ¥çš„TPæ€»æ•°                  | relevant elementsæ˜¯æ ·æœ¬å®é™…çš„å®é™…é˜³æ€§çš„æ€»æ•°                  |

- retrived=TP+NP

- relevant=TP+FN

### å…¶ä»–ç§°å‘¼ğŸˆ

- Precisionï¼ˆåˆç§°ä¸º**é˜³æ€§é¢„æµ‹å€¼**ï¼‰æ˜¯æŒ‡æ£€ç´¢åˆ°çš„**ç›¸å…³å®ä¾‹**æ•°åœ¨<u>æ‰€æœ‰æ£€ç´¢åˆ°çš„å®ä¾‹</u>ä¸­æ‰€å çš„æ¯”ä¾‹
- Recallï¼ˆä¹Ÿç§°ä¸º**æ•æ„Ÿæ€§**ï¼‰æ˜¯æŒ‡æ£€ç´¢åˆ°çš„**ç›¸å…³å®ä¾‹**æ•°åœ¨<u>æ‰€æœ‰ç›¸å…³å®ä¾‹</u>ä¸­æ‰€å çš„æ¯”ä¾‹ã€‚
- å› æ­¤ï¼Œç²¾ç¡®ç‡å’Œå¬å›ç‡éƒ½æ˜¯åŸºäºæ‰€æ¶‰åŠçš„ç›¸å…³å®ä¾‹è€Œè®¡ç®—çš„ã€‚

- **Precision** (also called [positive predictive value](https://en.wikipedia.org/wiki/Positive_predictive_value)) is the fraction of **relevant** instances among the **retrieved** instances,

  - æ‰€æœ‰è¢«é¢„æµ‹ä¸ºé˜³æ€§çš„æ ·æœ¬ä¸­çœŸå®ä¸ºé˜³æ€§çš„æ ·æœ¬çš„å æ¯”
- **recall** (also known as [sensitivity](https://en.wikipedia.org/wiki/Sensitivity_and_specificity)) is the fraction of relevant instances that were retrieved. 

  - æ‰€æœ‰çœŸå®é˜³æ€§æ ·æœ¬ä¸­,è¢«æ­£ç¡®é¢„æµ‹(ä¸ºé˜³æ€§)çš„æ ·æœ¬æ•°å æ¯”
  - çµæ•åº¦=ç‰¹å¼‚åº¦=çœŸé˜³æ€§ç‡=å¬å›ç‡
- Both precision and recall are therefore based on [relevance](https://en.wikipedia.org/wiki/Relevance_(information_retrieval)).

- ç²¾ç¡®ç‡å’Œå¬å›ç‡éƒ½æ˜¯åŸºäºâ€œç›¸å…³å®ä¾‹â€çš„æ¦‚å¿µè€Œè®¡ç®—çš„ï¼Œå…¶ä¸­â€œç›¸å…³å®ä¾‹â€æ˜¯æŒ‡åœ¨æŸä¸ªç‰¹å®šçš„åœºæ™¯ä¸­è¢«è®¤ä¸ºæ˜¯é‡è¦æˆ–æœ‰æ„ä¹‰çš„å®ä¾‹ã€‚åœ¨ä¿¡æ¯æ£€ç´¢å’Œæ–‡æœ¬åˆ†ç±»ç­‰ä»»åŠ¡ä¸­ï¼Œç›¸å…³å®ä¾‹é€šå¸¸æ˜¯æŒ‡ä¸æŸ¥è¯¢æˆ–ä¸»é¢˜ç›¸å…³çš„æ–‡æ¡£æˆ–æ–‡æœ¬ç‰‡æ®µã€‚

  è¿™ä¸¤ä¸ªæŒ‡æ ‡é€šå¸¸ç”¨äºè¯„ä¼°äºŒå…ƒåˆ†ç±»æ¨¡å‹çš„æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸å¹³è¡¡ç±»åˆ«çš„æƒ…å†µä¸‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¨¡å‹å¯èƒ½å€¾å‘äºé¢„æµ‹æ•°é‡è¾ƒå¤šçš„ç±»åˆ«ï¼Œè€Œå¿½ç•¥æ•°é‡è¾ƒå°‘ä½†æ›´é‡è¦çš„ç±»åˆ«ã€‚ç²¾ç¡®ç‡å’Œå¬å›ç‡å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¯„ä¼°æ¨¡å‹åœ¨å¤„ç†ä¸å¹³è¡¡ç±»åˆ«æ—¶çš„è¡¨ç°ï¼Œå¹¶å¸®åŠ©æˆ‘ä»¬åœ¨æ¨¡å‹å’Œä»»åŠ¡ä¹‹é—´åšå‡ºæƒè¡¡ã€‚

- Consider a computer program for recognizing dogs (the **relevant** element) in a digital photograph. Upon processing a picture which contains ten cats and twelve dogs, the program identifies eight dogs. Of the eight elements identified as dogs, only five actually are dogs (true positives), while the other three are cats (false positives). Seven dogs were missed (false negatives), and seven cats were correctly excluded (true negatives). The program's precision is then 5/8 (true positives / selected elements) while its recall is 5/12 (true positives / relevant elements).

- The $F_1$ score is the <u>harmonic mean</u> of the precision and recall. It thus symmetrically represents both precision and recall in one metric. The more generic $F_{\beta }$ score applies additional weights, valuing one of precision or recall more than the other.
  The highest possible value of an F-score is 1.0, indicating perfect precision and recall, and the lowest possible value is 0, if either precision or recall are zero.
- **Få€¼**ï¼Œäº¦è¢«ç§°åš**F-measure**ï¼Œæ˜¯ä¸€ç§é‡æµ‹ç®—æ³•çš„[ç²¾ç¡®åº¦](https://zh.wikipedia.org/wiki/ç²¾ç¢ºåº¦)å¸¸ç”¨çš„[æŒ‡æ ‡](https://zh.wikipedia.org/wiki/æŒ‡æ¨™_(é›»è…¦ç§‘å­¸))ï¼Œç»å¸¸ç”¨æ¥åˆ¤æ–­[ç®—æ³•](https://zh.wikipedia.org/wiki/ç®—æ³•)çš„ç²¾ç¡®åº¦ã€‚ç›®å‰åœ¨è¾¨è¯†ã€ä¾¦æµ‹ç›¸å…³çš„ç®—æ³•ä¸­ç»å¸¸ä¼šåˆ†åˆ«æåˆ°**ç²¾ç¡®ç‡**ï¼ˆprecisionï¼‰å’Œ**å¬å›ç‡**ï¼ˆrecallï¼‰ï¼ŒF-scoreèƒ½åŒæ—¶è€ƒè™‘è¿™ä¸¤ä¸ªæ•°å€¼ï¼Œå¹³è¡¡åœ°åæ˜ è¿™ä¸ªç®—æ³•çš„[ç²¾ç¡®åº¦](https://zh.wikipedia.org/wiki/ç²¾ç¢ºåº¦)ã€‚



### $F_1$

- The traditional F-measure or balanced F-score (F1 score) is the harmonic mean of precision and recall:
  ${\displaystyle F_{1}={\frac {2}{\mathrm {recall} ^{-1}+\mathrm {precision} ^{-1}}}=2{\frac {\mathrm {precision} \cdot \mathrm {recall} }{\mathrm {precision} +\mathrm {recall} }}={\frac {2\mathrm {tp} }{2\mathrm {tp} +\mathrm {fp} +\mathrm {fn} }}}$.
- ä¸€èˆ¬ä¸Šæ¥è¯´ï¼Œæåˆ°F-scoreä¸”æ²¡æœ‰ç‰¹åˆ«çš„å®šä¹‰æ—¶ï¼Œæ˜¯æŒ‡$\beta =1$æ—¶çš„F-scoreï¼Œäº¦æœ‰å†™ä½œ$F_1$-scoreã€‚
- ä»£è¡¨ä½¿ç”¨è€…åŒæ ·çš„æ³¨é‡precisionå’Œrecallçš„è¿™ä¸¤ä¸ªæŒ‡æ ‡ã€‚å…¶åˆ†æ•°å¯ä»¥è¯´æ˜¯precisionå’Œrecallçš„è°ƒå’Œå¹³å‡

### $F_Î²$ scoreğŸˆ

- A more general F score, $F_{\beta }$, that uses a positive real factor $\beta$, where $\beta$ is chosen such that recall is considered $\beta$ times as important as precision, is:

  - $$
    F_\beta = (1 + \beta^2) \cdot \frac{\mathrm{precision} \cdot \mathrm{recall}}{(\beta^2 \cdot \mathrm{precision}) + \mathrm{recall}}
    $$

  - $F_1$-Scoreå°±æ˜¯$\beta=1$æ—¶çš„$F_\beta$ä¸€ç§ç‰¹æ®Šæƒ…å†µ

- In terms of <u>Type I and type II errors</u> this becomes:(ç”¨TP/FN/FP)è¡¨ç¤º

  - $$
    F_\beta = \frac {(1 + \beta^2) \cdot \mathrm{true\ positive} }{(1 + \beta^2) \cdot \mathrm{true\ positive} + \beta^2 \cdot \mathrm{false\ negative} + \mathrm{false\ positive}}\,
    $$

- Two commonly used values for $\beta$ are 2, which weighs recall higher than precision, and 0.5, which weighs recall lower than precision.

## è°ƒå’Œå¹³å‡æ•°@harmonic mean

- è°ƒå’Œå¹³å‡æ•°ï¼ˆè‹±è¯­ï¼šharmonic meanï¼‰ï¼Œåœ¨æ•°å­¦ä¸­ï¼Œè°ƒå’Œå¹³å‡æ•°æ˜¯å‡ ç§å¹³å‡æ•°ä¹‹ä¸€ï¼Œç‰¹åˆ«çš„,æ˜¯æ¯•è¾¾å“¥æ‹‰æ–¯å¹³å‡æ•°ä¹‹ä¸€ã€‚å½“éœ€è¦è®¡ç®—å¹³å‡é€Ÿç‡æ—¶ï¼Œè°ƒå’Œå¹³å‡æ•°æ˜¯ä¸€ä¸ªåˆé€‚çš„é€‰æ‹©ã€‚In [mathematics](https://en.wikipedia.org/wiki/Mathematics), the **harmonic mean** is one of several kinds of [average](https://en.wikipedia.org/wiki/Average), and in particular, one of the [Pythagorean means](https://en.wikipedia.org/wiki/Pythagorean_means). It is sometimes appropriate for situations when the average [rate](https://en.wikipedia.org/wiki/Rate_(mathematics)) is desired.

- è°ƒå’Œå¹³å‡æ•°æ˜¯å°†<u>æ‰€æœ‰æ•°å€¼å–å€’æ•°</u>å¹¶æ±‚å…¶ç®—æœ¯å¹³å‡æ•°åï¼Œå†å°†æ­¤ç®—æœ¯å¹³å‡æ•°å–å€’æ•°è€Œå¾—ï¼Œå…¶ç»“æœç­‰äºæ•°å€¼çš„ä¸ªæ•°é™¤ä»¥æ•°å€¼å€’æ•°çš„æ€»å’Œã€‚

- ä¸€ç»„æ­£æ•°${\displaystyle x_{1},x_{2},\cdots ,x_{n}}$çš„è°ƒå’Œå¹³å‡æ•°$H$å…¶è®¡ç®—å…¬å¼ä¸ºï¼š

  - $$
    H={\frac  {n}{{\frac  {1}{x_{1}}}+{\frac  {1}{x_{2}}}+...+{\frac  {1}{x_{n}}}}}
    =({\frac{1}{n}{\sum _{{i=1}}^{n}{\frac  {1}{x_{i}}}}})^{-1}
    ={\frac  {n}{\sum _{{i=1}}^{n}{\frac  {1}{x_{i}}}}}
    $$

#### ç›´è§‚è§£é‡Šå’Œä¾‹å­

- å¯ä»¥å°†è°ƒå’Œå¹³å‡æ•°çœ‹ä½œæ˜¯ä¸€ç»„æ•°æ®çš„å€’æ•°çš„å¹³å‡å€¼ã€‚å¦‚æœä¸€ç»„æ•°æ®è¡¨ç¤ºçš„æ˜¯é€Ÿåº¦æˆ–è€…é¢‘ç‡ç­‰ä¸æ—¶é—´æœ‰å…³çš„ç‰©ç†é‡ï¼Œé‚£ä¹ˆå¯¹å®ƒä»¬æ±‚è°ƒå’Œå¹³å‡æ•°å¯ä»¥å¾—åˆ°å¹³å‡é€Ÿåº¦æˆ–å¹³å‡é¢‘ç‡ã€‚
- ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä¸€ä¸ªäººåœ¨å¾€è¿”ä¸¤åœ°çš„è·¯ä¸Šä»¥ 4m/s çš„é€Ÿåº¦å»ï¼Œä»¥ 6m/s çš„é€Ÿåº¦å›æ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªäººçš„å¹³å‡é€Ÿåº¦å°±å¯ä»¥ç”¨è¿™ä¸¤ä¸ªé€Ÿåº¦çš„è°ƒå’Œå¹³å‡æ•°è®¡ç®—å¾—å‡ºã€‚
  - æˆ‘ä»¬å¯ä»¥å…ˆä»å°å­¦çš„è§’åº¦è®¡ç®—è¿™ä¸ªæ¥å›å¹³å‡é€Ÿåº¦
  - è®¾A,Bä¸¤åœ°è·ç¦»ä¸ºS,ä»Aåˆ°Bä»¥$4m/s$çš„é€Ÿåº¦å‰è¿›,è€—æ—¶$t_1$;Båˆ°Açš„é€Ÿåº¦ä»¥$6m/s$é€Ÿåº¦å‰è¿›,è€—æ—¶$t_2$
  - åˆ™$S=4t_1=6t_2$
    - $t_1=\frac{1}{4}S$
    - $t_2=\frac{1}{6}S$
  - $\overline{v}=\frac{2S}{t_1+t_2}=\frac{2S}{\frac{1}{4}S+\frac{1}{6}S}$
    - $=\frac{24}{3+2}=4.8m/s$
  - å¦‚æœä¸ç¨åŠ æ€è€ƒ,å®¹æ˜“å¾—å‡ºå¹³å‡é€Ÿåº¦ä¸º$\frac{1}{2}(4+6)=5m/s$çš„é”™è¯¯ç»“è®º
    - å› ä¸º$t_1:t_2=3:2$,$t_1\neq{t_2}$,ä¸èƒ½å¤Ÿç›´æ¥è®¡ç®—é€Ÿåº¦çš„å¹³å‡å€¼
    - å¹¶ä¸”å¯¹æ¯”ä¸Šè¿°å½¢å¼,ç¬¦åˆè°ƒå’Œå¹³å‡æ•°çš„å½¢å¼
    - ç”±äºSä¼šè¢«æ¶ˆæ‰,æ‰€ä»¥å¯ä»¥è®¾è·¯ç¨‹ä¸º1,å¹¶ä¸”å°†ä¸¤ä¸ªé€Ÿåº¦è®¾ä¸º$x_1,x_2$,åˆ™$\overline{v}=\frac{S}{x_1^{-1}+x_2^{-1}}$



## ROCæ›²çº¿

- [Receiver operating characteristic - Wikipedia](https://en.wikipedia.org/wiki/Receiver_operating_characteristic)

  - åœ¨[ä¿¡å·æ£€æµ‹ç†è®º](https://zh.wikipedia.org/wiki/ä¿¡å·æ£€æµ‹ç†è®º)ä¸­ï¼Œ**æ¥æ”¶è€…æ“ä½œç‰¹å¾æ›²çº¿**ï¼Œæˆ–è€…å«**ROCæ›²çº¿**ï¼ˆè‹±è¯­ï¼šReceiver operating characteristic curveï¼‰ï¼Œæ˜¯ä¸€ç§åæ ‡å›¾å¼çš„åˆ†æå·¥å…·ï¼Œç”¨äºé€‰æ‹©æœ€ä½³çš„ä¿¡å·ä¾¦æµ‹æ¨¡å‹ã€èˆå¼ƒæ¬¡ä½³çš„æ¨¡å‹æˆ–è€…åœ¨åŒä¸€æ¨¡å‹ä¸­è®¾ç½®æœ€ä½³[é˜ˆå€¼](https://zh.wikipedia.org/wiki/é˜ˆå€¼)ã€‚
  - åœ¨åšå†³ç­–æ—¶ï¼ŒROCåˆ†æèƒ½ä¸å—æˆæœ¬ï¼æ•ˆç›Šçš„å½±å“ï¼Œç»™å‡ºå®¢è§‚ä¸­ç«‹çš„å»ºè®®ã€‚
  - æ•°åå¹´æ¥ï¼ŒROCåˆ†æè¢«ç”¨äº[åŒ»å­¦](https://zh.wikipedia.org/wiki/åŒ»å­¦)ã€[æ— çº¿ç”µ](https://zh.wikipedia.org/wiki/æ— çº¿ç”µ)ã€[ç”Ÿç‰©å­¦](https://zh.wikipedia.org/wiki/ç”Ÿç‰©å­¸)ã€[çŠ¯ç½ªå¿ƒç†å­¦](https://zh.wikipedia.org/wiki/çŠ¯ç½ªå¿ƒç†å­¸)é¢†åŸŸä¸­ï¼Œè€Œä¸”æœ€è¿‘åœ¨[æœºå™¨å­¦ä¹ ](https://zh.wikipedia.org/wiki/æœºå™¨å­¦ä¹ )ï¼ˆmachine learningï¼‰å’Œ[æ•°æ®æŒ–æ˜](https://zh.wikipedia.org/wiki/æ•°æ®æŒ–æ˜)ï¼ˆdata miningï¼‰é¢†åŸŸä¹Ÿå¾—åˆ°äº†å¾ˆå¥½çš„å‘å±•ã€‚

- ROCï¼ˆReceiver Operating Characteristicï¼‰æ›²çº¿æ˜¯ä¸€ç§ç”¨äºè¯„ä¼°äºŒåˆ†ç±»æ¨¡å‹æ€§èƒ½çš„å¯è§†åŒ–å·¥å…·ã€‚

- | é¢„æµ‹è¾“å‡º\çœŸå®å€¼ | P    | N    |
  | --------------- | ---- | ---- |
  | P'              | TP   | FP   |
  | N'              | FN   | TN   |

- ROCæ›²çº¿ï¼ˆReceiver Operating Characteristic Curveï¼‰æ˜¯ç”¨äºè¯„ä¼°äºŒåˆ†ç±»æ¨¡å‹æ€§èƒ½çš„å¸¸ç”¨å·¥å…·ï¼Œå®ƒå¯ä»¥å±•ç¤ºåœ¨ç»™å®šé˜ˆå€¼ä¸‹çœŸé˜³æ€§ç‡ï¼ˆtrue positive rateï¼ŒTPRï¼‰ä¸å‡é˜³æ€§ç‡ï¼ˆfalse positive rateï¼ŒFPRï¼‰ä¹‹é—´çš„å…³ç³»ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒTPRè¡¨ç¤ºæ‰€æœ‰æ­£ä¾‹ä¸­è¢«æ­£ç¡®é¢„æµ‹ä¸ºæ­£ä¾‹çš„æ¯”ä¾‹ï¼ŒFPRè¡¨ç¤ºæ‰€æœ‰è´Ÿä¾‹ä¸­è¢«é”™è¯¯é¢„æµ‹ä¸ºæ­£ä¾‹çš„æ¯”ä¾‹ã€‚

- ç‰¹å¼‚åº¦:specificity, selectivity or true negative rate (TNR)

  - ${\displaystyle \mathrm {TNR} ={\frac {\mathrm {TN} }{\mathrm {N} }}={\frac {\mathrm {TN} }{\mathrm {TN} +\mathrm {FP} }} }$

- åœ¨ROCæ›²çº¿ä¸Šï¼Œ

  - **æ¨ªè½´**è¡¨ç¤º**å‡**é˜³æ€§ç‡ï¼ˆFalse Positive Rateï¼ŒFPRï¼‰ï¼Œå³è¢«é”™è¯¯åœ°é¢„æµ‹ä¸ºæ­£ç±»çš„è´Ÿæ ·æœ¬æ•°(FP)å æ€»è´Ÿæ ·æœ¬æ•°(TN+FP)çš„æ¯”ä¾‹ï¼›
    - fall-out or false positive rate (FPR)
      ${\displaystyle \mathrm {FPR} ={\frac {\mathrm {FP} }{\mathrm {N} }}={\frac {\mathrm {FP} }{\mathrm {FP} +\mathrm {TN} }}=1-\mathrm {TNR} }$
    - è¿™åæ˜ çš„æ˜¯åˆ†ç±»å™¨å¯¹é˜´æ€§æ ·æœ¬é¢„æµ‹çš„é”™è¯¯ç‡(FPRçš„è®¡ç®—ä¸ä¾èµ–äºé˜³æ€§æ ·æœ¬çš„é¢„æµ‹æƒ…å†µ)
  - **çºµè½´**è¡¨ç¤º**çœŸ**é˜³æ€§ç‡ï¼ˆTrue Positive Rateï¼ŒTPRï¼‰ï¼Œå³è¢«æ­£ç¡®åœ°é¢„æµ‹ä¸ºæ­£ç±»çš„æ­£æ ·æœ¬æ•°å æ€»æ­£æ ·æœ¬æ•°çš„æ¯”ä¾‹ã€‚
    - sensitivity, **recall**, hit rate, or true positive rate (TPR)(å›å¬ç‡|å‘½ä¸­ç‡)
      ${\displaystyle \mathrm {TPR} ={\frac {\mathrm {TP} }{\mathrm {P} }}={\frac {\mathrm {TP} }{\mathrm {TP} +\mathrm {FN} }}=1-\mathrm {FNR} }$
    - åæ˜ åˆ†ç±»å™¨å¯¹é˜³æ€§æ ·æœ¬é¢„æµ‹çš„æ­£ç¡®ç‡(TPRçš„è®¡ç®—ä¸ä¾èµ–äºé˜´æ€§æ ·æœ¬çš„é¢„æµ‹æƒ…å†µ)

- ROCæ›²çº¿èƒ½å¤Ÿå±•ç¤ºåœ¨ä¸åŒçš„åˆ†ç±»é˜ˆå€¼ä¸‹ï¼Œæ¨¡å‹çš„çœŸé˜³æ€§ç‡å’Œå‡é˜³æ€§ç‡çš„å˜åŒ–æƒ…å†µï¼Œä»è€Œå¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£æ¨¡å‹åœ¨ä¸åŒé˜ˆå€¼ä¸‹çš„æ€§èƒ½è¡¨ç°ã€‚

### åˆ†æROCæ›²çº¿

- åœ¨ROCæ›²çº¿ä¸Šï¼Œç†æƒ³çš„åˆ†ç±»å™¨åº”è¯¥å°½å¯èƒ½åœ°é è¿‘å·¦ä¸Šè§’ï¼Œ**æ­¤æ—¶çœŸé˜³æ€§ç‡å¾ˆé«˜ï¼Œè€Œå‡é˜³æ€§ç‡å¾ˆä½**ã€‚

- å¦‚æœåˆ†ç±»å™¨åœ¨ROCæ›²çº¿ä¸Šçš„è¡¨ç°æ˜¯ä¸€æ¡ä»å·¦ä¸‹è§’åˆ°å³ä¸Šè§’çš„ç›´çº¿ï¼Œé‚£ä¹ˆå®ƒçš„é¢„æµ‹èƒ½åŠ›ç­‰åŒäºéšæœºçŒœæµ‹ï¼Œå³æ²¡æœ‰é¢„æµ‹èƒ½åŠ›ã€‚

- ä¸‹é¢æ˜¯å¦‚ä½•è§£è¯»ROCæ›²çº¿çš„æ­¥éª¤ï¼š

  1. è§‚å¯Ÿæ›²çº¿çš„å½¢çŠ¶ï¼šROCæ›²çº¿é€šå¸¸æ˜¯ä¸€ä¸ªäºŒç»´å›¾å½¢ï¼Œæ¨ªè½´è¡¨ç¤ºFPRï¼Œçºµè½´è¡¨ç¤ºTPRã€‚å¯ä»¥é€šè¿‡è§‚å¯Ÿæ›²çº¿çš„å½¢çŠ¶æ¥åˆæ­¥åˆ¤æ–­æ¨¡å‹çš„æ€§èƒ½ã€‚å¦‚æœæ›²çº¿æ¥è¿‘å·¦ä¸Šè§’ï¼Œè¯´æ˜æ¨¡å‹å…·æœ‰è¾ƒå¥½çš„æ€§èƒ½ï¼Œå¦‚æœæ›²çº¿æ¥è¿‘å¯¹è§’çº¿ï¼Œåˆ™è¯´æ˜æ¨¡å‹æ€§èƒ½è¾ƒå·®ã€‚
  2. æŸ¥çœ‹AUCå€¼ï¼šAUCï¼ˆArea Under the Curveï¼‰æ˜¯ROCæ›²çº¿ä¸‹çš„é¢ç§¯ï¼Œå…¶å–å€¼èŒƒå›´æ˜¯0åˆ°1ï¼ŒAUCå€¼è¶Šå¤§ï¼Œæ¨¡å‹çš„æ€§èƒ½è¶Šå¥½ã€‚é€šå¸¸å°†AUCå€¼å¤§äº0.5çš„æ¨¡å‹è§†ä¸ºæœ‰ä¸€å®šé¢„æµ‹èƒ½åŠ›ã€‚
  3. ç¡®å®šæœ€ä½³é˜ˆå€¼ï¼šROCæ›²çº¿å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°æœ€ä½³çš„é˜ˆå€¼ã€‚åœ¨ROCæ›²çº¿ä¸Šï¼Œæœ€ä½³é˜ˆå€¼æ˜¯æŒ‡**è·ç¦»å·¦ä¸Šè§’æœ€è¿‘çš„ç‚¹**ï¼Œé€šå¸¸å¯ä»¥é€šè¿‡å°†ä¸åŒé˜ˆå€¼ä¸‹çš„TPRå’ŒFPRç”»åœ¨ROCæ›²çº¿ä¸Šæ¥ç¡®å®šæœ€ä½³é˜ˆå€¼ã€‚
  4. æ¯”è¾ƒä¸åŒæ¨¡å‹ï¼šROCæ›²çº¿å¯ä»¥ç”¨äºæ¯”è¾ƒä¸åŒæ¨¡å‹çš„æ€§èƒ½ã€‚å¦‚æœä¸¤ä¸ªæ¨¡å‹çš„ROCæ›²çº¿éƒ½æ¥è¿‘å·¦ä¸Šè§’ï¼Œä½†ä¸€ä¸ªæ¨¡å‹çš„ROCæ›²çº¿åœ¨å¦ä¸€ä¸ªæ¨¡å‹çš„ä¸Šæ–¹ï¼Œé‚£ä¹ˆå¯ä»¥è®¤ä¸ºå‰è€…çš„æ€§èƒ½æ›´å¥½ã€‚

- æ€»ä¹‹ï¼ŒROCæ›²çº¿å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¯„ä¼°æ¨¡å‹çš„æ€§èƒ½ã€æ‰¾åˆ°æœ€ä½³é˜ˆå€¼ã€æ¯”è¾ƒä¸åŒæ¨¡å‹çš„æ€§èƒ½ç­‰ã€‚åŒæ—¶ï¼ŒROCæ›²çº¿ä¹Ÿå…·æœ‰å¯è§†åŒ–çš„ç‰¹ç‚¹ï¼Œå¯ä»¥ç›´è§‚åœ°å±•ç¤ºæ¨¡å‹çš„æ€§èƒ½ã€‚

- ROCï¼ˆReceiver Operating Characteristicï¼‰æ›²çº¿æ˜¯ä¸€ç§ç”¨äºè¯„ä¼°åˆ†ç±»æ¨¡å‹æ€§èƒ½çš„å·¥å…·ã€‚é€šè¿‡æ”¹å˜åˆ†ç±»å™¨çš„é˜ˆå€¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ç³»åˆ—ä¸åŒçš„çœŸé˜³æ€§ç‡ï¼ˆTrue Positive Rateï¼ŒTPRï¼‰å’Œå‡é˜³æ€§ç‡ï¼ˆFalse Positive Rateï¼ŒFPRï¼‰ç»„åˆï¼Œä»è€Œç»˜åˆ¶å‡ºROCæ›²çº¿ã€‚ROCæ›²çº¿ä¸‹çš„é¢ç§¯ï¼ˆArea Under the Curveï¼ŒAUCï¼‰å¯ä»¥ç”¨æ¥è¡¡é‡åˆ†ç±»å™¨çš„æ•´ä½“æ€§èƒ½ã€‚

- æ‰¾åˆ°ROCæ›²çº¿ä¸Šçš„æœ€ä½³é˜ˆå€¼æ„å‘³ç€åœ¨è¿™ä¸ªé˜ˆå€¼ä¸‹ï¼Œåˆ†ç±»å™¨çš„æ€§èƒ½è¾¾åˆ°äº†æŸç§æœ€ä¼˜ã€‚è¿™ä¸ªæœ€ä¼˜å¯ä»¥æ˜¯æ ¹æ®æŸç§æ ‡å‡†ï¼Œä¾‹å¦‚æœ€å°åŒ–é”™è¯¯ç‡ã€æœ€å¤§åŒ–æ­£ç¡®ç‡ã€æœ€å¤§åŒ–å‡†ç¡®ç‡ç­‰ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œç¡®å®šæœ€ä½³é˜ˆå€¼é€šå¸¸éœ€è¦æ ¹æ®é—®é¢˜çš„å…·ä½“éœ€æ±‚æ¥å†³å®šã€‚

  æœ€ä½³é˜ˆå€¼çš„æ„ä¹‰ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š

  1. **å¹³è¡¡TPRå’ŒFPR**ï¼šåœ¨ä¸åŒçš„é˜ˆå€¼ä¸‹ï¼ŒTPRå’ŒFPRçš„å€¼ä¼šå‘ç”Ÿå˜åŒ–ã€‚æ‰¾åˆ°æœ€ä½³é˜ˆå€¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨è¿™ä¸¤è€…ä¹‹é—´æ‰¾åˆ°ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œä»è€Œå®ç°åœ¨æŸç§æ„ä¹‰ä¸Šçš„æœ€ä¼˜æ€§èƒ½ã€‚
  2. **è°ƒæ•´åˆ†ç±»å™¨æ€§èƒ½**ï¼šé€šè¿‡æ”¹å˜é˜ˆå€¼ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒæ•´åˆ†ç±»å™¨çš„çµæ•åº¦å’Œç‰¹å¼‚æ€§ï¼Œä½¿å…¶é€‚åº”ä¸åŒçš„åº”ç”¨åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›é™ä½FPRï¼Œå³ä½¿è¿™æ„å‘³ç€TPRä¹Ÿä¼šé™ä½ã€‚é€šè¿‡æ‰¾åˆ°æœ€ä½³é˜ˆå€¼ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°è¿™ç§éœ€æ±‚ã€‚
  3. **è¯„ä¼°æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›**ï¼šæœ€ä½³é˜ˆå€¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¯„ä¼°åˆ†ç±»å™¨åœ¨æ–°çš„æ•°æ®é›†ä¸Šçš„æ€§èƒ½ã€‚å¦‚æœä¸€ä¸ªæ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šçš„æœ€ä½³é˜ˆå€¼åœ¨æµ‹è¯•é›†ä¸Šä¹Ÿèƒ½å–å¾—è¾ƒå¥½çš„æ€§èƒ½ï¼Œè¯´æ˜è¯¥æ¨¡å‹å…·æœ‰è¾ƒå¥½çš„æ³›åŒ–èƒ½åŠ›ã€‚
  4. **æŒ‡å¯¼æ¨¡å‹ä¼˜åŒ–**ï¼šæœ€ä½³é˜ˆå€¼å¯ä»¥ä¸ºæˆ‘ä»¬æä¾›æœ‰å…³æ¨¡å‹æ€§èƒ½çš„ä¿¡æ¯ï¼Œä»è€ŒæŒ‡å¯¼æˆ‘ä»¬è¿›è¡Œè¿›ä¸€æ­¥çš„æ¨¡å‹ä¼˜åŒ–ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®æœ€ä½³é˜ˆå€¼çš„å˜åŒ–æ¥è°ƒæ•´æ¨¡å‹çš„å‚æ•°ï¼Œä»¥å®ç°æ›´å¥½çš„æ€§èƒ½ã€‚

### AUC

- ROCæ›²çº¿ä¸‹é¢ç§¯ï¼ˆArea Under Curveï¼ŒAUCï¼‰ä¹Ÿæ˜¯è¯„ä¼°æ¨¡å‹æ€§èƒ½çš„ä¸€ä¸ªé‡è¦æŒ‡æ ‡ï¼ŒAUCçš„å–å€¼èŒƒå›´åœ¨0.5åˆ°1ä¹‹é—´ï¼ŒAUCè¶Šæ¥è¿‘1ï¼Œè¡¨ç¤ºæ¨¡å‹æ€§èƒ½è¶Šå¥½ã€‚

#### ä¾‹

- **åˆ†ç±»æ¨¡å‹**ï¼ˆåˆç§°[åˆ†ç±»å™¨](https://zh.wikipedia.org/w/index.php?title=åˆ†ç±»å™¨&action=edit&redlink=1)ï¼Œæˆ–[è¯Šæ–­](https://zh.wikipedia.org/wiki/è¨ºæ–·)ï¼‰æ˜¯å°†ä¸€ä¸ªå®ä¾‹æ˜ å°„åˆ°ä¸€ä¸ªç‰¹å®šç±»çš„è¿‡ç¨‹ã€‚

- ROCåˆ†æçš„æ˜¯[äºŒå…ƒåˆ†ç±»æ¨¡å‹](https://zh.wikipedia.org/w/index.php?title=äºŒå…ƒåˆ†é¡æ¨¡å‹&action=edit&redlink=1)ï¼Œä¹Ÿå°±æ˜¯è¾“å‡ºç»“æœåªæœ‰ä¸¤ç§ç±»åˆ«çš„æ¨¡å‹ï¼Œä¾‹å¦‚ï¼šï¼ˆé˜³æ€§ï¼é˜´æ€§ï¼‰ï¼ˆæœ‰ç—…ï¼æ²¡ç—…ï¼‰ï¼ˆåƒåœ¾é‚®ä»¶ï¼éåƒåœ¾é‚®ä»¶ï¼‰ï¼ˆæ•Œå†›ï¼éæ•Œå†›ï¼‰ã€‚

- å½“**ä¿¡å·ä¾¦æµ‹**ï¼ˆæˆ–**å˜é‡æµ‹é‡**ï¼‰çš„ç»“æœæ˜¯ä¸€ä¸ª[è¿ç»­å€¼](https://zh.wikipedia.org/w/index.php?title=é€£çºŒå€¼&action=edit&redlink=1)æ—¶ï¼Œç±»ä¸ç±»çš„è¾¹ç•Œå¿…é¡»ç”¨ä¸€ä¸ª[é˜ˆå€¼](https://zh.wikipedia.org/wiki/é˜ˆå€¼)ï¼ˆè‹±è¯­ï¼šthresholdï¼‰æ¥ç•Œå®šã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œç”¨è¡€å‹å€¼æ¥æ£€æµ‹ä¸€ä¸ªäººæ˜¯å¦æœ‰[é«˜è¡€å‹](https://zh.wikipedia.org/wiki/é«˜è¡€å‹)ï¼Œæµ‹å‡ºçš„è¡€å‹å€¼æ˜¯è¿ç»­çš„å®æ•°ï¼ˆä»0~200éƒ½æœ‰å¯èƒ½ï¼‰ï¼Œä»¥æ”¶ç¼©å‹140ï¼èˆ’å¼ å‹90ä¸ºé˜ˆå€¼ï¼Œé˜ˆå€¼ä»¥ä¸Šä¾¿è¯Šæ–­ä¸ºæœ‰é«˜è¡€å‹ï¼Œé˜ˆå€¼æœªæ»¡è€…è¯Šæ–­ä¸ºæ— é«˜è¡€å‹ã€‚äºŒå…ƒåˆ†ç±»æ¨¡å‹çš„ä¸ªæ¡ˆé¢„æµ‹æœ‰å››ç§ç»“å±€ï¼š
  1. **çœŸé˜³æ€§**ï¼ˆTPï¼‰ï¼š**è¯Šæ–­ä¸ºæœ‰**ï¼Œ**å®é™…ä¸Šä¹Ÿæœ‰**é«˜è¡€å‹ã€‚
  2. **ä¼ªé˜³æ€§**ï¼ˆFPï¼‰ï¼š**è¯Šæ–­ä¸ºæœ‰**ï¼Œ**å®é™…å´æ²¡æœ‰**é«˜è¡€å‹ã€‚
  3. **çœŸé˜´æ€§**ï¼ˆTNï¼‰ï¼š**è¯Šæ–­ä¸ºæ²¡æœ‰**ï¼Œ**å®é™…ä¸Šä¹Ÿæ²¡æœ‰**é«˜è¡€å‹ã€‚
  4. **ä¼ªé˜´æ€§**ï¼ˆFNï¼‰ï¼š**è¯Šæ–­ä¸ºæ²¡æœ‰**ï¼Œ**å®é™…å´æœ‰**é«˜è¡€å‹ã€‚

### sklearn_demo

- ```python
  from sklearn.datasets import make_classification
  from sklearn.model_selection import train_test_split
  from sklearn.linear_model import LogisticRegression
  from sklearn.metrics import roc_curve, roc_auc_score
  import matplotlib.pyplot as plt
  
  # ç”Ÿæˆä¸€ä¸ªäºŒåˆ†ç±»æ•°æ®é›†
  X, y = make_classification(n_samples=1000, n_classes=2, random_state=1)
  
  # å°†æ•°æ®é›†åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†
  X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=1)
  
  # è®­ç»ƒé€»è¾‘å›å½’æ¨¡å‹
  lr = LogisticRegression()
  lr.fit(X_train, y_train)
  
  # é¢„æµ‹æµ‹è¯•é›†
  y_pred_prob = lr.predict_proba(X_test)[:, 1]
  
  # è®¡ç®—ROCæ›²çº¿å’ŒAUC
  fpr, tpr, thresholds = roc_curve(y_test, y_pred_prob)
  auc = roc_auc_score(y_test, y_pred_prob)
  
  # ç»˜åˆ¶ROCæ›²çº¿
  plt.plot(fpr, tpr, label='ROC curve (area = %0.2f)' % auc)
  plt.plot([0, 1], [0, 1], 'k--')
  plt.xlim([0.0, 1.05])
  plt.ylim([0.0, 1.05])
  plt.xlabel('False Positive Rate')
  plt.ylabel('True Positive Rate')
  plt.title('Receiver operating characteristic')
  plt.legend(loc="lower right")
  plt.show()
  ```

  - åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†make_classificationå‡½æ•°ç”Ÿæˆäº†ä¸€ä¸ªäºŒåˆ†ç±»æ•°æ®é›†ï¼Œç„¶åå°†æ•°æ®é›†åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚æ¥ç€ï¼Œæˆ‘ä»¬è®­ç»ƒäº†ä¸€ä¸ªé€»è¾‘å›å½’æ¨¡å‹ï¼Œå¹¶åœ¨æµ‹è¯•é›†ä¸Šè¿›è¡Œäº†é¢„æµ‹ã€‚
  - ä½¿ç”¨roc_curveå‡½æ•°è®¡ç®—äº†ROCæ›²çº¿çš„å‡æ­£ç‡ï¼ˆfalse positive rateï¼‰å’ŒçœŸæ­£ç‡ï¼ˆtrue positive rateï¼‰ï¼Œå¹¶ä½¿ç”¨roc_auc_scoreå‡½æ•°è®¡ç®—äº†AUCã€‚
  - æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨Matplotlibç»˜åˆ¶ROCæ›²çº¿ï¼Œå¹¶åœ¨å›¾ä¾‹ä¸­æ˜¾ç¤ºAUCçš„å€¼ã€‚

