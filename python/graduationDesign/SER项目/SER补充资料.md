[toc]

### è¯­è°±å›¾@åŠŸç‡è°±å›¾

- åŠŸç‡è°±å›¾å’Œè¯­è°±å›¾éƒ½æ˜¯æ˜¾ç¤ºä¿¡å·é¢‘ç‡å†…å®¹çš„å›¾å½¢ï¼Œä½†å®ƒä»¬çš„<u>è®¡ç®—æ–¹æ³•å’Œè¡¨ç¤ºæ–¹å¼</u>ä¸åŒã€‚
- åŠŸç‡è°±å›¾æ˜¯é€šè¿‡è®¡ç®—çŸ­æ—¶å‚…é‡Œå¶å˜æ¢(STFT)ç­‰æŠ€æœ¯ï¼Œå°†ä¿¡å·åœ¨ä¸åŒæ—¶é—´ç‚¹ä¸Šçš„**åŠŸç‡è°±å¯†åº¦**è¡¨ç¤ºä¸ºäºŒç»´å›¾åƒ
  - å…¶ä¸­æ¨ªè½´è¡¨ç¤ºæ—¶é—´ï¼Œçºµè½´è¡¨ç¤ºé¢‘ç‡ï¼Œé¢œè‰²æˆ–ç°åº¦è¡¨ç¤º**åŠŸç‡å¤§å°**ã€‚
- è¯­è°±å›¾åˆ™æ˜¯å°†ä¿¡å·åˆ†æˆä¸€æ®µä¸€æ®µçš„**çŸ­æ—¶çª—å£**ï¼Œå¹¶å¯¹æ¯ä¸ªçª—å£è¿›è¡Œå‚…é‡Œå¶å˜æ¢(FT)ï¼Œç„¶åå°†æ¯ä¸ªçª—å£çš„é¢‘è°±è¡¨ç¤ºä¸ºäºŒç»´å›¾åƒ
  - å…¶ä¸­æ¨ªè½´è¡¨ç¤ºæ—¶é—´ï¼Œçºµè½´è¡¨ç¤ºé¢‘ç‡ï¼Œé¢œè‰²æˆ–ç°åº¦è¡¨ç¤º**é¢‘è°±å¼ºåº¦**ã€‚
  - è¯­è°±å›¾å¸¸ç”¨äºè¯­éŸ³ä¿¡å·å¤„ç†ä¸­ï¼Œç”¨äºåˆ†æå’Œå¯è§†åŒ–è¯­éŸ³çš„é¢‘ç‡å’Œå£°è°±ä¿¡æ¯ã€‚
- å› æ­¤ï¼ŒåŠŸç‡è°±å›¾å’Œè¯­è°±å›¾éƒ½æ˜¯ç”¨äºåˆ†æä¿¡å·é¢‘ç‡å†…å®¹çš„å›¾å½¢ï¼Œä½†åŠŸç‡è°±å›¾æ›´æ³¨é‡æ˜¾ç¤ºä¿¡å·çš„**åŠŸç‡åˆ†å¸ƒ**ï¼Œè€Œè¯­è°±å›¾æ›´æ³¨é‡æ˜¾ç¤ºä¿¡å·çš„**é¢‘è°±åˆ†å¸ƒ**ã€‚

### è°±å¯†åº¦@åŠŸç‡è°±å¯†åº¦

- [è°±å¯†åº¦  (wikipedia.org)](https://zh.wikipedia.org/wiki/è°±å¯†åº¦)
- [Spectral density - Wikipedia](https://en.wikipedia.org/wiki/Spectral_density)

- æ—¶é—´åºåˆ— $x(t)$ çš„åŠŸç‡è°± ${\displaystyle S_{xx}(f)}$ æè¿°äº†ä¿¡å·åŠŸç‡åœ¨**é¢‘åŸŸ**çš„åˆ†å¸ƒçŠ¶å†µã€‚
- å¯¹ç‰¹å®šä¿¡å·æˆ–ç‰¹å®šç§ç±»ä¿¡å·ï¼ˆåŒ…æ‹¬å™ªå£°ï¼‰<u>é¢‘ç‡å†…å®¹çš„åˆ†æçš„ç»Ÿè®¡å¹³å‡</u>ï¼Œç§°ä½œå…¶**é¢‘è°±**ã€‚
- æ ¹æ®å‚…é‡Œå¶åˆ†æï¼Œä»»ä½•ç‰©ç†ä¿¡å·éƒ½å¯ä»¥åˆ†è§£æˆä¸€äº›ç¦»æ•£é¢‘ç‡æˆ–è¿ç»­èŒƒå›´çš„**é¢‘è°±**ã€‚
- å½“ä¿¡å·çš„èƒ½é‡é›†ä¸­åœ¨ä¸€ä¸ªæœ‰é™æ—¶é—´åŒºé—´çš„æ—¶å€™ï¼Œå°¤å…¶æ˜¯æ€»èƒ½é‡æ˜¯æœ‰é™çš„ï¼Œå°±å¯ä»¥è®¡ç®—èƒ½é‡**è°±å¯†åº¦**ã€‚
- æ›´å¸¸ç”¨çš„æ˜¯åº”ç”¨äºåœ¨æ‰€æœ‰æ—¶é—´æˆ–å¾ˆé•¿ä¸€æ®µæ—¶é—´éƒ½å­˜åœ¨çš„ä¿¡å·çš„**åŠŸç‡è°±å¯†åº¦**ã€‚
  - ç”±äºæ­¤ç§æŒç»­å­˜åœ¨çš„ä¿¡å·çš„æ€»èƒ½é‡æ˜¯**æ— ç©·å¤§**ï¼Œ<u>åŠŸç‡è°±å¯†åº¦ï¼ˆè‹±è¯­ï¼šPower Spectral Densityï¼Œç¼©å†™PSDï¼‰</u>åˆ™æ˜¯æŒ‡å•ä½æ—¶é—´çš„**é¢‘è°±èƒ½é‡åˆ†å¸ƒ**ã€‚
- ç‰©ç†è¿‡ç¨‹ ${\displaystyle x(t)}$ çš„**é¢‘è°±**é€šå¸¸åŒ…å«ä¸ $x$ çš„æ€§è´¨ç›¸å…³çš„å¿…è¦ä¿¡æ¯ã€‚æ¯”å¦‚ï¼Œå¯ä»¥ä»é¢‘è°±åˆ†æç›´æ¥ç¡®å®šä¹å™¨çš„**éŸ³é«˜å’ŒéŸ³è‰²**ã€‚ç”µç£æ³¢ç”µåœº ${\displaystyle E(t)}$ çš„é¢‘è°±å¯ä»¥ç¡®å®šå…‰æºçš„é¢œè‰²ã€‚
- ä»è¿™äº›æ—¶é—´åºåˆ—ä¸­å¾—åˆ°é¢‘è°±å°±æ¶‰åŠåˆ°å‚…é‡Œå¶å˜æ¢ä»¥åŠåŸºäºå‚…é‡Œå¶åˆ†æçš„æ¨å¹¿ã€‚è®¸å¤šæƒ…å†µä¸‹æ—¶é—´åŸŸä¸ä¼šå…·ä½“ç”¨åœ¨å®è·µä¸­ï¼Œæ¯”å¦‚åœ¨æ‘„è°±ä»ªç”¨æ•£å°„æ£±é•œæ¥å¾—åˆ°å…‰è°±ï¼Œæˆ–åœ¨å£°éŸ³é€šè¿‡å†…è€³çš„å¬è§‰æ„Ÿå—å™¨ä¸Šçš„æ•ˆåº”æ¥æ„ŸçŸ¥çš„è¿‡ç¨‹ï¼Œæ‰€æœ‰è¿™äº›éƒ½æ˜¯å¯¹ç‰¹å®šé¢‘ç‡æ•æ„Ÿçš„ã€‚
- The <u>power spectrum</u>(åŠŸç‡è°±) $S_{{xx}}(f)$ of a time series $x(t)$ describes <u>the distribution of power into frequency components composing that signal</u>(æè¿°äº†ä¿¡å·åŠŸç‡åœ¨é¢‘åŸŸçš„åˆ†å¸ƒçŠ¶å†µ;æ„æˆä¿¡å·çš„é¢‘ç‡åˆ†é‡çš„åŠŸç‡çš„åˆ†å¸ƒ). According to Fourier analysis, any physical signal can be decomposed into a number of discrete frequencies, or a spectrum of frequencies over a continuous range. The statistical average of a certain signal or sort of signal (including noise) as analyzed in terms of its frequency content, is called its spectrum.
  When the energy of the signal is concentrated around a finite time interval, especially if its total energy is finite, one may compute the energy spectral density. More commonly used is the power spectral density (or simply power spectrum), which applies to signals existing over all time, or over a time period large enough (especially in relation to the duration of a measurement) that it could as well have been over an infinite time interval. The power spectral density (PSD) then refers to the spectral energy distribution that would be found per unit time, since the total energy of such a signal over all time would generally be infinite. Summation or integration of the spectral components yields the total power (for a physical process) or variance (in a statistical process), identical to what would be obtained by integrating ${\displaystyle x^{2}(t)}$ over the time domain, as dictated by Parseval's theorem.
- The spectrum of a physical process $x(t)$ often contains essential information about the nature of $x$. For instance, the pitch and timbre of a musical instrument are immediately determined from a spectral analysis. The color of a light source is determined by the spectrum of the electromagnetic wave's electric field $E(t)$ as it fluctuates at an extremely high frequency. Obtaining a spectrum from time series such as these involves the Fourier transform, and generalizations based on Fourier analysis. In many cases the time domain is not specifically employed in practice, such as when a dispersive prism is used to obtain a spectrum of light in a spectrograph, or when a sound is perceived through its effect on the auditory receptors of the inner ear, each of which is sensitive to a particular frequency.
  However this article concentrates on situations in which the time series is known (at least in a statistical sense) or directly measured (such as by a microphone sampled by a computer). The power spectrum is important in statistical signal processing and in the statistical study of stochastic processes, as well as in many other branches of physics and engineering. Typically the process is a function of time, but one can similarly discuss data in the spatial domain being decomposed in terms of spatial frequency.[1]

### åŠŸç‡è°±å¯†åº¦

- å¯¹äºä¸€ä¸ªä¿¡å·$x(t)$ï¼Œå®ƒçš„**åŠŸç‡è°±å¯†åº¦**$S(f)$å¯ä»¥è¡¨ç¤ºä¸ºï¼š

  - $S(f) = |X(f)|^2$

  - å…¶ä¸­ï¼Œ$X(f)$æ˜¯ä¿¡å·åœ¨é¢‘ç‡$f$å¤„çš„å‚…é‡Œå¶å˜æ¢å€¼ã€‚

  - åŠŸç‡å’Œé¢‘è°±å¼ºåº¦éƒ½æ˜¯ç”¨äºæè¿°**ä¿¡å·èƒ½é‡å¤§å°**çš„æŒ‡æ ‡ï¼Œä½†åŠŸç‡æ˜¯ä¸€ä¸ªæ—¶é—´åŸŸçš„æŒ‡æ ‡ï¼Œæè¿°çš„æ˜¯ä¿¡å·çš„å¹³å‡èƒ½é‡ï¼›è€Œé¢‘è°±å¼ºåº¦æ˜¯ä¸€ä¸ªé¢‘åŸŸçš„æŒ‡æ ‡ï¼Œæè¿°çš„æ˜¯ä¿¡å·åœ¨ä¸åŒé¢‘ç‡ä¸Šçš„èƒ½é‡åˆ†å¸ƒã€‚

- åŠŸç‡è°±å¯†åº¦æ˜¯ä¸€ç§ç”¨äºæè¿°ä¿¡å·é¢‘åŸŸç‰¹å¾çš„æµ‹é‡æ–¹æ³•ï¼Œå®ƒè¡¨ç¤ºä¿¡å·åœ¨ä¸åŒé¢‘ç‡ä¸Šçš„åŠŸç‡åˆ†å¸ƒã€‚
- åœ¨ä¿¡å·å¤„ç†ä¸­ï¼ŒåŠŸç‡è°±å¯†åº¦é€šå¸¸ç”¨äºåˆ†æä¿¡å·çš„é¢‘ç‡å†…å®¹ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£å’Œå¤„ç†ä¿¡å·ã€‚
- åŠŸç‡è°±å¯†åº¦çš„è®¡ç®—åŸºäºå‚…é‡Œå¶å˜æ¢ï¼Œå®ƒå°†ä¿¡å·ä»æ—¶é—´åŸŸè½¬æ¢ä¸ºé¢‘ç‡åŸŸã€‚
- å¯¹äºä¸€ä¸ªä¿¡å·ï¼Œå®ƒçš„åŠŸç‡è°±å¯†åº¦æè¿°äº†åœ¨æ¯ä¸ªé¢‘ç‡ä¸Šçš„ä¿¡å·åŠŸç‡çš„å¤§å°ã€‚
  - åŠŸç‡è°±å¯†åº¦çš„å•ä½é€šå¸¸æ˜¯<u>åŠŸç‡æ¯èµ«å…¹</u>ï¼ˆW/Hzï¼‰ç­‰ã€‚
- åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒåŠŸç‡è°±å¯†åº¦å¯ä»¥ç”¨äºè®¸å¤šé¢†åŸŸï¼Œä¾‹å¦‚éŸ³é¢‘å¤„ç†ã€é€šä¿¡ç³»ç»Ÿã€åœ°éœ‡å­¦ã€ç”Ÿç‰©åŒ»å­¦å·¥ç¨‹ç­‰ã€‚åœ¨éŸ³é¢‘å¤„ç†ä¸­ï¼ŒåŠŸç‡è°±å¯†åº¦å¸¸ç”¨äºéŸ³é¢‘ä¿¡å·çš„é¢‘åŸŸåˆ†æå’Œå¯è§†åŒ–ï¼Œä¾‹å¦‚åŠŸç‡è°±å›¾å’Œé¢‘è°±åˆ†æã€‚åœ¨é€šä¿¡ç³»ç»Ÿä¸­ï¼ŒåŠŸç‡è°±å¯†åº¦ç”¨äºè¡¡é‡ä¿¡é“ä¸Šçš„å™ªå£°å’Œå¹²æ‰°ï¼Œä»¥åŠè®¾è®¡æ•°å­—ä¿¡å·å¤„ç†æ»¤æ³¢å™¨ã€‚



## Chromagram

- [Chroma feature - Wikipedia](https://en.wikipedia.org/wiki/Chroma_feature)
- "Chromagram"å¯ä»¥ç¿»è¯‘ä¸º"è‰²åº¦å›¾"ï¼Œè¿™ä¸ªæœ¯è¯­æ˜¯ç”±éŸ³ä¹ä¿¡æ¯å¤„ç†é¢†åŸŸçš„ä¸“å®¶æ‰€åˆ›é€ çš„ã€‚
- å°†éŸ³ç¬¦å’Œå’Œå¼¦ç”¨é¢œè‰²æ¥è¡¨ç¤ºæ˜¯ä¸€ç§ç›´è§‚è€Œæœ‰æ•ˆçš„æ–¹å¼ã€‚"Chroma"è¿™ä¸ªå•è¯æ¥æºäºå¸Œè…Šè¯­ï¼Œæ„ä¸ºâ€œè‰²å½©â€ï¼ŒåŠ ä¸Š"-gram"ååˆ™è¡¨ç¤ºä»¥å›¾å½¢çš„æ–¹å¼å‘ˆç°æŸç§ç‰¹å®šçš„ä¿¡æ¯ã€‚å› æ­¤ï¼ŒChromagramå°±æ˜¯ä¸€ç§é€šè¿‡é¢œè‰²æ¥å±•ç¤ºéŸ³ä¹ä¿¡å·ä¸­éŸ³é«˜ä¿¡æ¯çš„å›¾å½¢ã€‚

- In Western [music](https://en.wikipedia.org/wiki/Music), the term ***chroma feature*** or ***chromagram*** closely relates to the twelve different [pitch classes](https://en.wikipedia.org/wiki/Pitch_classes). 
- Chroma-based features, which are also referred to as "[pitch class profiles](https://en.wikipedia.org/wiki/Harmonic_pitch_class_profiles)", are a powerful tool for analyzing music whose pitches can be meaningfully categorized (often into twelve categories) and whose tuning approximates to the [equal-tempered scale](https://en.wikipedia.org/wiki/Equal_temperament). 
- One main property of chroma features is that they capture **harmonic** and **melodic** characteristics of music, while being robust to changes in **timbre**(the character or quality of a musical sound or voice as distinct from its pitch and intensity) and **instrumentation**.
- åœ¨è¥¿æ–¹éŸ³ä¹ä¸­ï¼Œâ€œè‰²åº¦ç‰¹å¾â€æˆ–â€œè‰²åº¦å›¾â€ä¸€è¯ä¸åäºŒä¸ªä¸åŒçš„éŸ³é«˜çº§åˆ«å¯†åˆ‡ç›¸å…³ã€‚åŸºäºè‰²åº¦çš„ç‰¹å¾ï¼Œä¹Ÿç§°ä¸ºâ€œéŸ³é«˜çº§åˆ«é…ç½®æ–‡ä»¶â€ï¼Œæ˜¯åˆ†æé‚£äº›å¯ä»¥è¢«æœ‰æ„ä¹‰åœ°åˆ†ç±»ï¼ˆé€šå¸¸åˆ†ä¸ºåäºŒä¸ªç±»åˆ«ï¼‰å¹¶ä¸”è°ƒè°è¿‘ä¼¼äºå‡åˆ†éŸ³é˜¶çš„éŸ³ä¹çš„å¼ºå¤§å·¥å…·ã€‚
- è‰²åº¦ç‰¹å¾çš„ä¸€ä¸ªä¸»è¦å±æ€§æ˜¯æ•æ‰éŸ³ä¹çš„**å’Œå£°**å’Œ**æ—‹å¾‹**ç‰¹ç‚¹ï¼ŒåŒæ—¶å¯¹éŸ³è‰²å’Œä¹å™¨å˜åŒ–å…·æœ‰é²æ£’æ€§ã€‚é€šè¿‡è®¡ç®—éŸ³ä¹ä¿¡å·çš„è‰²åº¦ç‰¹å¾ï¼Œæˆ‘ä»¬å¯ä»¥æ•æ‰åˆ°è¯¥ä¿¡å·ä¸­éŸ³é«˜çº§åˆ«çš„åˆ†å¸ƒä¿¡æ¯ï¼Œè¿™å¯ä»¥ç”¨äºåˆ†æå…¶å’Œå£°å’Œæ—‹å¾‹å†…å®¹ã€‚æ­¤å¤–ï¼Œè‰²åº¦ç‰¹å¾é€šå¸¸ä¸å…¶ä»–éŸ³é¢‘ç‰¹å¾ï¼ˆå¦‚éŸ³è‰²æˆ–èŠ‚å¥ï¼‰ç»“åˆä½¿ç”¨ï¼Œä»¥åˆ›å»ºæ›´å…¨é¢çš„éŸ³ä¹ä¿¡å·è¡¨ç¤ºã€‚

### éŸ³é¢‘@éŸ³è‰²@éŸ³é«˜

- éŸ³é¢‘:audio
- éŸ³è‰²:timbre
- éŸ³é«˜:pitch

## ç‰¹å¾æå–

### csvæ ¼å¼

- CSVæ˜¯ä¸€ç§ç®€å•çš„æ–‡ä»¶æ ¼å¼ï¼Œç”¨äºå­˜å‚¨è¡¨æ ¼æ•°æ®ã€‚CSVæ˜¯Comma-Separated Valuesï¼ˆé€—å·åˆ†éš”å€¼ï¼‰çš„ç¼©å†™ï¼Œå®ƒçš„æ–‡ä»¶æ ¼å¼éå¸¸ç®€å•ï¼ŒåªåŒ…å«çº¯æ–‡æœ¬æ•°æ®ï¼Œæ¯è¡Œè¡¨ç¤ºä¸€æ¡è®°å½•ï¼Œæ¯æ¡è®°å½•ç”±è‹¥å¹²ä¸ªå­—æ®µç»„æˆï¼Œå­—æ®µä¹‹é—´ä½¿ç”¨é€—å·åˆ†éš”ã€‚é€šå¸¸ï¼Œæ¯æ¡è®°å½•çš„å­—æ®µæ•°æ˜¯ç›¸åŒçš„ï¼Œä¸”å­—æ®µé¡ºåºæ˜¯å›ºå®šçš„ã€‚

  CSVæ–‡ä»¶å¯ä»¥ä½¿ç”¨ä»»ä½•æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å’Œç¼–è¾‘ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å„ç§ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚Pythonã€Javaã€C#ç­‰ï¼‰è¯»å–å’Œå†™å…¥ã€‚å®ƒé€šå¸¸ç”¨äºäº¤æ¢è¡¨æ ¼æ•°æ®ï¼Œä¾‹å¦‚åœ¨æ•°æ®åˆ†æã€æ•°æ®å¤„ç†å’Œæ•°æ®å¯è§†åŒ–ç­‰é¢†åŸŸä¸­éå¸¸å¸¸è§ã€‚

  ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„CSVæ–‡ä»¶ç¤ºä¾‹ï¼š

  ```
  Name, Age, Gender
  Alice, 25, Female
  Bob, 30, Male
  Charlie, 35, Male
  ```

  åœ¨è¿™ä¸ªCSVæ–‡ä»¶ä¸­ï¼Œç¬¬ä¸€è¡Œæ˜¯åˆ—åï¼Œè¡¨ç¤ºæ¯ä¸ªå­—æ®µçš„å«ä¹‰ã€‚æ¯ä¸ªå­—æ®µä¹‹é—´ä½¿ç”¨é€—å·åˆ†éš”ï¼Œæ¯æ¡è®°å½•å æ®ä¸€è¡Œã€‚

  åœ¨Pythonä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ ‡å‡†åº“ä¸­çš„csvæ¨¡å—æ¥è¯»å–å’Œå†™å…¥CSVæ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ç¤ºä¾‹ä»£ç æ¼”ç¤ºäº†å¦‚ä½•è¯»å–ä¸Šè¿°ç¤ºä¾‹æ–‡ä»¶å¹¶å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªåˆ—è¡¨ï¼š

  ```python
  import csv
  
  with open('example.csv', 'r') as f:
      reader = csv.reader(f)
      data = [row for row in reader]
  
  print(data)
  ```

  åœ¨è¿™ä¸ªä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨open()å‡½æ•°æ‰“å¼€CSVæ–‡ä»¶ï¼Œç„¶åä½¿ç”¨csv.reader()å‡½æ•°è¯»å–æ–‡ä»¶ä¸­çš„æ•°æ®ã€‚csv.reader()å‡½æ•°è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œæ¯æ¬¡è¿­ä»£è¿”å›ä¸€è¡Œæ•°æ®ï¼Œæ¯ä¸€è¡Œæ•°æ®æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒ…å«è¯¥è¡Œä¸­æ‰€æœ‰å­—æ®µçš„å€¼ã€‚æœ€åï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰è¡Œçš„æ•°æ®ç»„åˆæˆä¸€ä¸ªåˆ—è¡¨ï¼Œå¹¶æ‰“å°å‡ºæ¥ã€‚

  æ€»ä¹‹ï¼ŒCSVæ˜¯ä¸€ç§ç®€å•ã€é€šç”¨çš„æ–‡ä»¶æ ¼å¼ï¼Œç”¨äºå­˜å‚¨è¡¨æ ¼æ•°æ®ã€‚åœ¨æ•°æ®åˆ†æã€æ•°æ®å¤„ç†å’Œæ•°æ®å¯è§†åŒ–ç­‰é¢†åŸŸä¸­éå¸¸å¸¸è§ï¼Œå¯ä»¥ä½¿ç”¨å„ç§ç¼–ç¨‹è¯­è¨€è¯»å–å’Œå†™å…¥CSVæ–‡ä»¶ã€‚

### estimator

- åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œestimatoré€šå¸¸ç¿»è¯‘ä¸ºâ€œä¼°è®¡å™¨â€æˆ–â€œé¢„ä¼°å™¨â€ï¼Œå…¶ä¸­â€œ**ä¼°è®¡å™¨**â€æ›´ä¸ºå¸¸è§ã€‚
- Estimatoræ˜¯æŒ‡ä¸€ç§æœºå™¨å­¦ä¹ ç®—æ³•æˆ–æ¨¡å‹ï¼Œç”¨äºä»è®­ç»ƒæ•°æ®ä¸­å­¦ä¹ æ¨¡å‹å‚æ•°ï¼Œå¹¶ç”¨äºé¢„æµ‹æ–°æ•°æ®çš„æ ‡ç­¾æˆ–å±æ€§ã€‚
- Estimatorå¯ä»¥æ˜¯ç›‘ç£å­¦ä¹ ã€æ— ç›‘ç£å­¦ä¹ æˆ–åŠç›‘ç£å­¦ä¹ ç®—æ³•ï¼Œä¾‹å¦‚çº¿æ€§å›å½’ã€é€»è¾‘å›å½’ã€å†³ç­–æ ‘ã€èšç±»ç­‰ã€‚
- åœ¨Scikit-learnç­‰æœºå™¨å­¦ä¹ åº“ä¸­ï¼ŒEstimatoræ˜¯æŒ‡å®ç°äº†fit()å’Œpredict()æ–¹æ³•çš„ç±»ï¼Œfit()æ–¹æ³•ç”¨äºä»è®­ç»ƒæ•°æ®ä¸­å­¦ä¹ æ¨¡å‹å‚æ•°ï¼Œpredict()æ–¹æ³•ç”¨äºå¯¹æ–°æ•°æ®è¿›è¡Œé¢„æµ‹ã€‚
- Estimatorè¿˜å¯ä»¥ä½¿ç”¨cross-validationç­‰æ–¹æ³•è¿›è¡Œæ¨¡å‹è¯„ä¼°å’Œé€‰æ‹©ã€‚
- å› æ­¤ï¼Œå°†estimatorç¿»è¯‘ä¸ºâ€œä¼°è®¡å™¨â€æˆ–â€œé¢„ä¼°å™¨â€æ¯”è¾ƒè´´åˆ‡ï¼Œèƒ½å¤Ÿå‡†ç¡®æè¿°å…¶åœ¨æœºå™¨å­¦ä¹ ä¸­çš„ä½œç”¨å’ŒåŠŸèƒ½ã€‚

## è¶…å‚æ•°

### Grid searchğŸˆ

- [3.2. Tuning the hyper-parameters of an estimator â€” scikit-learn 1.2.2 documentation](https://scikit-learn.org/stable/modules/grid_search.html)
- ç½‘æ ¼æœç´¢æ˜¯ä¸€ç§æœºå™¨å­¦ä¹ ä¸­çš„è¶…å‚æ•°è°ƒä¼˜æŠ€æœ¯ï¼Œå…¶ç›®çš„æ˜¯æ‰¾åˆ°æ¨¡å‹è¶…å‚æ•°çš„æœ€ä¼˜å€¼ã€‚
- è¶…å‚æ•°æ˜¯åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¸ä¼šè¢«å­¦ä¹ çš„å‚æ•°ï¼Œä½†åœ¨è®­ç»ƒå‰éœ€è¦è®¾ç½®ï¼Œå¯ä»¥å¯¹æ¨¡å‹æ€§èƒ½äº§ç”Ÿé‡è¦å½±å“ã€‚
- Grid Search å¯ä»¥ç¿»è¯‘ä¸ºâ€œç½‘æ ¼æœç´¢â€æˆ–â€œç½‘æ ¼è°ƒå‚â€ï¼Œæ˜¯ä¸€ç§å¸¸ç”¨çš„æœºå™¨å­¦ä¹ è¶…å‚æ•°è°ƒä¼˜æ–¹æ³•ã€‚
- Grid Search çš„ç›®çš„æ˜¯é€šè¿‡éå†ç»™å®šçš„è¶…å‚æ•°ç»„åˆï¼Œæ‰¾åˆ°æœ€ä¼˜çš„è¶…å‚æ•°ç»„åˆï¼Œä»¥è·å¾—æœ€ä½³çš„æ¨¡å‹æ€§èƒ½ã€‚å®ƒåŸºäºä¸€ä¸ªé¢„å®šä¹‰çš„è¶…å‚æ•°ç½‘æ ¼ï¼ˆgridï¼‰ï¼Œå¯¹æ¯ä¸ªè¶…å‚æ•°ç»„åˆè¿›è¡Œè¯„ä¼°å’Œæ¯”è¾ƒï¼Œä»è€Œé€‰æ‹©æœ€ä½³çš„è¶…å‚æ•°ç»„åˆã€‚ç½‘æ ¼æœç´¢æ¶‰åŠ<u>å®šä¹‰ä¸€ä¸ªè¶…å‚æ•°å€¼çš„çŸ©é˜µ</u>ï¼Œå¹¶ä¸”ç³»ç»Ÿåœ°æœç´¢çŸ©é˜µä»¥å¯»æ‰¾åœ¨éªŒè¯æ•°æ®é›†ä¸Šè¡¨ç°æœ€ä½³çš„è¶…å‚æ•°ç»„åˆã€‚
- å…·ä½“æ¥è¯´ï¼ŒGrid Search å°†æ¯ä¸ªè¶…å‚æ•°çš„å–å€¼èŒƒå›´åˆ’åˆ†æˆä¸€ç»„ç¦»æ•£çš„å€¼ï¼Œç„¶åå¯¹æ‰€æœ‰å¯èƒ½çš„è¶…å‚æ•°ç»„åˆè¿›è¡Œéå†ï¼Œå¯¹æ¯ä¸ªç»„åˆè®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼Œå¹¶ä½¿ç”¨äº¤å‰éªŒè¯ç­‰æ–¹æ³•è¯„ä¼°æ¨¡å‹æ€§èƒ½ã€‚
- æœ€åï¼Œé€‰æ‹©å…·æœ‰æœ€ä½³æ€§èƒ½çš„è¶…å‚æ•°ç»„åˆä½œä¸ºæœ€ç»ˆæ¨¡å‹çš„è¶…å‚æ•°ã€‚
- Grid Search æ˜¯ä¸€ç§ç®€å•è€Œæœ‰æ•ˆçš„è°ƒå‚æ–¹æ³•ï¼Œä½†å®ƒéœ€è¦éå†æ‰€æœ‰å¯èƒ½çš„è¶…å‚æ•°ç»„åˆï¼Œå› æ­¤è®¡ç®—æˆæœ¬è¾ƒé«˜ã€‚ä¸ºäº†å‡å°‘è®¡ç®—æˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨<u>éšæœºæœç´¢ï¼ˆRandom Searchï¼‰</u>ç­‰å…¶ä»–è°ƒå‚æ–¹æ³•ã€‚

### pickle

- [pickle --- Python å¯¹è±¡åºåˆ—åŒ– â€” Python 3.11.2 æ–‡æ¡£](https://docs.python.org/zh-cn/3/library/pickle.html)

- Pickleæ˜¯Pythonä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œç”¨äºå°†Pythonä¸­çš„å¯¹è±¡åºåˆ—åŒ–ä¸ºäºŒè¿›åˆ¶æµå¹¶ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œæˆ–è€…ä»æ–‡ä»¶ä¸­è¯»å–å‡ºè¿™äº›äºŒè¿›åˆ¶æ•°æ®å¹¶ååºåˆ—åŒ–æˆå¯¹è±¡ã€‚è¿™ä¸ªè¿‡ç¨‹ä¹Ÿè¢«ç§°ä¸ºå¯¹è±¡çš„æŒä¹…åŒ–ã€‚

  Pickleå¯ä»¥å¤„ç†å‡ ä¹æ‰€æœ‰Pythonæ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬æ•°å­—ã€å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸ã€ç±»å’Œå‡½æ•°ç­‰ã€‚ä½¿ç”¨Pickleå¯ä»¥éå¸¸æ–¹ä¾¿åœ°å°†Pythonå¯¹è±¡å­˜å‚¨åˆ°æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿äºåœ¨ä»¥åçš„æ—¶é—´ä¸­ä½¿ç”¨ã€‚

  åœ¨ä½¿ç”¨Pickleæ—¶ï¼Œé€šå¸¸éœ€è¦å…ˆå°†Pythonå¯¹è±¡åºåˆ—åŒ–ä¸ºäºŒè¿›åˆ¶æ•°æ®å¹¶å†™å…¥æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨`pickle.dump()`å‡½æ•°å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚è¯»å–æ–‡ä»¶ä¸­çš„æ•°æ®å¹¶å°†å…¶ååºåˆ—åŒ–æˆPythonå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨`pickle.load()`å‡½æ•°ã€‚

  éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒPickleå¯ä»¥å¤„ç†Pythonä¸­çš„å¤§å¤šæ•°å¯¹è±¡ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰å¯¹è±¡éƒ½å¯ä»¥è¢«åºåˆ—åŒ–ã€‚ä¾‹å¦‚ï¼ŒPickleä¸èƒ½åºåˆ—åŒ–ä¸€äº›ç½‘ç»œè¿æ¥ã€æ–‡ä»¶å¥æŸ„å’Œè¿›ç¨‹ç­‰ç³»ç»Ÿèµ„æºï¼Œä¹Ÿä¸èƒ½åºåˆ—åŒ–ä¸€äº›Pythonå†…éƒ¨å¯¹è±¡ï¼Œå¦‚å‡½æ•°ã€æ¨¡å—å’Œç±»ç­‰ã€‚æ­¤å¤–ï¼Œåœ¨ä½¿ç”¨Pickleæ—¶ï¼Œéœ€è¦æ³¨æ„å®‰å…¨é—®é¢˜ï¼Œé¿å…ä¸å—ä¿¡ä»»çš„æ•°æ®å¯¹ç³»ç»Ÿé€ æˆé£é™©ã€‚

  ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨Pickleå­˜å‚¨å’Œè¯»å–Pythonå¯¹è±¡çš„ç¤ºä¾‹ä»£ç ï¼š

  ```python
  import pickle
  
  # å®šä¹‰ä¸€ä¸ª Python å¯¹è±¡
  data = {'a': [1, 2.0, 3, 4+6j],
          'b': ("string", u"Unicode string"),
          'c': {None, True, False}}
  
  # å°†å¯¹è±¡åºåˆ—åŒ–ä¸ºäºŒè¿›åˆ¶æ•°æ®å¹¶å†™å…¥æ–‡ä»¶
  with open('data.pkl', 'wb') as f:
      pickle.dump(data, f)
  
  # ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®å¹¶ååºåˆ—åŒ–æˆ Python å¯¹è±¡
  with open('data.pkl', 'rb') as f:
      data_loaded = pickle.load(f)
  
  # æ‰“å°ååºåˆ—åŒ–åçš„ Python å¯¹è±¡
  print(data_loaded)
  ```

  è¿™ä¸ªç¤ºä¾‹ä»£ç ä¸­ï¼Œé¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªPythonå¯¹è±¡`data`ï¼Œå…¶ä¸­åŒ…å«äº†æ•°å­—ã€å­—ç¬¦ä¸²ã€åˆ—è¡¨å’Œå­—å…¸ç­‰æ•°æ®ç±»å‹ã€‚ç„¶åï¼Œä½¿ç”¨Pickleå°†`data`å¯¹è±¡åºåˆ—åŒ–ä¸ºäºŒè¿›åˆ¶æ•°æ®å¹¶å†™å…¥åˆ°æ–‡ä»¶`data.pkl`ä¸­ã€‚æœ€åï¼Œå†ä»`data.pkl`æ–‡ä»¶ä¸­è¯»å–æ•°æ®å¹¶ååºåˆ—åŒ–æˆPythonå¯¹è±¡`data_loaded`ï¼Œå¹¶æ‰“å°è¯¥å¯¹è±¡ä»¥éªŒè¯ååºåˆ—åŒ–æ“ä½œçš„æ­£ç¡®æ€§ã€‚

- ```bash
  [(SVC(C=10, gamma=0.001),
    {'C': 10, 'gamma': 0.001, 'kernel': 'rbf'},
    0.9381835473133618),
   (RandomForestClassifier(max_depth=7, max_features=0.5, n_estimators=40),
    {'max_depth': 7,
     'max_features': 0.5,
     'min_samples_leaf': 1,
     'min_samples_split': 2,
     'n_estimators': 40},
    0.8854018069424631),
   (GradientBoostingClassifier(learning_rate=0.3, max_depth=7, subsample=0.7),
    {'learning_rate': 0.3,
     'max_depth': 7,
     'max_features': None,
     'min_samples_leaf': 1,
     'min_samples_split': 2,
     'n_estimators': 100,
     'subsample': 0.7},
    0.9476937708036139),
   (KNeighborsClassifier(n_neighbors=3, p=1, weights='distance'),
    {'n_neighbors': 3, 'p': 1, 'weights': 'distance'},
    0.9320019020446981),
   (MLPClassifier(alpha=0.01, batch_size=512, hidden_layer_sizes=(300,),
                  learning_rate='adaptive', max_iter=400),
    {'alpha': 0.01,
     'batch_size': 512,
     'hidden_layer_sizes': (300,),
     'learning_rate': 'adaptive',
     'max_iter': 400},
    0.9358059914407989),
   (BaggingClassifier(max_features=0.5, n_estimators=50),
    {'max_features': 0.5, 'max_samples': 1.0, 'n_estimators': 50},
    0.9210651450309082)]
  ```

  

#### ç›¸å…³api

- [`pickle`](https://docs.python.org/zh-cn/3/library/pickle.html#module-pickle) æ¨¡å—æä¾›äº†ä»¥ä¸‹æ–¹æ³•ï¼Œè®©å°å­˜è¿‡ç¨‹æ›´åŠ æ–¹ä¾¿ï¼š

- pickle.**dump**(*obj*, *file*, *protocol=None*, ***, *fix_imports=True*, *buffer_callback=None*)

  å°†å¯¹è±¡ *obj* å°å­˜ä»¥åçš„å¯¹è±¡å†™å…¥å·²æ‰“å¼€çš„ [file object](https://docs.python.org/zh-cn/3/glossary.html#term-file-object) *file*ã€‚å®ƒç­‰åŒäº `Pickler(file, protocol).dump(obj)`ã€‚å‚æ•° *file*ã€*protocol*ã€*fix_imports* å’Œ *buffer_callback* çš„å«ä¹‰ä¸å®ƒä»¬åœ¨ [`Pickler`](https://docs.python.org/zh-cn/3/library/pickle.html#pickle.Pickler) çš„æ„é€ å‡½æ•°ä¸­çš„å«ä¹‰ç›¸åŒã€‚*åœ¨ 3.8 ç‰ˆæ›´æ”¹:* åŠ å…¥äº† *buffer_callback* å‚æ•°ã€‚

- pickle.**dumps**(*obj*, *protocol=None*, ***, *fix_imports=True*, *buffer_callback=None*)

  å°† *obj* å°å­˜ä»¥åçš„å¯¹è±¡ä½œä¸º [`bytes`](https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes) ç±»å‹ç›´æ¥è¿”å›ï¼Œè€Œä¸æ˜¯å°†å…¶å†™å…¥åˆ°æ–‡ä»¶ã€‚å‚æ•° *protocol*ã€*fix_imports* å’Œ *buffer_callback* çš„å«ä¹‰ä¸å®ƒä»¬åœ¨ [`Pickler`](https://docs.python.org/zh-cn/3/library/pickle.html#pickle.Pickler) çš„æ„é€ å‡½æ•°ä¸­çš„å«ä¹‰ç›¸åŒã€‚*åœ¨ 3.8 ç‰ˆæ›´æ”¹:* åŠ å…¥äº† *buffer_callback* å‚æ•°ã€‚

- pickle.**load**(*file*, ***, *fix_imports=True*, *encoding='ASCII'*, *errors='strict'*, *buffers=None*)

  ä»å·²æ‰“å¼€çš„ [file object](https://docs.python.org/zh-cn/3/glossary.html#term-file-object) *æ–‡ä»¶* ä¸­è¯»å–å°å­˜åçš„å¯¹è±¡ï¼Œé‡å»ºå…¶ä¸­ç‰¹å®šå¯¹è±¡çš„å±‚æ¬¡ç»“æ„å¹¶è¿”å›ã€‚å®ƒç›¸å½“äº `Unpickler(file).load()`ã€‚Pickle åè®®ç‰ˆæœ¬æ˜¯è‡ªåŠ¨æ£€æµ‹å‡ºæ¥çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦å‚æ•°æ¥æŒ‡å®šåè®®ã€‚å°å­˜å¯¹è±¡ä»¥å¤–çš„å…¶ä»–å­—èŠ‚å°†è¢«å¿½ç•¥ã€‚å‚æ•° *file*ã€*fix_imports*ã€*encoding*ã€*errors*ã€*strict* å’Œ *buffers* çš„å«ä¹‰ä¸å®ƒä»¬åœ¨ [`Unpickler`](https://docs.python.org/zh-cn/3/library/pickle.html#pickle.Unpickler) çš„æ„é€ å‡½æ•°ä¸­çš„å«ä¹‰ç›¸åŒã€‚*åœ¨ 3.8 ç‰ˆæ›´æ”¹:* åŠ å…¥äº† *buffers* å‚æ•°ã€‚

  - `file` å‚æ•°æ˜¯ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶å¯¹è±¡æˆ–ç±»ä¼¼å¯¹è±¡ï¼Œç”¨äºè¯»å–äºŒè¿›åˆ¶æ•°æ®ã€‚åœ¨ Python ä¸­ï¼Œæ–‡ä»¶å¯¹è±¡å¯ä»¥é€šè¿‡å†…ç½®çš„ `open()` å‡½æ•°åˆ›å»ºã€‚`open()` å‡½æ•°æ¥å—æ–‡ä»¶åå’Œæ–‡ä»¶æ‰“å¼€æ¨¡å¼ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ã€‚åœ¨ä½¿ç”¨ `pickle.load()` å‡½æ•°æ—¶ï¼Œéœ€è¦å°†æ‰“å¼€çš„æ–‡ä»¶å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¯¥å‡½æ•°ï¼Œä»¥ä¾¿ä»æ–‡ä»¶ä¸­è¯»å–åºåˆ—åŒ–çš„äºŒè¿›åˆ¶æ•°æ®å¹¶å°†å…¶ååºåˆ—åŒ–ä¸º Python å¯¹è±¡ã€‚

- pickle.**loads**(*data*, */*, ***, *fix_imports=True*, *encoding='ASCII'*, *errors='strict'*, *buffers=None*)

  é‡å»ºå¹¶è¿”å›ä¸€ä¸ªå¯¹è±¡çš„å°å­˜è¡¨ç¤ºå½¢å¼ *data* çš„å¯¹è±¡å±‚çº§ç»“æ„ã€‚ *data* å¿…é¡»ä¸º [bytes-like object](https://docs.python.org/zh-cn/3/glossary.html#term-bytes-like-object)ã€‚Pickle åè®®ç‰ˆæœ¬æ˜¯è‡ªåŠ¨æ£€æµ‹å‡ºæ¥çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦å‚æ•°æ¥æŒ‡å®šåè®®ã€‚å°å­˜å¯¹è±¡ä»¥å¤–çš„å…¶ä»–å­—èŠ‚å°†è¢«å¿½ç•¥ã€‚å‚æ•° *fix_imports*, *encoding*, *errors*, *strict* å’Œ *buffers* çš„å«ä¹‰ä¸åœ¨ [`Unpickler`](https://docs.python.org/zh-cn/3/library/pickle.html#pickle.Unpickler) æ„é€ å™¨ä¸­çš„å«ä¹‰ç›¸åŒã€‚*åœ¨ 3.8 ç‰ˆæ›´æ”¹:* åŠ å…¥äº† *buffers* å‚æ•°ã€‚

#### joblib

- [Joblib: running Python functions as pipeline jobs â€” joblib 1.3.0.dev0 documentation](https://joblib.readthedocs.io/en/latest/)

#### npyæ–‡ä»¶

- npy æ–‡ä»¶æ˜¯ NumPy çš„äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼ï¼Œç”¨äºå­˜å‚¨ NumPy æ•°ç»„å¯¹è±¡ã€‚å®ƒæ˜¯ä¸€ç§é«˜æ•ˆçš„æ•°æ®å­˜å‚¨æ ¼å¼ï¼Œå¯ä»¥å¿«é€Ÿåœ°å°†å¤§å‹æ•°ç»„ä¿å­˜åˆ°ç¡¬ç›˜ï¼Œå¹¶åœ¨éœ€è¦æ—¶å¿«é€Ÿåœ°è¯»å–å’ŒåŠ è½½æ•°æ®ã€‚

  npy æ–‡ä»¶ä¿å­˜çš„æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œå› æ­¤å®ƒçš„å­˜å‚¨æ•ˆç‡æ¯”æ–‡æœ¬æ–‡ä»¶é«˜ï¼ŒåŒæ—¶ä¹Ÿå…·æœ‰æ›´å¿«çš„è¯»å†™é€Ÿåº¦ã€‚ä¸å…¶ä»–äºŒè¿›åˆ¶æ ¼å¼ç›¸æ¯”ï¼Œnpy æ–‡ä»¶å…·æœ‰æ›´å¥½çš„å¯ç§»æ¤æ€§ï¼Œå› ä¸ºå®ƒåªä¾èµ–äº NumPy åº“ï¼Œè€Œä¸ä¾èµ–äºç‰¹å®šçš„æ“ä½œç³»ç»Ÿæˆ–ç¡¬ä»¶å¹³å°ã€‚

  å¯ä»¥ä½¿ç”¨ NumPy åº“ä¸­çš„ save å’Œ load å‡½æ•°æ¥ä¿å­˜å’ŒåŠ è½½ npy æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç æ¼”ç¤ºäº†å¦‚ä½•å°†ä¸€ä¸ª NumPy æ•°ç»„ä¿å­˜ä¸º npy æ–‡ä»¶ï¼Œå¹¶è¯»å–è¯¥æ–‡ä»¶ï¼š

  ```python
  import numpy as np
  
  # åˆ›å»º NumPy æ•°ç»„
  arr = np.array([1, 2, 3, 4, 5])
  
  # ä¿å­˜ä¸º npy æ–‡ä»¶
  np.save('my_array.npy', arr)
  
  # ä» npy æ–‡ä»¶ä¸­åŠ è½½æ•°æ®
  loaded_arr = np.load('my_array.npy')
  
  # æ‰“å°åŠ è½½åçš„æ•°æ®
  print(loaded_arr)  # [1 2 3 4 5]
  ```

  åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ª NumPy æ•°ç»„ `arr`ï¼Œç„¶åä½¿ç”¨ `np.save` å‡½æ•°å°†å…¶ä¿å­˜åˆ°åä¸º `'my_array.npy'` çš„æ–‡ä»¶ä¸­ã€‚æ¥ç€ï¼Œæˆ‘ä»¬ä½¿ç”¨ `np.load` å‡½æ•°ä»æ–‡ä»¶ä¸­åŠ è½½æ•°æ®ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨å˜é‡ `loaded_arr` ä¸­ã€‚æœ€åï¼Œæˆ‘ä»¬æ‰“å°åŠ è½½åçš„æ•°æ®ï¼ŒéªŒè¯å®ƒä¸åŸå§‹æ•°ç»„ç›¸åŒã€‚

- [numpy.lib.format â€” NumPy v1.24 Manual](https://numpy.org/doc/stable/reference/generated/numpy.lib.format.html)

- [numpy.save â€” NumPy Manual](https://numpy.org/doc/stable/reference/generated/numpy.save.html)



- 

  

  

### bagging@Bootstrap Aggregating

- [sklearn.ensemble.BaggingClassifier â€” scikit-learn 1.2.2 documentation](https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.BaggingClassifier.html)

- `Bagging`ï¼ˆBootstrap Aggregatingï¼‰æ˜¯ä¸€ç§é›†æˆå­¦ä¹ æ–¹æ³•ï¼Œç”¨äºæé«˜åˆ†ç±»æˆ–å›å½’ç®—æ³•çš„å‡†ç¡®æ€§å’Œç¨³å®šæ€§ã€‚
- åœ¨åˆ†ç±»é—®é¢˜ä¸­ï¼Œ`Bagging` é€šå¸¸é€šè¿‡å¯¹è®­ç»ƒé›†è¿›è¡Œæœ‰æ”¾å›æŠ½æ ·ï¼ˆBootstrapï¼‰æ¥æ„é€ å¤šä¸ªå­é›†ï¼Œç„¶åä½¿ç”¨æ¯ä¸ªå­é›†è®­ç»ƒä¸€ä¸ªåŸºæœ¬åˆ†ç±»å™¨ï¼Œæœ€ç»ˆå°†æ‰€æœ‰åŸºæœ¬åˆ†ç±»å™¨çš„é¢„æµ‹ç»“æœè¿›è¡ŒæŠ•ç¥¨æˆ–å¹³å‡æ¥å¾—å‡ºæœ€ç»ˆçš„åˆ†ç±»ç»“æœã€‚è¿™ç§æ–¹æ³•å¯ä»¥å‡å°æ¨¡å‹çš„æ–¹å·®ï¼Œæé«˜æ³›åŒ–æ€§èƒ½ã€‚

`Bagging` å¯ä»¥åº”ç”¨äºå„ç§åˆ†ç±»ç®—æ³•ï¼Œä¾‹å¦‚å†³ç­–æ ‘ã€ç¥ç»ç½‘ç»œã€æ”¯æŒå‘é‡æœºç­‰ã€‚åœ¨ `scikit-learn` åº“ä¸­ï¼Œ`Bagging` æ–¹æ³•è¢«å®ç°ä¸º `BaggingClassifier` ç±»ã€‚`BaggingClassifier` å¯ä»¥æ¥å—ä»»ä½•åŸºæœ¬åˆ†ç±»å™¨ä½œä¸ºå‚æ•°ï¼Œå¹¶é€šè¿‡è®¾ç½®ä¸€äº›è¶…å‚æ•°æ¥æ§åˆ¶ `Bagging` è¿‡ç¨‹çš„ç»†èŠ‚ï¼Œä¾‹å¦‚å­é›†å¤§å°ã€æ ·æœ¬çš„é‡‡æ ·æ¯”ä¾‹ã€åŸºæœ¬åˆ†ç±»å™¨çš„æ•°é‡ç­‰ã€‚

ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨ `BaggingClassifier` çš„ç®€å•ç¤ºä¾‹ä»£ç ï¼š

```python
from sklearn.datasets import make_classification
from sklearn.ensemble import BaggingClassifier
from sklearn.tree import DecisionTreeClassifier
from sklearn.model_selection import train_test_split

# ç”Ÿæˆä¸€ä¸ªäºŒåˆ†ç±»æ•°æ®é›†
X, y = make_classification(n_samples=1000, n_features=10, n_classes=2, random_state=42)

# å°†æ•°æ®é›†åˆ’åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

# å®šä¹‰ä¸€ä¸ªåŸºæœ¬åˆ†ç±»å™¨
base_estimator = DecisionTreeClassifier(max_depth=5)

# å®šä¹‰ä¸€ä¸ª Bagging åˆ†ç±»å™¨
bagging = BaggingClassifier(base_estimator=base_estimator, n_estimators=10, random_state=42)

# åœ¨è®­ç»ƒé›†ä¸Šæ‹Ÿåˆ Bagging åˆ†ç±»å™¨
bagging.fit(X_train, y_train)

# åœ¨æµ‹è¯•é›†ä¸Šè¯„ä¼° Bagging åˆ†ç±»å™¨çš„æ€§èƒ½
score = bagging.score(X_test, y_test)

print(f"Bagging Classifier score: {score}")
```

åœ¨è¿™ä¸ªç¤ºä¾‹ä»£ç ä¸­ï¼Œé¦–å…ˆä½¿ç”¨ `make_classification()` å‡½æ•°ç”Ÿæˆä¸€ä¸ªäºŒåˆ†ç±»æ•°æ®é›†ï¼Œç„¶åå°†æ•°æ®é›†åˆ’åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚æ¥ç€ï¼Œå®šä¹‰ä¸€ä¸ªåŸºæœ¬åˆ†ç±»å™¨ `DecisionTreeClassifier`ï¼Œå¹¶ä½¿ç”¨è¯¥åˆ†ç±»å™¨ä½œä¸ºå‚æ•°åˆ›å»ºä¸€ä¸ª `BaggingClassifier`ã€‚æœ€åï¼Œåœ¨è®­ç»ƒé›†ä¸Šæ‹Ÿåˆ `BaggingClassifier`ï¼Œå¹¶åœ¨æµ‹è¯•é›†ä¸Šè¯„ä¼°å…¶æ€§èƒ½ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ`BaggingClassifier` ä¸­çš„åŸºæœ¬åˆ†ç±»å™¨åº”è¯¥å…·æœ‰ä¸€å®šçš„éšæœºæ€§ï¼Œä¾‹å¦‚å†³ç­–æ ‘ä¸­çš„éšæœºåˆ†è£‚æˆ–éšæœºå­ç©ºé—´ã€‚è¿™å¯ä»¥å¸®åŠ©é¿å…åŸºæœ¬åˆ†ç±»å™¨ä¹‹é—´çš„è¿‡æ‹Ÿåˆå’Œç›¸å…³æ€§ï¼Œä»è€Œæé«˜ `Bagging` çš„æ•ˆæœã€‚

## åº“

### tqdm

- tqdmæ˜¯ä¸€ä¸ªPythonåº“ï¼Œç”¨äºåœ¨å¾ªç¯ä¸­æ˜¾ç¤ºè¿›åº¦æ¡ã€‚å®ƒå¯ä»¥ç”¨æ¥ç›‘è§†ä»£ç çš„æ‰§è¡Œè¿›åº¦ï¼Œè®©ä»£ç è¿è¡Œæ—¶çš„è¿›åº¦æ›´åŠ å¯è§†åŒ–å’Œç›´è§‚ã€‚

  tqdmçš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨å¾ªç¯å‰å¯¼å…¥tqdmåº“ï¼Œç„¶ååœ¨å¾ªç¯ä¸­ä½¿ç”¨tqdm()å‡½æ•°åŒ…è£…å¾ªç¯å³å¯ã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š

  ```python
  import time
  from tqdm import tqdm
  
  for i in tqdm(range(10)):
      time.sleep(1)
  ```

  åœ¨è¿™ä¸ªä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨tqdmå‡½æ•°åŒ…è£…äº†ä¸€ä¸ªrange(10)çš„å¾ªç¯ï¼Œç„¶ååœ¨æ¯æ¬¡å¾ªç¯ä¸­ä½¿ç”¨time.sleep(1)æ¨¡æ‹Ÿè¿è¡Œ1ç§’é’Ÿçš„ä»£ç ã€‚è¿è¡Œè¿™ä¸ªä»£ç æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªè¿›åº¦æ¡æ˜¾ç¤ºä»£ç çš„æ‰§è¡Œè¿›åº¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

  ```
  100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:10<00:00,  1.00s/it]
  ```

  å…¶ä¸­ï¼Œè¿›åº¦æ¡æ˜¾ç¤ºäº†ä»£ç çš„æ‰§è¡Œè¿›åº¦ï¼ŒåŒ…æ‹¬å·²å®Œæˆçš„è¿›åº¦å’Œå‰©ä½™çš„è¿›åº¦ï¼Œè¿˜æ˜¾ç¤ºäº†æ¯ç§’é’Ÿçš„å¤„ç†é€Ÿåº¦ç­‰ä¿¡æ¯ã€‚è¿™ä½¿å¾—ä»£ç çš„æ‰§è¡Œè¿›åº¦æ›´åŠ ç›´è§‚å’Œå¯è§†åŒ–ï¼Œæœ‰åŠ©äºè°ƒè¯•å’Œä¼˜åŒ–ä»£ç ã€‚

  é™¤äº†åŸºæœ¬çš„åŠŸèƒ½å¤–ï¼Œtqdmè¿˜æ”¯æŒå¤šç§è‡ªå®šä¹‰é€‰é¡¹ï¼Œä¾‹å¦‚è®¾ç½®è¿›åº¦æ¡çš„é¢œè‰²ã€æ ¼å¼ã€å®½åº¦ã€é—´éš”ç­‰ã€‚å®ƒè¿˜æ”¯æŒåœ¨å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”å¯ä»¥ä¸å…¶ä»–Pythonåº“ï¼ˆå¦‚Pandasã€Numpyã€Matplotlibç­‰ï¼‰ç»“åˆä½¿ç”¨ï¼Œä»è€Œä½¿å¾—æ•°æ®åˆ†æå’Œå¯è§†åŒ–æ›´åŠ æ–¹ä¾¿å’Œé«˜æ•ˆã€‚

  æ€»ä¹‹ï¼Œtqdmæ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„Pythonåº“ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç›‘è§†ä»£ç çš„æ‰§è¡Œè¿›åº¦ï¼Œä»è€Œä½¿å¾—ä»£ç çš„å¼€å‘å’Œè°ƒè¯•æ›´åŠ é«˜æ•ˆå’Œå¯è§†åŒ–ã€‚

### librosa

#### mfcc

- n_mfccå‚æ•°è¡¨ç¤ºè¦æå–çš„MFCCç³»æ•°çš„æ•°é‡ï¼Œå®ƒçš„å¤§å°ä¼šå½±å“åˆ°MFCCç‰¹å¾çš„è¡¨è¾¾èƒ½åŠ›å’Œè®¡ç®—å¤æ‚åº¦ã€‚

  ä¸€èˆ¬æ¥è¯´ï¼ŒMFCCç³»æ•°çš„æ•°é‡è¶Šå¤šï¼Œèƒ½å¤Ÿè¡¨è¾¾çš„éŸ³é¢‘ç‰¹å¾ä¹Ÿå°±è¶Šä¸°å¯Œï¼Œä½†åŒæ—¶ä¹Ÿä¼šå¢åŠ MFCCç‰¹å¾å‘é‡çš„ç»´åº¦ï¼Œå¯¼è‡´è®¡ç®—å¤æ‚åº¦å¢åŠ ã€‚é€šå¸¸ï¼Œn_mfccçš„å¤§å°åœ¨20åˆ°40ä¹‹é—´å–å€¼ï¼Œå¯ä»¥è·å¾—è¾ƒå¥½çš„æ€§èƒ½å’Œè®¡ç®—æ•ˆç‡ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œéœ€è¦æ ¹æ®å…·ä½“çš„ä»»åŠ¡å’Œæ•°æ®é›†æ¥é€‰æ‹©åˆé€‚çš„n_mfccå€¼ã€‚

- éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒMFCCç³»æ•°çš„æ•°é‡ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œå¦‚æœæ•°é‡è¿‡å¤šå¯èƒ½ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆé—®é¢˜ï¼Œå½±å“æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚åŒæ—¶ï¼ŒMFCCç‰¹å¾ä¹Ÿå¹¶ä¸æ˜¯é€‚ç”¨äºæ‰€æœ‰çš„éŸ³é¢‘å¤„ç†ä»»åŠ¡ï¼Œå¯¹äºä¸€äº›ç‰¹æ®Šçš„éŸ³é¢‘ä¿¡å·ï¼ˆå¦‚å™ªå£°ä¿¡å·ã€éè¯­éŸ³ä¿¡å·ç­‰ï¼‰ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨å…¶ä»–ç±»å‹çš„ç‰¹å¾æ¥è¿›è¡Œå¤„ç†ã€‚

- å› æ­¤ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œéœ€è¦æ ¹æ®å…·ä½“çš„ä»»åŠ¡å’Œæ•°æ®ç‰¹ç‚¹æ¥é€‰æ‹©åˆé€‚çš„ç‰¹å¾å’Œå‚æ•°ã€‚

#### stft

- STFTæ˜¯ä¸€ç§å¸¸ç”¨çš„ä¿¡å·å¤„ç†æŠ€æœ¯ï¼Œå®ƒå…è®¸æˆ‘ä»¬é€šè¿‡å°†ä¿¡å·åˆ†æˆçŸ­çš„é‡å çª—å£å¹¶è®¡ç®—æ¯ä¸ªçª—å£çš„å‚…é‡Œå¶å˜æ¢æ¥åˆ†æä¿¡å·çš„é¢‘ç‡å†…å®¹ã€‚å¾—åˆ°çš„STFTçŸ©é˜µæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œå…¶ä¸­æ¯è¡Œå¯¹åº”äºä¸€ä¸ªä¸åŒçš„é¢‘ç‡binï¼Œæ¯åˆ—å¯¹åº”äºä¸€ä¸ªä¸åŒçš„æ—¶é—´çª—å£ã€‚

- è®¡ç®—STFTçŸ©é˜µçš„ç»å¯¹å€¼çš„ç›®çš„æ˜¯è·å–å¹…åº¦è°±ï¼Œå®ƒè¡¨ç¤ºä¿¡å·ä¸­æ¯ä¸ªé¢‘ç‡åˆ†é‡çš„å¼ºåº¦ã€‚è¿™å¯ä»¥ç”¨äºå„ç§ä»»åŠ¡ï¼Œä¾‹å¦‚åˆ†æéŸ³ä¹æˆ–è¯­éŸ³ä¿¡å·çš„é¢‘è°±å†…å®¹ï¼Œæˆ–æå–è¯¸å¦‚é¢‘è°±è´¨å¿ƒæˆ–å¸¦å®½çš„ç‰¹å¾ã€‚

- ```python
  if chroma or contrast:
      stft_raw=librosa.stft(X)
      stft = np.abs(stft_raw)
  ```

  

- è¿™æ®µä»£ç å°†è¾“å…¥çš„éŸ³é¢‘ä¿¡å· `X` è¿›è¡Œäº†çŸ­æ—¶å‚…é‡Œå¶å˜æ¢ï¼ˆSTFTï¼‰å¹¶è®¡ç®—å…¶å¹…åº¦è°±ã€‚å…·ä½“æ¥è¯´ï¼Œè¿™æ®µä»£ç æ‰§è¡Œäº†ä»¥ä¸‹æ­¥éª¤ï¼š

  1. `librosa.stft(X)` æ‰§è¡ŒçŸ­æ—¶å‚…é‡Œå¶å˜æ¢ï¼Œå°† `X` åˆ†è§£ä¸ºå¤šä¸ªæ—¶åŸŸä¸Šé‡å çš„çª—å£ï¼Œå¹¶åœ¨æ¯ä¸ªçª—å£ä¸Šè®¡ç®—é¢‘åŸŸä¸Šçš„å¤æ‚å€¼ã€‚
     - è¿”å›çš„ `stft_raw` æ˜¯ä¸€ä¸ªåŒ…å«å¤æ•°å€¼çš„äºŒç»´æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ª**é¢‘ç‡åˆ†é‡**ï¼Œæ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªæ—¶é—´çª—å£ï¼Œå¯ä»¥è¡¨ç¤ºä¸º $S(f, t)$ï¼Œå…¶ä¸­ $f$ è¡¨ç¤ºé¢‘ç‡ï¼Œ$t$ è¡¨ç¤ºæ—¶é—´ã€‚
     - **é¢‘ç‡åˆ†é‡**æŒ‡çš„æ˜¯åœ¨éŸ³é¢‘ä¿¡å·çš„é¢‘è°±ä¸­ï¼Œä¸åŒé¢‘ç‡ä¸Šçš„æˆåˆ†ã€‚åœ¨éŸ³é¢‘ä¿¡å·çš„å¤„ç†ä¸­ï¼Œé¢‘ç‡åˆ†é‡æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ç”¨æ¥æè¿°éŸ³é¢‘ä¿¡å·çš„é¢‘åŸŸç‰¹å¾ã€‚
     - åœ¨å‚…é‡Œå¶å˜æ¢ä¸­ï¼Œä¸€ä¸ªä¿¡å·ï¼ˆä¾‹å¦‚éŸ³é¢‘ä¿¡å·ï¼‰å¯ä»¥åˆ†è§£ä¸ºä¸åŒé¢‘ç‡çš„æ­£å¼¦æ³¢çš„å åŠ ã€‚æ¯ä¸ªæ­£å¼¦æ³¢å¯ä»¥è¢«ç§°ä¸ºä¸€ä¸ªé¢‘ç‡åˆ†é‡ï¼Œå…¶é¢‘ç‡ç”±å‚…é‡Œå¶å˜æ¢ä¸­çš„å¤æŒ‡æ•°å‡½æ•°çš„é¢‘ç‡æˆåˆ†å†³å®šã€‚
     - åœ¨å‚…é‡Œå¶å˜æ¢åçš„é¢‘åŸŸè¡¨ç¤ºä¸­ï¼Œé¢‘ç‡åˆ†é‡é€šå¸¸ä»¥é¢‘ç‡ä¸ºæ¨ªåæ ‡ï¼Œä»¥å¼ºåº¦æˆ–å¹…åº¦ä¸ºçºµåæ ‡ï¼Œç»˜åˆ¶æˆé¢‘è°±å›¾ã€‚
     - åœ¨éŸ³é¢‘ä¿¡å·çš„å¤„ç†ä¸­ï¼Œé€šè¿‡æå–ä¸åŒé¢‘ç‡åˆ†é‡çš„ç‰¹å¾ï¼Œå¯ä»¥å®ç°å¾ˆå¤šåº”ç”¨ï¼Œä¾‹å¦‚éŸ³é¢‘ç‰¹å¾æå–ã€éŸ³ä¹ä¿¡æ¯æ£€ç´¢ã€è¯­éŸ³è¯†åˆ«ç­‰ç­‰ã€‚å› æ­¤ï¼Œå¯¹é¢‘ç‡åˆ†é‡çš„ç†è§£å’Œå¤„ç†æ˜¯éŸ³é¢‘ä¿¡å·å¤„ç†ä¸­éå¸¸é‡è¦çš„åŸºç¡€çŸ¥è¯†ã€‚
  2. `np.abs(stft_raw)` è®¡ç®— `stft_raw` çš„å¹…åº¦è°±ï¼Œå³å°†æ¯ä¸ªå¤æ•°å€¼çš„æ¨¡å–ç»å¯¹å€¼ï¼Œå¾—åˆ°ä¸€ä¸ªä¸ `stft_raw` å½¢çŠ¶ç›¸åŒçš„å®æ•°å€¼äºŒç»´æ•°ç»„ `stft`ã€‚å¹…åº¦è°±è¡¨ç¤ºäº†æ¯ä¸ªé¢‘ç‡åˆ†é‡åœ¨æ—¶é—´ä¸Šçš„å¼ºåº¦ï¼Œå¯ä»¥ç†è§£ä¸ºéŸ³é¢‘ä¿¡å·åœ¨ä¸åŒé¢‘ç‡ä¸Šçš„èƒ½é‡åˆ†å¸ƒã€‚

  å› æ­¤ï¼Œè¿™æ®µä»£ç çš„ä½œç”¨æ˜¯å°†è¾“å…¥çš„éŸ³é¢‘ä¿¡å·è½¬åŒ–ä¸ºå…¶åœ¨é¢‘åŸŸä¸Šçš„è¡¨ç¤ºï¼Œå¹¶è®¡ç®—å…¶èƒ½é‡åˆ†å¸ƒã€‚è¿™äº›ä¿¡æ¯å¯ä»¥ç”¨äºè¿›ä¸€æ­¥çš„åˆ†æã€å¤„ç†å’Œå¯è§†åŒ–ã€‚

#### chroma_stft

`librosa.feature.chroma_stft(S=stft, sr=sample_rate)` æ˜¯ä¸€ä¸ªç”¨äºä» STFT å¹…åº¦è°±ä¼°è®¡éŸ³é¢‘çš„ chroma ç‰¹å¾çš„å‡½æ•°ã€‚Chroma ç‰¹å¾æ˜¯ä¸€ç§ç”¨äºæè¿°éŸ³ä¹éŸ³é«˜çš„ç‰¹å¾ï¼Œå®ƒå°†ä¸åŒé¢‘ç‡çš„åˆ†é‡æ˜ å°„åˆ°ä¸€ä¸ª12ç»´çš„å‘é‡ç©ºé—´ï¼Œæ¯ä¸ªç»´åº¦ä»£è¡¨ä¸€ä¸ªåŠéŸ³ï¼Œä¾‹å¦‚ Cã€C#ã€Dã€D# ç­‰ã€‚

è¯¥å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š`S` å’Œ `sr`ã€‚`S` æ˜¯è¾“å…¥çš„ STFT å¹…åº¦è°±ï¼Œ`sr` æ˜¯è¾“å…¥çš„é‡‡æ ·ç‡ã€‚å‡½æ•°çš„è¾“å‡ºæ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸º `(12, T)` çš„äºŒç»´æ•°ç»„ï¼Œå…¶ä¸­ `T` è¡¨ç¤ºè¾“å…¥éŸ³é¢‘ä¿¡å·çš„å¸§æ•°ã€‚æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªéŸ³é¢‘å¸§çš„ chroma ç‰¹å¾ï¼Œå…¶ä¸­æ¯ä¸ªç»´åº¦è¡¨ç¤ºä¸€ä¸ªåŠéŸ³ï¼Œä» C å¼€å§‹ï¼Œä»¥åŠéŸ³ä¸ºå•ä½é€’å¢ã€‚

è¯¥å‡½æ•°çš„å®ç°åŸºäºä»¥ä¸‹æ­¥éª¤ï¼š

1. ä¸ºå¹…åº¦è°± `S` è®¡ç®—ä¸€ä¸ªæ»¤æ³¢å™¨ç»„ï¼Œæ¯ä¸ªæ»¤æ³¢å™¨è¦†ç›–äº†ä¸€æ®µé¢‘ç‡èŒƒå›´ï¼Œå¹¶ä¸”åœ¨è¯¥èŒƒå›´å†…çš„é¢‘ç‡åˆ†é‡è¢«åŠ æƒå¹¶ç´¯åŠ ã€‚
2. å°†æ»¤æ³¢å™¨ç»„çš„è¾“å‡ºå½’ä¸€åŒ–ï¼Œä»¥ä¾¿æ¯ä¸ªæ»¤æ³¢å™¨çš„æ€»èƒ½é‡éƒ½ä¸º1ã€‚
3. å¯¹å½’ä¸€åŒ–çš„æ»¤æ³¢å™¨ç»„è¿›è¡Œè°ƒæ•´ï¼Œä»¥ä¾¿å°†å…¶æ˜ å°„åˆ°12ä¸ªåŠéŸ³ä¸Šã€‚
4. å°†è°ƒæ•´åçš„æ»¤æ³¢å™¨ç»„åº”ç”¨äºå¹…åº¦è°± `S`ï¼Œå¾—åˆ°ä¸€ä¸ª12ç»´çš„ chroma ç‰¹å¾å‘é‡ã€‚

å› æ­¤ï¼Œ`librosa.feature.chroma_stft()` å¯ä»¥å¸®åŠ©æˆ‘ä»¬ä» STFT å¹…åº¦è°±ä¸­æå–å‡ºéŸ³ä¹éŸ³é«˜çš„ä¿¡æ¯ï¼Œè¿™å¯¹äºéŸ³ä¹ä¿¡æ¯æ£€ç´¢ã€éŸ³ä¹é£æ ¼åˆ†ç±»å’ŒéŸ³ä¹è‡ªåŠ¨æ ‡è®°ç­‰ä»»åŠ¡éå¸¸æœ‰ç”¨ã€‚

#### melspectrogram

- [librosa.feature.melspectrogram â€” librosa 0.10.1dev documentation](https://librosa.org/doc/main/generated/librosa.feature.melspectrogram.html)

- `librosa.feature.melspectrogram(y=X, sr=sample_rate)` æ˜¯ä¸€ä¸ªç”¨äºè®¡ç®—éŸ³é¢‘ä¿¡å·çš„ Mel é¢‘è°±å›¾çš„å‡½æ•°ï¼Œå…¶ä¸­ `y` æ˜¯è¾“å…¥çš„éŸ³é¢‘ä¿¡å·ï¼Œ`sr` æ˜¯è¾“å…¥çš„é‡‡æ ·ç‡ã€‚
- Mel é¢‘è°±å›¾å¯ä»¥å°†éŸ³é¢‘ä¿¡å·çš„é¢‘åŸŸè¡¨ç¤ºè½¬æ¢ä¸ºäººè€³æ„ŸçŸ¥çš„æ¢…å°”åˆ»åº¦ï¼Œè¿™ç§åˆ»åº¦å¯ä»¥æ›´å¥½åœ°åæ˜ äººç±»å¬è§‰ç³»ç»Ÿæ„ŸçŸ¥éŸ³é«˜çš„æ–¹å¼ã€‚Mel é¢‘è°±å›¾é€šå¸¸ç”¨äºéŸ³é¢‘ä¿¡å·çš„ç‰¹å¾æå–å’Œåˆ†ç±»ã€‚

- è¯¥å‡½æ•°çš„å®ç°åŸºäºä»¥ä¸‹æ­¥éª¤ï¼š
  1. ä½¿ç”¨ä¸€ä¸ªçª—å£å‡½æ•°å¯¹éŸ³é¢‘ä¿¡å·è¿›è¡Œåˆ†å¸§ï¼Œå¹¶åœ¨æ¯ä¸€å¸§ä¸Šæ‰§è¡Œ STFTï¼Œå¾—åˆ°é¢‘åŸŸè¡¨ç¤ºã€‚
  2. å°†é¢‘åŸŸè¡¨ç¤ºè½¬æ¢ä¸º Mel é¢‘è°±å›¾ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ä¸€ç»„ Mel æ»¤æ³¢å™¨å¯¹é¢‘åŸŸè¡¨ç¤ºè¿›è¡ŒåŠ æƒï¼Œä»¥è·å¾—åœ¨ Mel é¢‘å¸¦ä¸Šçš„èƒ½é‡åˆ†å¸ƒã€‚Mel æ»¤æ³¢å™¨é€šå¸¸æ˜¯ä¸‰è§’å½¢æ»¤æ³¢å™¨ï¼Œæ¯ä¸ªæ»¤æ³¢å™¨åœ¨é¢‘ç‡è½´ä¸Šå æ®ä¸€å®šçš„å®½åº¦ã€‚
  3. å°† Mel é¢‘è°±å›¾è¿›è¡Œå¯¹æ•°å‹ç¼©ï¼Œä»¥ä¾¿æ›´å¥½åœ°åæ˜ äººè€³å¯¹éŸ³é«˜çš„æ„ŸçŸ¥ã€‚

- å‡½æ•°çš„è¾“å‡ºæ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸º `(n_mels, T)` çš„äºŒç»´æ•°ç»„ï¼Œå…¶ä¸­ `n_mels` è¡¨ç¤º Mel é¢‘å¸¦çš„æ•°é‡ï¼Œ`T` è¡¨ç¤ºè¾“å…¥éŸ³é¢‘ä¿¡å·çš„å¸§æ•°ã€‚æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªéŸ³é¢‘å¸§çš„ Mel é¢‘è°±å›¾ã€‚

- å› æ­¤ï¼Œ`librosa.feature.melspectrogram(y=X, sr=sample_rate)` å¯ä»¥å¸®åŠ©æˆ‘ä»¬è®¡ç®—å‡ºéŸ³é¢‘ä¿¡å·åœ¨ Mel é¢‘å¸¦ä¸Šçš„èƒ½é‡åˆ†å¸ƒï¼Œè¿™ç§è¡¨ç¤ºé€šå¸¸æ¯”åŸå§‹çš„é¢‘åŸŸè¡¨ç¤ºæ›´å¥½åœ°åæ˜ éŸ³é¢‘ä¿¡å·çš„ç‰¹å¾ï¼Œå¯ä»¥ç”¨äºéŸ³é¢‘ä¿¡å·çš„åˆ†ç±»ã€æ£€ç´¢å’Œåˆ†æç­‰ä»»åŠ¡ã€‚

å› æ­¤ï¼Œ`librosa.feature.melspectrogram()` å¯ä»¥å¸®åŠ©æˆ‘ä»¬è®¡ç®—å‡ºéŸ³é¢‘ä¿¡å·åœ¨ Mel é¢‘å¸¦ä¸Šçš„èƒ½é‡åˆ†å¸ƒï¼Œè¿™ç§è¡¨ç¤ºé€šå¸¸æ¯”åŸå§‹çš„é¢‘åŸŸè¡¨ç¤ºæ›´å¥½åœ°åæ˜ éŸ³é¢‘ä¿¡å·çš„ç‰¹å¾ï¼Œå¯ä»¥ç”¨äºéŸ³é¢‘ä¿¡å·çš„åˆ†ç±»ã€æ£€ç´¢å’Œåˆ†æç­‰ä»»åŠ¡ã€‚

#### librosa.effects.harmonic

- `librosa.effects.harmonic(y, margin=8, win_length=2048, hop_length=None, **kwargs)` æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºä»è¾“å…¥éŸ³é¢‘ä¿¡å· `y` ä¸­æå–å…¶è°æ³¢æˆåˆ†ã€‚

- è°æ³¢æˆåˆ†æ˜¯æŒ‡éŸ³é¢‘ä¿¡å·ä¸­çš„å‘¨æœŸæ€§æˆåˆ†ï¼Œé€šå¸¸æ˜¯éŸ³ä¹å’Œå£°éŸ³ä¸­çš„**ä¹éŸ³**éƒ¨åˆ†ã€‚

  - ä¹éŸ³çš„è‹±æ–‡æ˜¯ "musical note" æˆ– "note"ã€‚åœ¨è¥¿æ–¹éŸ³ä¹ä¸­ï¼ŒéŸ³ç¬¦é€šå¸¸ä¹Ÿç”¨ "note" è¡¨ç¤ºã€‚

  - ä»å£°å­¦çš„åˆ†æè§’åº¦ï¼Œä¹éŸ³æœ‰ä¸‰ä¸ªä¸»è¦ç‰¹å¾:å³[å“åº¦](https://baike.baidu.com/item/å“åº¦?fromModule=lemma_inlink)ï¼ˆåˆç§°[éŸ³å¼º](https://baike.baidu.com/item/éŸ³å¼º?fromModule=lemma_inlink)ï¼‰ï¼Œ[éŸ³è°ƒ](https://baike.baidu.com/item/éŸ³è°ƒ?fromModule=lemma_inlink)ï¼ˆåˆç§°[éŸ³é«˜](https://baike.baidu.com/item/éŸ³é«˜?fromModule=lemma_inlink)ï¼‰å’Œ[éŸ³è‰²](https://baike.baidu.com/item/éŸ³è‰²?fromModule=lemma_inlink)ï¼Œç§°ä¸ºä¹éŸ³ä¸‰è¦ç´ ã€‚

  - ä¹éŸ³æ˜¯æŒ‡éŸ³ä¹ä¸­çš„éŸ³ç¬¦éƒ¨åˆ†ï¼Œæ˜¯æ„æˆæ—‹å¾‹å’Œå’Œå£°çš„åŸºæœ¬å…ƒç´ ä¹‹ä¸€ã€‚ä¹éŸ³æœ‰ä¸åŒçš„é«˜ä½ã€é•¿çŸ­å’Œå¼ºå¼±ï¼Œé€šå¸¸ç”±ä¹å™¨æˆ–äººå£°å‘å‡ºã€‚ä¹éŸ³çš„é«˜ä½ç”±å…¶é¢‘ç‡å†³å®šï¼Œé•¿çŸ­å’Œå¼ºå¼±åˆ™ç”±æ¼”å¥è€…çš„æŠ€å·§å’Œè¡¨ç°å†³å®šã€‚

    åœ¨è¥¿æ–¹éŸ³ä¹ä¸­ï¼Œä¹éŸ³é€šå¸¸ç”¨å­—æ¯è¡¨ç¤ºï¼Œä¾‹å¦‚ Cã€Dã€E ç­‰ï¼Œå…¶ä¸­ A4ï¼ˆå³ A éŸ³ç¬¦åœ¨ç¬¬å››ä¸ªå…«åº¦ä¸­çš„éŸ³é«˜ï¼‰çš„é¢‘ç‡ä¸º 440 Hzï¼Œå…¶ä»–éŸ³ç¬¦çš„é¢‘ç‡ä¹Ÿå¯ä»¥æ ¹æ®æ­¤åŸºå‡†é¢‘ç‡è®¡ç®—å‡ºæ¥ã€‚

è¯¥å‡½æ•°çš„å®ç°åŸºäºä»¥ä¸‹æ­¥éª¤ï¼š

1. ä½¿ç”¨ä¸€ä¸ªçª—å£å‡½æ•°å¯¹éŸ³é¢‘ä¿¡å·è¿›è¡Œåˆ†å¸§ï¼Œå¹¶åœ¨æ¯ä¸€å¸§ä¸Šæ‰§è¡Œ STFTï¼Œå¾—åˆ°é¢‘åŸŸè¡¨ç¤ºã€‚
2. å°†é¢‘åŸŸè¡¨ç¤ºè½¬æ¢ä¸ºå¹…åº¦è°±å’Œç›¸ä½è°±ã€‚
3. ä½¿ç”¨å¹…åº¦è°±å’Œç›¸ä½è°±è®¡ç®—æ¯ä¸€å¸§çš„è°æ³¢æˆåˆ†ã€‚åœ¨è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥é€šè¿‡é˜ˆå€¼ã€è¾¹ç¼˜ä¿ç•™å’ŒåŸºé¢‘ä¼°è®¡ç­‰æŠ€æœ¯æ¥æŠ‘åˆ¶å™ªå£°å’Œéå‘¨æœŸæ€§æˆåˆ†ã€‚
4. å°†è°æ³¢æˆåˆ†çš„å¹…åº¦è°±å’Œç›¸ä½è°±åˆæˆä¸ºä¸€ä¸ªéŸ³é¢‘ä¿¡å·ã€‚

- å‡½æ•°çš„è¾“å…¥å‚æ•°åŒ…æ‹¬ï¼š

  - `y`: è¾“å…¥çš„éŸ³é¢‘ä¿¡å·ï¼Œå¯ä»¥æ˜¯ä¸€ç»´æ•°ç»„æˆ–äºŒç»´æ•°ç»„ã€‚å¦‚æœæ˜¯äºŒç»´æ•°ç»„ï¼Œæ¯ä¸€è¡Œè¡¨ç¤ºä¸€ä¸ªé€šé“çš„éŸ³é¢‘ä¿¡å·ã€‚

  - `margin`: è¾¹ç•Œå®½åº¦ï¼Œè¡¨ç¤ºåœ¨è®¡ç®—æ—¶å¿½ç•¥ä¿¡å·å¼€å¤´å’Œç»“å°¾çš„ä¸€å®šå®½åº¦çš„æ ·æœ¬ã€‚é»˜è®¤å€¼ä¸º 8ã€‚

  - `win_length`: çª—å£é•¿åº¦ï¼Œç”¨äºè®¡ç®— STFTã€‚é»˜è®¤å€¼ä¸º 2048ã€‚

  - `hop_length`: å¸§ç§»é•¿åº¦ï¼Œç”¨äºè®¡ç®— STFTã€‚é»˜è®¤å€¼ä¸º `win_length // 4`ã€‚

  - `kwargs`: å…¶ä»–å‚æ•°ï¼Œç”¨äºä¼ é€’ç»™ `librosa.stft()` å‡½æ•°ã€‚

- å‡½æ•°çš„è¾“å‡ºæ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸è¾“å…¥ä¿¡å· `y` ç›¸åŒçš„éŸ³é¢‘ä¿¡å·ï¼Œå…¶ä¸­åªåŒ…å«è°æ³¢æˆåˆ†ã€‚å¯ä»¥é€šè¿‡å°†è¾“å‡ºä¿¡å·ä¸åŸå§‹ä¿¡å·ç›¸å‡ï¼Œå¾—åˆ°éè°æ³¢æˆåˆ†ï¼ˆå³å™ªå£°å’Œéå‘¨æœŸæ€§æˆåˆ†ï¼‰ã€‚

- å› æ­¤ï¼Œ`librosa.effects.harmonic()` å¯ä»¥å¸®åŠ©æˆ‘ä»¬ä»éŸ³é¢‘ä¿¡å·ä¸­æå–å…¶è°æ³¢æˆåˆ†ï¼Œè¿™ç§è¡¨ç¤ºé€šå¸¸ç”¨äºéŸ³é¢‘ä¿¡å·çš„åˆ†æå’Œå¤„ç†ï¼Œä¾‹å¦‚éŸ³é¢‘ä¿¡å·çš„è½¬è°ƒã€å£°éŸ³åˆ†ç¦»å’ŒéŸ³ä¹ä¿¡æ¯æ£€ç´¢ç­‰ä»»åŠ¡ã€‚

#### librosa.feature.tonnetz

- [librosa.feature.tonnetz â€” librosa 0.10.1dev documentation](https://librosa.org/doc/main/generated/librosa.feature.tonnetz.html)
- librosa.feature.tonnetzæ˜¯ä¸€ä¸ªç”¨äºè®¡ç®—éŸ³è°ƒä¸­å¿ƒç‰¹å¾ï¼ˆtonnetzï¼‰çš„å‡½æ•°ã€‚è¿™ç§è¡¨ç¤ºæ–¹æ³•ä½¿ç”¨äº†$^{[1]}$çš„æ–¹æ³•ï¼Œå°†è‰²åº¦ç‰¹å¾æŠ•å½±åˆ°ä¸€ä¸ª6ç»´çš„åŸºç¡€ä¸Šï¼Œåˆ†åˆ«è¡¨ç¤ºå®Œå…¨äº”åº¦ã€å°ä¸‰åº¦å’Œå¤§ä¸‰åº¦çš„äºŒç»´åæ ‡ã€‚
  - [1] Harte, C., Sandler, M., & Gasser, M. (2006). â€œDetecting Harmonic Change in Musical Audio.â€ In Proceedings of the 1st ACM Workshop on Audio and Music Computing Multimedia (pp. 21-26). Santa Barbara, CA, USA: ACM Press. doi:10.1145/1178723.1178727.

è¯¥å‡½æ•°çš„å‚æ•°æœ‰ï¼š

- yï¼šnp.ndarray [shape= (â€¦, n,)] or Noneï¼ŒéŸ³é¢‘æ—¶é—´åºåˆ—ï¼Œæ”¯æŒå¤šé€šé“ã€‚
- srï¼šnumber > 0 [scalar]ï¼Œyçš„é‡‡æ ·ç‡ã€‚
- chromaï¼šnp.ndarray [shape= (n_chroma, t)] or Noneï¼Œæ¯ä¸ªè‰²åº¦åŒºé—´åœ¨æ¯ä¸€å¸§çš„å½’ä¸€åŒ–èƒ½é‡ã€‚å¦‚æœä¸ºNoneï¼Œåˆ™æ‰§è¡Œcqtè‰²åº¦å›¾ã€‚
- `**kwargs`ï¼šé¢å¤–çš„å…³é”®å­—å‚æ•°ï¼Œä¼ é€’ç»™chroma_cqtï¼Œå¦‚æœè‰²åº¦æ²¡æœ‰é¢„å…ˆè®¡ç®—ã€‚

è¯¥å‡½æ•°çš„è¿”å›å€¼æ˜¯ï¼š

- tonnetzï¼šnp.ndarray [shape (â€¦, 6, t)]ï¼Œæ¯ä¸€å¸§çš„éŸ³è°ƒä¸­å¿ƒç‰¹å¾ã€‚Tonnetzçš„ç»´åº¦æœ‰ï¼š
  - 0: Fifth x-axis
  - 1: Fifth y-axis
  - 2: Minor x-axis
  - 3: Minor y-axis
  - 4: Major x-axis
  - 5: Major y-axis

å‚è§ï¼š

- chroma_cqtï¼šä»å¸¸æ•°Qå˜æ¢è®¡ç®—è‰²åº¦å›¾ã€‚
- chroma_stftï¼šä»STFTé¢‘è°±å›¾æˆ–æ³¢å½¢è®¡ç®—è‰²åº¦å›¾ã€‚

### è¾…åŠ©å·¥å…·

#### ffmpeg

- FFmpegæ˜¯ä¸€ä¸ªå¼€æºçš„è·¨å¹³å°éŸ³è§†é¢‘å¤„ç†å·¥å…·ï¼Œå¯ä»¥ç”¨äºå¤„ç†å¤šç§éŸ³è§†é¢‘æ ¼å¼çš„ç¼–ç ã€è§£ç ã€è½¬æ¢ã€å‰ªè¾‘ã€åˆå¹¶ç­‰æ“ä½œã€‚å®ƒç”±å¤šä¸ªåº“å’Œå·¥å…·ç»„æˆï¼ŒåŒ…æ‹¬libavcodecã€libavformatã€libavutilã€libswscaleç­‰åº“ï¼Œä»¥åŠffmpegã€ffplayã€ffprobeç­‰å·¥å…·ã€‚

  FFmpegæ”¯æŒå¤šç§éŸ³è§†é¢‘æ ¼å¼ï¼ŒåŒ…æ‹¬å¸¸è§çš„MP3ã€AACã€FLACã€WAVã€MP4ã€AVIç­‰æ ¼å¼ï¼Œä»¥åŠä¸€äº›ä¸å¤ªå¸¸è§çš„æ ¼å¼ã€‚å®ƒå¯ä»¥å¯¹éŸ³è§†é¢‘è¿›è¡Œç¼–ç ã€è§£ç ã€è½¬æ¢ã€å‰ªè¾‘ã€åˆå¹¶ç­‰æ“ä½œï¼Œä¾‹å¦‚ï¼š

  - å°†è§†é¢‘æ–‡ä»¶è½¬æ¢ä¸ºä¸åŒæ ¼å¼æˆ–ä¸åŒåˆ†è¾¨ç‡çš„è§†é¢‘æ–‡ä»¶ã€‚
  - å°†éŸ³é¢‘æ–‡ä»¶è½¬æ¢ä¸ºä¸åŒæ ¼å¼æˆ–ä¸åŒé‡‡æ ·ç‡çš„éŸ³é¢‘æ–‡ä»¶ã€‚
  - å°†å¤šä¸ªéŸ³è§†é¢‘æ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªéŸ³è§†é¢‘æ–‡ä»¶ã€‚
  - å¯¹éŸ³è§†é¢‘æ–‡ä»¶è¿›è¡Œå‰ªè¾‘ã€è£å‰ªã€æ—‹è½¬ã€è°ƒæ•´äº®åº¦ã€å¯¹æ¯”åº¦ã€è‰²å½©ç­‰æ“ä½œã€‚

  FFmpegå¯ä»¥åœ¨Linuxã€Windowsã€macOSç­‰å¤šä¸ªå¹³å°ä¸Šè¿è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨å¤šç§ç¼–ç¨‹è¯­è¨€ä¸­ä½¿ç”¨ï¼Œä¾‹å¦‚Cã€C++ã€Pythonã€Javaç­‰ã€‚å®ƒæ˜¯ä¸€ä¸ªå¼ºå¤§çš„éŸ³è§†é¢‘å¤„ç†å·¥å…·ï¼Œè¢«å¹¿æ³›åº”ç”¨äºå¤šç§é¢†åŸŸï¼Œå¦‚éŸ³è§†é¢‘é‡‡é›†ã€æµåª’ä½“å¤„ç†ã€è§†é¢‘ç¼–è§£ç ã€è§†é¢‘ç›‘æ§ç­‰ã€‚

- FFmpegçš„ç¼©å†™æ¥è‡ªäº"F"ast "F"orward "mpeg"

  -  "mpeg"æ˜¯Moving Picture Experts Groupçš„ç¼©å†™ï¼Œæ˜¯ä¸€ç§æ•°å­—è§†é¢‘å‹ç¼©æ ‡å‡†ã€‚
  - FFmpegæœ€åˆæ˜¯ç”±Fabrice Bellardç¼–å†™çš„ï¼Œç›®çš„æ˜¯ä¸ºäº†åˆ›å»ºä¸€ä¸ªå…è´¹ã€å¼€æºã€é«˜è´¨é‡çš„è§†é¢‘ç¼–è§£ç å™¨ã€‚åæ¥ï¼ŒFFmpegé€æ¸å‘å±•æˆä¸ºä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„éŸ³è§†é¢‘å¤„ç†å·¥å…·ï¼Œè¢«å¹¿æ³›åº”ç”¨äºå¤šä¸ªé¢†åŸŸã€‚

