@[toc]
## ref

- [ã€å¿…çœ‹ã€‘åˆ·æœºæ³¨æ„äº‹é¡¹ (miui.com)](https://web.vip.miui.com/page/info/mio/mio/detail?postId=32681233&app_version=dev.20051)

## è§£é”

- ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/9374f9b84a5946f5a6de26790ba8ef39.png)

  - æ‰‹æœºç»‘å®šè´¦å·
  - è¿›å…¥fastbootæ¨¡å¼
  - ä½¿ç”¨å®˜æ–¹è§£é”å·¥å…·è§£é”
    - ç°åœ¨è´¦å·ç»‘å®šæ‰‹æœºåå¯èƒ½è¦ç­‰å¾…ä¸€æ®µæ—¶é—´æ‰å¯ä»¥è§£é”!

## é©±åŠ¨

- ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/661810c754b44b299f96ecb49d1f9326.png)


- æ£€æŸ¥è®¾å¤‡åŠ è½½æƒ…å†µ

  - ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/44685049a6d94e7897c860af6d0bf49c.png)

  - å¦‚æœé©±åŠ¨æ­£å¸¸
    - å…³é”®ç›®å½•åˆæ³•(é€šå¸¸å¯ä»¥å¿½ç•¥,ä½†æ˜¯ä¸ºäº†ä¸¥è°¨,å†æ­¤æä¸€ä¸‹,æˆ‘åœ¨å…¶ä»–blogä¸­è®¨è®ºè¿‡è¿™ä¸ªæ­Œé—®é¢˜)
  - åœ¨fastbootæ¨¡å¼ä¸‹æˆ–è€…å¼€æœºçŠ¶æ€å…ˆåº”è¯¥éƒ½èƒ½å¤Ÿæ£€æµ‹åˆ°
    - è®¾å¤‡å·æ˜¯ä¸€ä¸²ä¸å¤ªæœ‰è§„å¾‹çš„å­—ç¬¦ä¸²

- é€‰æ‹©åˆ·æœºåŒ…

  - è¦æ±‚æ˜¯çº¿åˆ·åŒ…æ‰å¯ä»¥è¢«è¯†åˆ«

  - ä¾‹å¦‚,ä¸‹è½½ä¸‹æ¥çš„çº¿åˆ·åŒ…æ˜¯å‹ç¼©æ–‡ä»¶

    - æ¯”å¦‚`tgz`æ ¼å¼

      - é‡Œé¢è‚¯èƒ½åˆæ˜¯ä¸€ä¸ªå‹ç¼©åŒ…(æ¯”å¦‚`rar`)

    - é‚£ä¹ˆä½ éœ€è¦å°†æ‰€æœ‰å‹ç¼©å±‚éƒ½è§£å‹,å¾—åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹(ç›®å½•)

    - è¿™æ—¶å€™é€šè¿‡é€‰æ‹©æŒ‰é’®,æ‰¾åˆ°ä½ è§£å‹å¥½çš„æ–‡ä»¶å¤¹

      - æ–‡ä»¶å¤¹å†…å®¹ç»™ä¸€ä¸ªå¤§è‡´çš„å‚è€ƒ:

      - ```bash
        PS C:\Users\cxxu\Downloads\xaga_images_V13.0.13.0.SLOCNXM_20220908.0000.00_12.0_cn_chinatelecom> ls
        
                Directory: C:\Users\cxxu\Downloads\xaga_images_V13.0.13.0.SLOCNXM_20220908.0000.00
            _12.0_cn_chinatelecom
        
        
        Mode                LastWriteTime         Length Name
        ----                -------------         ------ ----
        d----          9/8/2022   7:39 PM                ï  images
        d----          9/8/2022   7:39 PM                ï“  Log
        -a---          9/8/2022   7:37 PM           2256 ï…›  auth_sv5.auth
        -a---          9/8/2022   7:37 PM            100 ï’‰  check_sum.sh
        -a---          9/8/2022   7:37 PM          41344 ï…›  CheckSum_Gen
        -a---          9/8/2022   7:37 PM           4489 î˜©  flash_all_except_data_storage.bat
        -a---          9/8/2022   7:37 PM           4454 ï’‰  flash_all_except_data_storage.sh
        -a---          9/8/2022   7:37 PM           4672 î˜©  flash_all_lock.bat
        -a---          9/8/2022   7:37 PM           4609 ï’‰  flash_all_lock.sh
        -a---          9/8/2022   7:37 PM           4672 î˜©  flash_all.bat
        -a---          9/8/2022   7:37 PM           4631 ï’‰  flash_all.sh
        -a---          9/8/2022   7:37 PM           8081 îœ¼  flash_gen_crc_list.py
        -a---          9/8/2022   7:37 PM           2084 îœ¼  flash_gen_md5_list.py
        -a---          9/8/2022   7:37 PM        1721192 ï…›  libflashtool.so
        -a---          9/8/2022   7:37 PM        7304367 ï…›  libflashtool.v1.so
        -a---          9/8/2022   7:37 PM        6869569 ï…›  libflashtoolEx.so
        -a---          9/8/2022   7:40 PM           3288 ïœ­  md5sum.xml
        -a---          9/8/2022   7:39 PM            128 ïœ˜  misc.txt
        
        ```

      - å¦‚ä½ æ‰€è§,åº”è¯¥å¯ä»¥çœ‹åˆ°ä¸€ç³»åˆ—çš„åˆ·æœºè„šæœ¬

      - è¿˜èƒ½å¤Ÿçœ‹åˆ°ä¸€ä¸ªimagesæ–‡ä»¶å¤¹

        - ```bash
          Mode                LastWriteTime         Length Name
          ----                -------------         ------ ----
          d----          9/8/2022   7:37 PM                ï“  download_agent
          -a---          9/8/2022   7:37 PM              2 ïœ˜  anti_version.txt
          -a---          9/8/2022   7:37 PM        1402656 î‰±  apusys.img
          -a---          9/8/2022   7:37 PM        5506176 î‰±  audio_dsp.img
          -a---          9/8/2022   7:37 PM       67108864 î‰±  boot.img
          -a---          9/8/2022   7:37 PM         176288 î‰±  ccu.img
          -a---          9/8/2022   7:40 PM            525 ïœ˜  crclist.txt
          -a---          9/8/2022   7:39 PM      994824628 î‰±  cust.img
          -a---          9/8/2022   7:37 PM         263984 î‰±  dpm.img
          ...
          -a---          9/8/2022   7:37 PM           8192 î‰±  vbmeta.img
          -a---          9/8/2022   7:37 PM        1586448 î‰±  vcp.img
          -a---          9/8/2022   7:37 PM       67108864 î‰±  vendor_boot.img
          ```

        - åœ¨è¾ƒæ–°ç‰ˆæœ¬çš„androidä¸­,ç”±äºVABåˆ†åŒºçš„å¼•å…¥,ä¼šæœ‰å¾ˆå¤šé•œåƒæ–‡ä»¶(`xxx.img`)æ–‡ä»¶

        - å…¶ä¸­æœ€å…³é”®çš„æ˜¯`boot.img`(å’Œæœ¬ä¸»é¢˜æ²¡æœ‰å¤ªå¤§å…³ç³»,ä½†æ˜¯æä¸€ä¸‹)

          - ç›®å‰æœ€æµè¡Œçš„è·å–rootæƒé™çš„æ–¹æ³•å°±æ˜¯å€ŸåŠ©`magisk`ä¿®è¡¥`boot.img`

            - å‡è®¾å¾—åˆ°åå­—ä¸º`magisk_patched-25xxxx.img`

          - å°†ä¿®è¡¥åˆ°çš„æ–‡ä»¶åœ¨fastbootæ¨¡å¼ä¸‹åˆ©ç”¨å‘½ä»¤`fastboot flash boot magisk_patched-25xxx.img `

            - å°†ä¿®è¡¥åçš„é•œåƒè¾“å…¥åˆ°bootåˆ†åŒº,ä»è€Œè·å¾—rootæƒé™(éœ€è¦å€ŸåŠ©magisk appæ¥ç®¡ç†)

            - è¯¦æƒ…æŸ¥çœ‹å…¶ä»–blogs

              

## ä¿ç•™æ•°æ®åˆ·æœºé€‰é¡¹(ğŸˆğŸˆğŸˆ)

- å‰é¢æ­¥éª¤é¡ºåˆ©çš„è¯,è¿˜è¦å°å¿ƒåˆ°æœ€åä¸€æ­¥:é€‰æ‹©æ˜¯å¦ä¿ç•™æ•°æ®ä»¥åŠæ˜¯å¦åŠ é”
  - å¯¹äºç©æœºç”¨æˆ·,æ¨èåªé€‰æ‹©å‰ä¸¤ä¸ªæŒ‰é’®
  - æ™®é€šç”¨æˆ·å¦‚æœä¸éœ€è¦rootä¹‹ç±»çš„ç©æœºç¯å¢ƒ,å¯ä»¥é€‰æ‹©ç¬¬ä¸‰ä¸ªæŒ‰é’®(é»˜è®¤)
    - ä½†æ˜¯èµ„æ–™å…¨éƒ¨æ¶ˆå¤±

- ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/02c3c5b5077b4c0c8351c17b0099e273.png)

- ğŸˆä¿ç•™æ•°æ®å¯èƒ½é€ æˆä¸€äº›bug

  - å»ºè®®å¤‡ä»½åå†åˆ·æœº,é€‰æ‹©(å…¨éƒ¨åˆ é™¤)

    
###  æ‰€è°“ä¿ç•™æ•°æ®
- åªæ˜¯sdcardç›®å½•ä¸‹çš„æ–‡ä»¶ä¸ä¼šè¢«åˆ é™¤
- appä¹‹ç±»çš„ä¸œè¥¿å°†å…¨éƒ¨æ¶ˆå¤±(é‡ç½®)
- ä½†æ˜¯ç…§ç‰‡ä¹‹ç±»çš„è¿˜åœ¨

## ğŸˆæ‰§è¡Œåˆ·å†™å‰çš„æœ€åç¡®è®¤

- æ‰‹æœºä¸€å®šè¦è¿›å…¥åˆ°fastbootæ¨¡å¼,

  - å¦åˆ™è¿›åº¦æ¡èµ°ä¹Ÿæ˜¯ç™½èµ°

  

## åˆ·å†™å®Œæ¯•

- å‚è€ƒæˆªå›¾
  - ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/4d5ae53b427442a5b07bc42c1f6a50b7.png)

## å¯èƒ½çš„é”™è¯¯

- `   error:Not catch checkpoint (\$fastboot -s .* lock),flash is not done`
- è¿™å¯èƒ½å‘ç”Ÿåœ¨æ‚¨é€‰æ‹©äº†åˆ é™¤å…¨éƒ¨æ•°æ®,ä½†æ˜¯ä¸ä¸Šé”çš„æƒ…å†µä¸‹
  - ä¸€èˆ¬è¿˜æ˜¯å¯ä»¥æ­£å¸¸å¼€æœº,ä¸éœ€è¦æ‹…å¿ƒ