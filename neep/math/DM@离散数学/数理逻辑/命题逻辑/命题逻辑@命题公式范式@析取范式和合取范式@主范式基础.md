[toc]

## abstract

- 命题公式有两种常用的规范表示方法;
- 规范的表达式能表达真值表所提供的一切信息
- 这里介绍任意命题一般规范化和主范式化

## 文字

- **命题变项**及其**否定**统称作**文字**

### 简单析取式(或项)

- 仅由**有限**个**文字**构成的**析取式**称为**简单析取式**
  - 例如$p\vee{\neg{p}}\vee{r}$,其包含3个文字,是简单析取式

### 简单合取式(与项)

- 仅由**有限**个**文字**构成的**合取式**称为**简单合取式**
  - $p\wedge{r}\wedge{\neg{p}}$是3文字简单合取式

### 或项和与项

- 简单析取式,有些地方(数字逻辑)也称为**或项**
- 简单合取式,也成为**与项**

### 基本性质

- 也就说,简单析取式和简单合取式都是由有限个文字构成的

- 特别的,一个**文字**单独出现,它既是简单析取式,又是简单合取式

### 定理

- 一个**简单析取式**是**重言式**的充要条件是它**同时包含**某个命题变项$p$及其否定式$\neg{p}$
- 一个**简单合取式**是**矛盾式**的充要条件是它**同时包含**某个命题变项$p$及其否定式$\neg{p}$(同上)

## 命题公式的范式

### 析取范式

- 由有限个**简单合取式**的**析取**构成的**命题公式**称为**析取范式**
  - 析取联结词联结而成的称为析取范式:$A_1\vee{\cdots}{\vee{A_n}}$,$A_i$为简单合取式$(i=1,\cdots,n)$
- 数字逻辑中称为**与或式**

### 合取范式

- 由有限个**简单析取式**的**合取**构成的**命题公式**称为**合取范式**
  - 合取联结词联结而成的称为合取范式:$B_1\wedge{\cdots}\wedge{B_t}$,$B_j$为简单析取式$(j=1,\cdots,n)$

- 数字逻辑中称为**或与式**

### 小结

- 析取范式和合取范式它们统称为**范式**

- Note:

  - 某些命题同时满足两种范式,例如$p\vee{q\vee{r}}$,它可以解释为三个简单合取式析析取构成析取范式,也可以解释为一个包含3个文字的简单析取式,单个简单析取式满足合取范式的定义
  - 类似的$p\wedge{q}\wedge{r}$即使合取范式也是析取范式
  - 总之,单个简单析取式合简单合取式都同时满足合取范式和析取范式的定义

- 由范式存在定理可知(后续介绍),任何一个命题都可规范化为**范式**,并且根据需要等值地处理为合取范式或析取范式

  - Note:这不是说,将任意范式的$\vee$圈出,它们将范式划分为若干段,每一段视为简单合取式,从而满足析取范式,这涉及到运算顺序,需要用分配律来处理详见规范化部分

    

### 性质

- 一个析取范式是**矛盾式**的充要条件是它的每个**简单合取式**都是**矛盾式**
  - 即$A_1\vee{\cdots}{\vee{A_n}}=0$ $\Leftrightarrow$ $A_i=0$,$(i=1,\cdots,n)$
  - 一个析取范式真值为假时充要条件时其所有简单合取式都为假
- 一个合取范式是**重言式**的充要条件式它的每个简单析取式都是**重言式**
  - 即$B_1\wedge{\cdots}\wedge{B_t}=1$ $\Leftrightarrow$ $B_i=1$,$(j=1,\cdots,n)$

## 命题公式规范化

### 联结词规范化

- 消去$\to,\leftrightarrow$利用等值式:
  1. $A\to{B}$ $\Leftrightarrow$ $\neg{A}\vee{B}$
  2. $A\leftrightarrow{B}$ $\Leftrightarrow$ $(A\to{B})\wedge{(B\to{A})}$ $\Leftrightarrow$ $(\neg{A}\vee{B})\wedge{(\neg{B}\vee{A})}$

- $\neg$子式文范式化
  - $\neg\neg{A}$ $\Leftrightarrow$ $A$
  - $\neg(A\wedge{B})$ $\Leftrightarrow$ $\neg{A}\vee{\neg{B}}$
  - $\neg{(A\vee{B})}$ $\Leftrightarrow$ $\neg{A}\wedge{\neg{B}}$

### 析取@合取规范化

- 以下式范式中允许出现,但不是析取范式和合取范式都允许出现的子式化简
  - 析取范式不允许出现括号内有$\vee$,括号内只能是简单合取式,即$A\wedge{(B\vee{C})}$,分配律化为$(A\wedge{B})\vee{(A\wedge{C})}$
  - 合取范式不允许出现括号内有$\wedge$,括号内只能是简单析取式,$A\vee{(B\wedge{C})}$,利用分配律化为$(A\vee{B})\wedge{(A\vee{C})}$

### 异同点

- 将一个公式分别规范化为析取范式和合取范式的过程中,它们仅再需要执行分配律的时候开始有所区别
- 而再消去$\to,\leftrightarrow$以及规范化$\neg$子式的过程是相同的

### 范式存在定理

- 任意命题公式都存在与之等值的析取范式和合取范式
  - 因为通过上节讨论的规范化算法,可以等值规范化任意命题公式

### 规范式的不唯一性

- 通常命题的析取范式和合取范式不唯一
- 为了使范式唯一,需要进一步规范化,即引入极大项和极小项和主范式(具有唯一性)

### 极小项和极大项

- 极小项和极大项定义和相似,可以套用同一套定义模板

- 设$n$个**命题变项**,若简单合取式(简单析取式)中每个**命题变项**(原形)和它的**否定式**(否定形)恰好出现**一个**且**仅**出现**一次**,且命题变项或它的否定式按照**下标**从小到大或字典顺序**排列**,称这样的简单合取式(简单析取式)为极小项(极大项)
- Note
  - 极小项和极大项分别是简单合取式和简单析取式的**主范式**
  - 简单合取式可以规范为极小项(合取式的真值表几乎都是0(只有一个成真赋值),因此称合取式的主范式为极小项)
  - 简单析取式可以规范为极大项(析取式的真值表几乎都是1(只有一个成假赋值),因此称析取式的主范式为极大项)

## 主范式

- 所有**简单合取式**都是**极小项**的**析取范式**,称为**主析取范式**
  - 换句话说,若析取范式$A$中的所有简单合取式都是极小项,则$A$是主析取范式
  - 或者说极小项之间的析取成的公式式主析取范式
- 所有**简单析取式**都是**极大项**的合取范式,称为**主合取范式**
  - 若合取范式$A$中的所有简单析取式都是极大项,则$A$是主析合取范式
  - 极大项之间合取成的公式为主合取范式
- 数字逻辑中,主析取范式对应**标准与或式**;主合取范式对应**标准或与式**

#### $n$元主范式的个数

- 每个命题变项在极小项中,以原形或否定形式**恰好出现一次**,因此$n$个命题变项共可产生$2^{n}$个不同的极小项
  - 显然,每个极小项都有且仅有一个**成真赋值**
  - 显然,每个大小项都有且仅有一个**成假赋值**
  - 任意$n$变元命题公式的极大项和极小项都是$n$个文字构成的

#### 下标编排规则

- 若极小项的**成真赋值**(长度为$n$的0/1二进制串)所对应的**二进制数**的**十进制数**为$i$,则将这个极小项记为$m_i$
- 类似地,$n$个命题变项共可产生$2^{n}$个不同地极大项,每个极大项只有一个成假赋值,将其对应的十进制数$i$做极大项的下标,记为$M_i$



#### 初步规范化例

- 公式$A=(p\to{q})\leftrightarrow{r}$通过规范化算法可以规范化为
  - 合取范式:$(p\vee{r})\wedge(\neg{q}\vee{r})\wedge{(\neg{p}\vee{q}\vee{\neg{r}})}$
  - 析取范式:$(p\vee{\neg{q}\wedge{\neg{r}}})\vee{(\neg{p}\wedge{r})\vee{(q\wedge{r})}}$

### 例:二元 极小项和极大项

- 含有2个变量$p,q$极小项和极大项分析

- 极小项(找成真赋值)

  - |           公式           | 成`真`赋值 | 名称  |
    | :----------------------: | :--------: | :---: |
    | $\neg{p}\wedge{\neg{q}}$ |     00     | $m_0$ |
    |    $\neg{p}\wedge{q}$    |     01     | $m_1$ |
    |    $p\wedge{\neg{q}}$    |     10     | $m_2$ |
    |       $p\wedge{q}$       |     11     | $m_3$ |

- 极大项(找成假赋值)

  - |          公式          | 成`假`赋值 | 名称  |
    | :--------------------: | :--------: | :---: |
    |     ${p}\vee{{q}}$     |     00     | $M_0$ |
    |    $p\vee{\neg{q}}$    |     01     | $M_1$ |
    |    $\neg{p}\vee{q}$    |     10     | $M_2$ |
    | $\neg{p}\vee{\neg{q}}$ |     11     | $M_3$ |

- 分析

  - 仅有2个命题变元构成的极小项和极大项都是由$2^{2}=4$个,
  - 极小项间的成真赋值互不相同
  - 极大项间的成假赋值也互不相同

### 根据主范式编号还原出主范式公式👺

- 设二进制串$t=x_1\cdots{x_n}$,其中$x_i$是0或1,$i=1,\cdots,n$,$t$是二进制串的十进制值

- 又设$n$元$(p_1,\cdots,{p_n})$编号为$t$的极小项$m_t$的模式为$(p_1)\wedge\cdots\wedge(p_n)$完全由$t=x_1\cdots{x_n}$决定

  - 其中带括号的变元($p_i)$表示命题变元$p_i$的原形$p_i$或否定形$\neg{p_i}$的**占位符**
  - 那么$(p_i)$取$p_i$还是$\neg{p_i}$完全取决于$x_i$

- 对于极小项而言

  - $$
    (p_i)=\begin{cases}
        p_i&x_i=1\\
        \neg{p_i}&x_i=0
    \end{cases}
    \quad{i=1,\cdots,n}
    $$

  - 即$x_i=0$时,$(p_i)=\neg{p_i}$;$x_i=1$时,$(p_i)=p_i$

  - 容易验证,此规则下

    - $x_i$使得$(p_i)$成真:
      - $x_i=1$时.$(p_i)=p_i$,赋值$x_i=1$显然使$p_i$成真,即$(p_i)$成真
      - $x_i=0$时.$(p_i)=\neg p_i$,赋值$x_i=1$显然使$\neg p_i$成真,即$(p_i)$成真
    - 即赋值$x_1\cdots{x_n}$使得$(p_1)\wedge\cdots\wedge(p_n)$成真,因此本规则得出的$(p_1)\wedge\cdots\wedge(p_n)$就是编号为$t$的极小项$m_t$

- 对于极大项$M_t=(p_1)\vee\cdots{\vee}(p_n)$而言

  - $$
    (p_i)=\begin{cases}
        p_i&x_i=0\\
        \neg{p_i}&x_i=1
    \end{cases}
    \quad{i=1,\cdots,n}
    $$

- 总之这两条规则形式上相似,但是操作起来**相反**

- 例:二元$(p_1,p_2)$的编号为$t=2=(10)_2$的极小项和极大项

  - 极小项$m_2$=$p_1\wedge{\neg{p_2}}$;
  - 极大项$M_2$=$\neg{p_1}\vee{p_2}$

### 极小项和极大项关系定理

- 设$m_i,M_i$是含有命题变项$p_1,\cdots,p_n$的极小项和极大项,则
  - $\neg{m_i}$ $\Leftrightarrow$ $M_i$;
  - $\neg{M_i}$ $\Leftrightarrow$ $m_i$

- 这个规律可以根据德摩根律得出:
  - 设$M_i=p_1\vee\cdots\vee{p_n}$,其成假赋值二进制串$x_1\cdots x_n$,对应十进制为$i$
    - $\neg(p_1\vee\cdots\vee{p_n})$=$(\neg{p_1}\wedge{\cdots}\wedge{\neg{p_n}})$
    - 显然$\neg{p_1}\wedge{\cdots}\wedge{\neg{p_n}}$是极小项,设其编号为$j$,即记为$m_j=\neg{p_1}\wedge{\cdots}\wedge{\neg{p_n}}$
    - $M_i$和$m_j$真值相反,$x_1\cdots x_n$使$M_i$为假,则使$m_j$成真,从而$m_j$的成真赋值也是$x_1\cdots{x_n}$,因此$j=i$;
    - 所以$\neg{M}_i$ $\Leftrightarrow$ $m_i$
  - 类似的可以证明$\neg{m_i}$ $\Leftrightarrow$ $M_i$;

- 这个定理告诉我们,只要知道了标号为$i$的极小项,那么对其取反得到的命题公式便得到编号同为$i$的极大项;反之亦然

## 命题公式进行主范式化👺

- 给定一个具体的命题公式,其包含的命题变元个数$n$是首要问题
- 然后,确定各个变量间的顺序,$p_1,\cdots,p_n$
- 若命题公式$A$的合取范式(析取范式)$A'$的某个简单析取式(简单合取式)$A_i$缺少了某个变元$p_j$和$\neg{p_j}$,则采用等值式模式中的$A_i\vee{0}=A_i$和$A_i\wedge{1}=A_i$,$1=p_j\vee{\neg{p_j}}$,$0=\neg{p_j}\wedge{p_j}$来引入缺失的命题变元(或其否定形)使$A_i'$有$n$个文字
  - 如果$A'$是析取范式,则$A_i$是简单合取式,具体的补元操作为$A'_i$=$A_{i}\wedge{(p_j\vee{\neg{p_{j}}})}$=$(A_{i}\wedge{p_j})\vee(A_{i}\wedge{\neg{p_{j}}})$
  - 如果$A'$式合取范式,则$A_{i}$是简单析取式,补元操作:$A_i'$=$A_i\vee{(p_{j}\wedge{\neg{p_j}})}$=$(A_{i}\vee{p_j})\wedge(A_{i}\vee{\neg{p_{j}}})$
  - 如果缺失的字母有多个,则重复处理,直到补足$n$元
  - 由于$\vee,\wedge$都满足交换律,所以$A_i'$中的变元顺序可以按照约定的顺序排序(或则在补元操作时就将调整号顺序)
  - 去重:如果重复出现某个极小项(极大项)仅保留一个即可
- 例如,某公式$F$有3个命题变元$p_1,p_2,p_3$,将其初步规范化为合取范式$F_{\wedge}$,并
  - 设其中的一个简单析取式子式为$A_1=p_1\vee{p_2}$,其缺少文字$p_3$或$\neg{p_3}$,
  - 即$A_1'=p_1\vee{p_2}\vee{(\neg{p_3}\wedge{p_3})}$,再利用分配律展开为$A_1'=(p_1\vee{p_2}\vee{\neg{p_3})\wedge{(p_1\vee{p_2}\vee{{p_3}})}}$,
  - 将$F_{\wedge}$中的$r_1$替换为$A_1'$即可完成这部分的析取主范式化(极大项)
  - 类似的,将所有$F_{\wedge}$简单析取式主范式化
  - 又比如$p_1\vee{p_3}$缺失$p_2$,则执行$p_1\vee{(p_2\wedge{\neg{p_2}})}\vee{p_3}$,即$(p_1\vee{p_2}\vee{p_3})\wedge(p_1\vee{\neg{p_2}\vee{p_3}})$
- 排序
  - 为了使主范式化的公式更加醒目和易于比较异同,极小项(极大项)之间要按照下标编号从小到大排列
  - 例如$m_1\vee{m_3}\vee{m_2}$需要排列成$m_1\vee{m_2}\vee{m_3}$



