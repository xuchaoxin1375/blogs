

- C@python#çŸ©é˜µä¹˜æ³•#numpyä¸­çš„ä¹˜æ³•#çŸ©é˜µè¿ç®—@çŸ©é˜µä¹˜æ³•@çŸ©é˜µè½¬ç½®@ç‚¹ç§¯@å†…ç§¯@è¿¹è¿ç®—

## çŸ©é˜µä¹˜æ³•@çŸ©é˜µæ ‡å‡†ä¹˜ç§¯ğŸˆ



- ç»™å®š$m\times{l}$çŸ©é˜µ$A=(a_{ij})_{m\times{l}}$å’Œ$l\times{n}$çŸ©é˜µ$B=(b_{ij})_{l\times{n}}$

- è®°A,Bçš„ä¹˜ç§¯ä¸º$C=AB=(c_{ij})_{m\times{n}}$,Cä¸­çš„å…ƒç´ $c_{ij}$è®¡ç®—å…¬å¼å¦‚ä¸‹

  - $$
    c_{ij}=\sum\limits_{k=1}^{l}a_{ik}b_{kj}
    $$

  - A,Bçš„è§„æ ¼ä¿è¯äº†Açš„åˆ—æ•°ç­‰äºBçš„è¡Œæ•°,<u>Açš„**è¡Œå‘é‡**ä¸­åŒ…å«çš„å…ƒç´ æ•°å’ŒBçš„**åˆ—å‘é‡**åŒ…å«çš„å…ƒç´ éƒ½æ˜¯$l$ä¸ª</u>

  - çŸ©é˜µä¹˜ç§¯çš„ç»“æœæ˜¯ä¸€ä¸ªçŸ©é˜µ,ä¸”è§„æ ¼(è¡Œæ•°å’Œåˆ—æ•°)åˆ†åˆ«ç”±ç¬¬ä¸€ä¸ªçŸ©é˜µçš„è¡Œæ•°å’Œç¬¬äºŒä¸ªçŸ©é˜µçš„åˆ—æ•°å†³å®š
  - ç‰¹åˆ«çš„,å¦‚æœæ˜¯ä¸¤ä¸ªå‘é‡(è¡Œå‘é‡ä¹˜ä»¥ç›¸åŒç»´æ•°çš„åˆ—å‘é‡),ç»“æœæ˜¯ä¸€ä¸ªä»…åŒ…å«ä¸€ä¸ªå…ƒç´ çš„çŸ©é˜µ(ä¸€èˆ¬å¯ä»¥è§†ä¸ºä¸€ä¸ªæ ‡é‡)
  - å¦‚æœä¸¤ä¸ªåŒnç»´å‘é‡(åˆ—å‘é‡ä¹˜ä»¥è¡Œå‘é‡),ç»“æœæ˜¯ä¸€ä¸ªné˜¶æ–¹é˜µ
  

### ä»£ç å®ç°

#### Cè¯­è¨€ç‰ˆ

```
æœ‰2Ã—3çš„çŸ©é˜µaå’Œ3Ã—2çš„çŸ©é˜µbï¼Œæ±‚è¿™ä¸¤ä¸ªçŸ©é˜µç›¸ä¹˜åçš„2Ã—2çŸ©é˜µcï¼Œå¹¶æ‰“å°ã€‚

è¦æ±‚ç”¨å‡½æ•°å®ç°   Multi(int a[][3],int b[][2],int c[][2])
çŸ©é˜µaï¼Œbçš„å€¼åœ¨ä¸»å‡½æ•°ä¸­è¾“å…¥ã€‚


è¾“å…¥
2Ã—3çš„çŸ©é˜µaå’Œ3Ã—2çš„çŸ©é˜µb

è¾“å‡º
è¿™ä¸¤ä¸ªçŸ©é˜µç›¸ä¹˜åçš„2Ã—2çŸ©é˜µcï¼Œå¹¶æ‰“å°ã€‚

æ ·ä¾‹è¾“å…¥
1 2 3
3 2 1

1 2
3 1
2 3
æ ·ä¾‹è¾“å‡º
13 13
11 11
 
```

```c
#include <stdio.h>
#include <string.h>
#include <math.h>
#include <stdlib.h>
//åœ¨æ­¤ä¸‹æ–¹æ’å…¥è‡ªå®šä¹‰å‡½æ•°çš„å£°æ˜:
void Multi(int a[][3], int b[][2], int c[][2]);
//ä¸»å‡½æ•°main
int main()
{

    int a[2][3], b[3][2], c[2][2];
    /* ä¸¤ä¸ªäºŒé‡å¾ªç¯è¯»å…¥æ•°æ® */
    for (int i = 0; i < 2; i++)
    {
        for (int j = 0; j < 3; j++)
        {
            scanf("%d", &a[i][j]);
        }
    }
    for (int i = 0; i < 3; i++)
    {
        for (int j = 0; j < 2; j++)
        {
            scanf("%d", &b[i][j]);
        }
    }
/* è°ƒç”¨æ‰§è¡ŒçŸ©é˜µè®¡ç®—çš„å‡½æ•° */
    Multi(a, b, c);
    /* å°†å¤„ç†ç»“æœæ‰“å°å‡ºæ¥ */
    for (int i = 0; i < 2; i++)
    {
        for (int j = 0; j < 2; j++)
        {
            /* è¯¥è¡Œçš„æœ€åä¸€ä¸ªå…ƒç´ ç´¢å¼•æ˜¯2,é‚£å°±æ˜¯åœ¨2ä¹‹å‰çš„å…ƒç´ å¯ä»¥è·Ÿä¸€ä¸ªç©ºæ ¼ */
            printf("%d", c[i][j]);
            if (j < 1)
            {
                printf(" ");
            }
        }
        //printf("%d\n");//å‘ç”Ÿäº†è¶£äº‹:æ‰“å°æ—§å€¼
        printf("\n");
    }

    return 0;
}
//ä¸»å‡½æ•°ç»“æŸ.
//åœ¨ä¸‹æ–¹ç¼–å†™è‡ªå®šä¹‰å‡½æ•°:
void Multi(int a[][3], int b[][2], int c[][2])
{

    /* mxk , kxn ;ç»“æœçŸ©é˜µå› è¯¥æ˜¯mxn*/
    int m = 2; /* çŸ©é˜µAçš„è¡Œæ•° */
    int n = 2; /* çŸ©é˜µBçš„åˆ—æ•° */

    int p = 3; /* çŸ©é˜µAçš„åˆ—æ•°å¿…é¡»å’ŒçŸ©é˜µBçš„è¡Œæ•°ç›¸åŒ,è¯¥æ•°å€¼è®°ä¸ºk */
    /* ç»“æœçŸ©é˜µçš„æ¯ä¸€ä¸ªå…ƒç´ å€¼æ˜¯ä¸€ä¸ªké¡¹å¼çš„å’Œ */

    /* è®°å¾—ç”¨cä¸­çš„å…ƒç´ ç´¯è®¡å€¼ä¹‹å‰åˆå§‹åŒ–c  */
    /* ç”±ç»“æœçŸ©é˜µCçš„è§„æ ¼m*nå¯çŸ¥,åº”è¯¥ç”¨è¿ä¸ªå¾ªç¯æ¥å¡«å……çŸ©é˜µCè€Œä¸”è¡Œå’Œåˆ—åˆ†åˆ«æ˜¯m,n */
    for (int i = 0; i < m; i++) /* æ§åˆ¶è¡Œéå†(çŸ©é˜µAçš„) */
    {
        for (int j = 0; j < n; j++) /* æ§åˆ¶åˆ—éå†(çŸ©é˜µBçš„åˆ—) */
        {
            c[i][j] = 0;                //åˆå§‹åŒ–ç´¯åŠ è®¡æ•°å™¨
            for (int k = 0; k < p; k++) /* kä½œä¸ºéå†å…ƒç´ çš„é©±åŠ¨å™¨(ä¸ºä¸¤ä¸ªçŸ©é˜µæ‰€å…±ç”¨(å…·ä½“æ˜¯,çŸ©é˜µAæ¨ªå‘éå†,çŸ©é˜µBçºµå‘éå†)) */
            {
                c[i][j] += a[i][k] * b[k][j]; //åè€…æ˜¯b çŸ©é˜µ
            }
        }
    }
}
```



#### python å®ç°

- å¯¹Aé€è¡Œéå†

  - Açš„æ¯ä¸€è¡Œéƒ½è¦å¯¹Bé€åˆ—éå†

  - ```python
    ##
    import numpy as np
    rng = np.random.default_rng()
    m,l,n=3,4,5
    m,l,n=3,1,4
    A=rng.integers(1,10,size=(m,l))
    B=rng.integers(1,10,size=(l,n))
    #ä½¿ç”¨.dot()æ–¹æ³•è®¡ç®—çŸ©é˜µä¹˜æ³•(å†…ç§¯)
    ##
    C=A.dot(B)
    # å¯¹äºäºŒç»´æ•°ç»„ï¼ˆçŸ©é˜µï¼‰è¿˜å¯ä»¥ç”¨ä¸‹åˆ—æ–¹å¼è®¡ç®—
    # np.matmul(A,B)
    # A@B
    A,B,C
    ##
    for i in range(m):
        for j in range(n):
            c_ij=0
            for k in range(l):
                # for p in range()
                c_ij+=A[i,k]*B[k,j]
            print("%s\t"%c_ij,end=" ")
        print()
    ##
    for i in range(m):
        for j in range(n):
            c_ij=A[i]*B[:,j]
            print("%s\t"%c_ij[0],end=" ")
            # print("%s\t"%c_ij,end=" ")
        print()
            
    ```

  - çŸ©é˜µä¹˜æ³•çš„ä¸‰ç§è®¡ç®—æ–¹å¼çš„å†…å®¹éƒ½æ˜¯ç›¸åŒçš„



#### numpyä¸­çš„ä¹˜æ³•

- [numpy.dot â€” NumPy v1.24 Manual](https://numpy.org/doc/stable/reference/generated/numpy.dot.html)

  - å¤šç”¨é€”ä¹˜æ³•(æ ¹æ®å‚æ•°ç±»å‹æœ‰ä¸åŒçš„è¡Œä¸º)
  - Dot product of two arrays. Specifically,
    - ä½ç»´æ•°ç»„å’Œæ ‡é‡çš„è¡Œä¸º:
      - If both *a* and *b* are 1-D arrays, it is inner product of vectors (without complex conjugation).
      - If both *a* and *b* are 2-D arrays, it is matrix multiplication, but using [`matmul`](https://numpy.org/doc/stable/reference/generated/numpy.matmul.html#numpy.matmul) or `a @ b` is preferred.
      - If either *a* or *b* is 0-D (scalar)æ ‡é‡ä¹˜æ³•, it is equivalent to [`multiply`](https://numpy.org/doc/stable/reference/generated/numpy.multiply.html#numpy.multiply) and using `numpy.multiply(a, b)` or `a * b` is preferred.
    - é«˜ç»´æ•°ç»„è¡Œä¸º:
      - If *a* is an N-D array and *b* is a 1-D array, it is a sum product over the last axis of *a* and *b*.
      - If *a* is an N-D array and *b* is an M-D array (where `M>=2`), it is a sum product over the last axis of *a* and the second-to-last axis of *b*:

- [numpy.matmul â€” NumPy v1.24 Manual](https://numpy.org/doc/stable/reference/generated/numpy.matmul.html#numpy.matmul)

  - çŸ©é˜µä¹˜æ³•
  - å¤šç»´æ•°ç»„ä¹˜æ³•

- [numpy.multiply â€” NumPy v1.24 Manual](https://numpy.org/doc/stable/reference/generated/numpy.multiply.html#numpy.multiply)

  - Multiply arguments element-wise.é€å…ƒç´ å°†å‚æ•°ç›¸ä¹˜,å‚æ•°å¯ä»¥æ˜¯array_like

  - Parameters:

    - **x1, x2**array_like
    - Input arrays to be multiplied. If `x1.shape != x2.shape`, they must be broadcastable to a common shape (which becomes the shape of the output).å®ƒä»¬å¿…é¡»å¯æ‰©å±•åˆ°ä¸€ä¸ªå…±åŒçš„å½¢çŠ¶ï¼ˆå³è¾“å‡ºçš„å½¢çŠ¶ï¼‰

  - æŒ‰å…ƒç´ ç›¸ä¹˜å‚æ•°ã€‚

  - ```python
    import numpy as np
    rng = np.random.default_rng()
    
    x1 = np.arange(9.0).reshape((3, 3))
    x2 = np.arange(3.0)
    x3=np.array([x2,x2,x2])
    x1, x2, np.multiply(x1, x2),np.multiply(x1, x3)
    ##
    y1=(10*rng.random((3,4))).round(1)
    y2=(10*rng.random(4,)).round(1)
    y1,y2,np.multiply(y1, y2)
    ##np.multiplyå¯ä»¥ç”¨*å·ç®€å†™
    print("x1*x2=\n%s,\ny1*y2=\n%s"%(x1*x2,y1*y2))
    ```

  - ```bash
    (array([[0., 1., 2.],
            [3., 4., 5.],
            [6., 7., 8.]]),
     array([0., 1., 2.]),
     array([[ 0.,  1.,  4.],
            [ 0.,  4., 10.],
            [ 0.,  7., 16.]]),
     array([[ 0.,  1.,  4.],
            [ 0.,  4., 10.],
            [ 0.,  7., 16.]]))
            
    (array([[4.8, 0.6, 8.4, 1.5],
            [8.6, 6.6, 8.8, 6.1],
            [7.9, 6.7, 2.2, 2.1]]),
     array([4. , 0.5, 4.8, 8.6]),
     array([[19.2 ,  0.3 , 40.32, 12.9 ],
            [34.4 ,  3.3 , 42.24, 52.46],
            [31.6 ,  3.35, 10.56, 18.06]]))
    x1*x2=
    [[ 0.  1.  4.]
     [ 0.  4. 10.]
     [ 0.  7. 16.]],
    y1*y2=
    [[12.6  14.7  32.68 53.94]
     [38.43  0.63 11.18 64.38]
     [27.09 15.54 39.56 55.68]]
    ```

#### pytorchä¸­çš„ä¹˜æ³•

- [torch.mm â€” PyTorch 2.0 documentation](https://pytorch.org/docs/stable/generated/torch.mm.html)

## Hadamard ä¹˜ç§¯

- [Hadamard product (matrices) - Wikipedia](https://en.wikipedia.org/wiki/Hadamard_product_(matrices))

- éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸¤ä¸ªçŸ©é˜µçš„**æ ‡å‡†ä¹˜ç§¯**ä¸æ˜¯æŒ‡ä¸¤ä¸ªçŸ©é˜µä¸­å¯¹åº”å…ƒç´ çš„ä¹˜ç§¯ã€‚

- ä¸è¿‡ï¼Œé‚£æ ·çš„çŸ©é˜µæ“ä½œç¡®å®æ˜¯å­˜åœ¨çš„ï¼Œè¢«ç§°ä¸º **å…ƒç´ å¯¹åº”ä¹˜ç§¯**ï¼ˆelement-wise productï¼‰æˆ–è€… Hadamard ä¹˜ç§¯ï¼ˆHadamard productï¼‰ï¼Œè®°ä¸º $A\odot B$,å…¶ç»“æœæ˜¯ä¸€ä¸ªä¸è¿ä¸ªå› å­åŒå‹çš„çŸ©é˜µã€‚

  - $$
    c_{ij}=a_{ij}b_{ij}
    $$

    

## å‘é‡ç‚¹ç§¯@å†…ç§¯ğŸˆ

### ç‚¹ç§¯(å†…ç§¯)

- ä¸¤ä¸ªåŒç»´æ•°(è§„æ ¼)çš„nç»´<u>åˆ—å‘é‡</u>**å‘é‡** a å’Œ b çš„ **ç‚¹ç§¯**ï¼ˆdot productï¼‰å¯çœ‹ä½œæ˜¯çŸ©é˜µä¹˜ç§¯ $a^Tb$ã€‚

  - æœ‰æ—¶ä¹Ÿæˆä¸º**å†…ç§¯**
  - æ­¤å¤„,ç»´æ•°æŒ‡å‘é‡åŒ…å«çš„å…ƒç´ ä¸ªæ•°

- $$
  {\displaystyle \mathbf {\color {red}a} \cdot \mathbf {\color {blue}b}
  =\sum _{i=1}^{n}{\color {red}a}_{i}{\color {blue}b}_{i}
  ={\color {red}a}_{1}{\color {blue}b}_{1}+{\color {red}a}_{2}{\color {blue}b}_{2}+\cdots +{\color {red}a}_{n}{\color {blue}b}_{n}}
  \\
  å†…ç§¯è¿˜å¸¸è®°ä¸º(a,b),å³(a,b)=a\cdot{b}
  $$

  - æˆ–$a\cdot{b}=\sum\limits_{i=1}^{n}(a\odot{b})_{i}$
    - $a\odot{b}$æ˜¯å‘é‡a,bçš„hadamardç§¯(å‘é‡)

- å‘é‡ç‚¹ç§¯çš„ç»“æœæ˜¯ä¸€ä¸ª**æ ‡é‡**

#### æ€§è´¨

- ç‚¹ç§¯æ»¡è¶³äº¤æ¢å¾‹(è€Œä¸€èˆ¬çš„çŸ©é˜µä¹˜æ³•æ˜¯ä¸æ»¡è¶³äº¤æ¢å¾‹çš„)

- $(\alpha,\beta)=(\beta,\alpha)$

- $(k\alpha,{\beta})=(\alpha,k\beta)=k(\alpha,\beta)$

  - $$
    \sum_ik\alpha_i\beta_i
    =\sum_{i}\alpha_ik\beta_i
    =k\sum_{i}\alpha_{i}\beta_i
    $$

- $(\alpha+\beta,\gamma)=(\alpha,\gamma)+(\beta,\gamma)$

  - $$
    \sum_{i}(\alpha+\beta)_i\gamma_i
    =\sum_{i}(\alpha_i\gamma_i+\beta_i\gamma_i)
    =\sum_{i}\alpha_i\gamma_i+\sum_{i}\beta_i\gamma_i
    \\
    $$

- $(\sum\alpha_i,\beta)=\sum(\alpha_i,\beta)$

  - æ˜¯ä¸Šä¸€æ¡ç»“è®ºçš„tui'gua
    $$
    \sum_{i}\left((\sum_{j}\alpha_j)\gamma_i\right)
    =\sum_{i}(\sum_{j}\alpha_j\gamma_i)
    $$
    

- $(\alpha,\alpha)\geqslant 0$å½“ä¸”ä»…å½“$\alpha=0$æ—¶,$(\alpha,\alpha)=0$

  - $$
    \sum_{i}(\alpha_i)^2\geqslant{0}
    $$

    



### çŸ©é˜µä¹˜ç§¯å’Œå‘é‡ç‚¹ç§¯çš„å…³ç³»

- æˆ‘ä»¬å¯ä»¥æŠŠçŸ©é˜µä¹˜ç§¯ C = AB ä¸­è®¡ç®— $c_{ij}=\sum\limits_{k=1}^{l}a_{ik}b_{kj}$ çš„æ­¥éª¤çœ‹ä½œæ˜¯ A çš„ç¬¬ i è¡Œå’Œ B çš„ç¬¬ j åˆ—ä¹‹é—´çš„ç‚¹ç§¯ã€‚

### å†…ç§¯è¡¥å……

- å†…ç§¯æ˜¯ä¸€ä¸ªæ•°å­¦æ¦‚å¿µï¼Œä¹Ÿå«æ ‡é‡ç§¯ã€ç‚¹ç§¯æˆ–æ•°é‡ç§¯ã€‚å®ƒæ˜¯ä¸€ç§å°†ä¸¤ä¸ªå‘é‡æ˜ å°„ä¸ºä¸€ä¸ªå®æ•°çš„è¿ç®—ã€‚å®ƒå¯ä»¥ç”¨æ¥è®¡ç®—å‘é‡çš„å¤¹è§’å’Œé•¿åº¦ã€‚åœ¨è‹±è¯­ä¸­ï¼Œå†…ç§¯å«åšinner product.
  - by chatgpt
- **å†…ç§¯ç©ºé—´**ï¼ˆè‹±è¯­ï¼šInner product spaceï¼‰æ˜¯[æ•°å­¦](https://zh.wikipedia.org/wiki/æ•°å­¦)ä¸­çš„[çº¿æ€§ä»£æ•°](https://zh.wikipedia.org/wiki/çº¿æ€§ä»£æ•°)é‡Œçš„åŸºæœ¬æ¦‚å¿µï¼Œæ˜¯å¢æ·»äº†ä¸€ä¸ªé¢å¤–çš„ç»“æ„çš„[å‘é‡ç©ºé—´](https://zh.wikipedia.org/wiki/å‘é‡ç©ºé—´)ã€‚è¿™ä¸ªé¢å¤–çš„ç»“æ„å«åš**[å†…ç§¯](https://zh.wikipedia.org/wiki/å†…ç§¯)**æˆ–[æ ‡é‡ç§¯](https://zh.wikipedia.org/wiki/æ ‡é‡ç§¯)ã€‚
- å†…ç§¯å°†ä¸€å¯¹[å‘é‡](https://zh.wikipedia.org/wiki/å‘é‡)ä¸ä¸€ä¸ªæ ‡é‡è¿æ¥èµ·æ¥ï¼Œå…è®¸æˆ‘ä»¬ä¸¥æ ¼åœ°è°ˆè®º[å‘é‡](https://zh.wikipedia.org/wiki/å‘é‡)çš„â€œ[å¤¹è§’](https://zh.wikipedia.org/wiki/è§’)â€å’Œâ€œ[é•¿åº¦](https://zh.wikipedia.org/wiki/é•¿åº¦)â€ï¼Œå¹¶è¿›ä¸€æ­¥è°ˆè®ºå‘é‡çš„[æ­£äº¤æ€§](https://zh.wikipedia.org/wiki/æ­£äº¤)ã€‚
- å†…ç§¯ç©ºé—´ç”±[æ¬§å‡ é‡Œå¾—ç©ºé—´](https://zh.wikipedia.org/wiki/æ¬§å‡ é‡Œå¾—ç©ºé—´)æŠ½è±¡è€Œæ¥ï¼ˆå†…ç§¯æ˜¯ç‚¹ç§¯çš„æŠ½è±¡ï¼‰

- å†…ç§¯ç©ºé—´æœ‰æ—¶ä¹Ÿå«åš**å‡†å¸Œå°”ä¼¯ç‰¹ç©ºé—´**ï¼ˆpre-Hilbert spaceï¼‰

## broadcasting

- åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿä½¿ç”¨ä¸€äº›ä¸é‚£ä¹ˆå¸¸è§„çš„ç¬¦å·ã€‚æˆ‘ä»¬å…è®¸çŸ©é˜µå’Œå‘é‡ç›¸åŠ ï¼Œäº§ç”Ÿå¦ä¸€ä¸ªçŸ©é˜µï¼š$C = A + b$ï¼Œå…¶ä¸­ $C_{i,j} = A_{i,j} + b_j$ã€‚æ¢è¨€ä¹‹ï¼Œå‘é‡ b å’ŒçŸ©é˜µA çš„æ¯ä¸€è¡Œç›¸åŠ ã€‚
  - è¿™ä¸ªç®€å†™æ–¹æ³•ä½¿æˆ‘ä»¬æ— éœ€åœ¨åŠ æ³•æ“ä½œå‰å®šä¹‰ä¸€ä¸ªå°†å‘é‡ b å¤åˆ¶åˆ°æ¯ä¸€è¡Œè€Œç”Ÿæˆçš„çŸ©é˜µã€‚
  - è¿™ç§éšå¼åœ°å¤åˆ¶å‘é‡ b åˆ°å¾ˆå¤šä½ç½®çš„æ–¹å¼ï¼Œè¢«ç§°ä¸º å¹¿æ’­ï¼ˆbroadcastingï¼‰ã€‚

- ç›¸ä¹˜çš„ä¸¤ä¸ªçŸ©é˜µå¯ä»¥æ˜¯ç›¸åŒè§„æ ¼çš„,æˆ–è€…å…¶ä¸­ä¸€ä¸ªè§„æ ¼è¾ƒå°,ä½†å¯ä»¥é€šè¿‡broadcastingæ“ä½œå¾—åˆ°å¯ä»¥ç›¸ä¹˜çš„è§„æ ¼[Broadcasting â€” NumPy v1.24 Manual](https://numpy.org/doc/stable/user/basics.broadcasting.html)
  - [General Broadcasting Rules](https://numpy.org/doc/stable/user/basics.broadcasting.html#general-broadcasting-rules)
  - [Broadcastable arrays](https://numpy.org/doc/stable/user/basics.broadcasting.html#broadcastable-arrays)
  - [A Practical Example: Vector Quantization](https://numpy.org/doc/stable/user/basics.broadcasting.html#a-practical-example-vector-quantization)
- The term broadcasting describes how NumPy treats arrays with different shapes during arithmetic operations. Subject to certain constraints, <u>the smaller array is â€œbroadcastâ€ across the larger array so that they have compatible shapes.</u>
-  Broadcasting provides a means of vectorizing array operations so that looping occurs in C instead of Python. 
- It does this without making needless copies of data and usually leads to efficient algorithm implementations. There are, however, cases where broadcasting is a bad idea because it leads to inefficient use of memory that slows computation.

### ç¤ºä¾‹ä»£ç (çŸ©é˜µå†…ç§¯)

- å†…ç§¯,å³2ä¸ªçŸ©é˜µ(å¹¿æ’­ä¹‹å),æ‰§è¡Œå¯¹åº”å…ƒç´ ä¹˜æ³•

- ```python
  ##
  import numpy as np
  rng = np.random.default_rng()
  m=3
  n=4
  A=rng.integers(1,9,size=(m,1))
  B=rng.integers(1,9,size=(1,n))
  print("%s@A;\n%s@B;\n%s@A*B;\n"%(A,B,A*B))
  
  ## matrix broadcasting (m,1)&(1,n)->(m,n)
  Amn=np.array([[A[l][0] for c in range(n)] for l in range(m)])
  Bmn=np.array([[B[0][c] for c in range(n)] for l in range(m)])
  # Bmn=np.array([B[0] for i in range(m)])
  print("%s@Amn\n%s@Bmn\n%s@Amn*Bmn\n"%(Amn,Bmn,Amn*Bmn))
  ```
  
- ```
  [[8]
   [4]
   [6]]@A;
  [[1 5 4 2]]@B;
  [[ 8 40 32 16]
   [ 4 20 16  8]
   [ 6 30 24 12]]@A*B;
  
  [[8 8 8 8]
   [4 4 4 4]
   [6 6 6 6]]@Amn
  [[1 5 4 2]
   [1 5 4 2]
   [1 5 4 2]]@Bmn
  [[ 8 40 32 16]
   [ 4 20 16  8]
   [ 6 30 24 12]]@Amn*Bmn
  ```

## çŸ©é˜µä¹˜æ³•å„ç§å½¢å¼å°ç»“ğŸ‘ŒğŸ‘Œ

- çŸ©é˜µä¹˜æ³•è¿ç®—å…·æœ‰ç›¸å½“çš„é‡è¦æ€§,ä¸ºæ­¤ä»å‘é‡çš„è§’åº¦å†æè¿°å®ƒ

- è®¾çŸ©é˜µAä¸º$m\times{n}$çš„

  - $$
    A=\begin{pmatrix}
    	a_{11}  &a_{12}  &\cdots  &a_{1n}  	\\
    	a_{21}  &a_{22}  &\cdots  &a_{2n}  	\\
    	\vdots  &\vdots  &        &\vdots  	\\
    	a_{m1}  &a_{m2}  &\cdots  &a_{mn}  	\\
    \end{pmatrix}
    \\è®°\alpha_j
    =\begin{pmatrix}
    	a_{1j}  	\\
    	a_{2j}  	\\
    	\vdots		\\
    	a_{mj}  	\\
    \end{pmatrix},j=1,2,\cdots,n
    \\A=\begin{pmatrix}
    	\alpha_{1}&\alpha_{2}&\cdots&\alpha_{n}	\\
    \end{pmatrix}
    $$

  - $$
    è®°
    \beta_i=(a_{i1},a_{i2},\cdots,a_{in})
    \\
    A=
    \begin{pmatrix}
    	\beta_{1}\\
    	\beta_{2}\\
    	\vdots		\\
    	\beta_{m}	\\
    \end{pmatrix}
    $$

  - æ³¨æ„$\alpha_i$å’Œ$\beta_i$ä¸æ˜¯è½¬ç½®å…³ç³»

- å°†çŸ©é˜µå†™ä½œè¡Œå‘é‡ç»„å’Œåˆ—å‘é‡ç»„çš„åˆ†å—çŸ©é˜µå½¢å¼:

  - $$
    A=
    \begin{pmatrix}
    	\alpha_{1}&\alpha_{2}&\cdots&\alpha_{n}	\\
    \end{pmatrix}
    =\begin{pmatrix}
    	\beta_{1}	\\
    	\beta_{2}	\\
    	\vdots		\\
    	\beta_{m}	\\
    \end{pmatrix}
    $$

- ç±»ä¼¼çš„,è®¾çŸ©é˜µBä¸º$n\times{s}$çš„çŸ©é˜µ

  - $$
    B=\begin{pmatrix}
    	b_{11}  &b_{12}  &\cdots  &b_{1s}  	\\
    	b_{21}  &b_{22}  &\cdots  &b_{2s}  	\\
    	\vdots  &\vdots  &        &\vdots  	\\
    	b_{n1}  &b_{n2}  &\cdots  &b_{ns}  	\\
    \end{pmatrix}
    \\
    B=(\gamma_1,\gamma_2,\cdots,\gamma_s)
    =\begin{pmatrix}
    	\theta_{1}\\
    	\theta_{2}\\
    	\vdots		\\
    	\theta_{n}	\\
    \end{pmatrix}
    \\\\
    $$

    

- ä¹˜ç§¯:

  - $$
    C_{m\times{s}}=A_{m\times{n}}B_{n\times{s}},
    \\
    c_{ij}=\sum\limits_{k=1}^{n}a_{ik}b_{kj},(i=1,2,\cdots,m;j=1,2,\cdots,s)
    \\çŸ©é˜µCè®°ä¸ºC=(c_{ij})_{m\times{s}}
    $$

    - ```python
      for i in range_inclusive(1,m):
      	for j in range_inclusive(1,s):
              c_ij=0
              for k in range(l):
                  c_ij+=A[i][k]*B[k][j]
              print("%s\t"%c_ij,end=" ")
              
      #å…¶ä¸­range_inclusive(a,b)è¡¨ç¤ºç”Ÿæˆ[a,b]èŒƒå›´å†…çš„æ•´æ•°(åŒ…æ‹¬è¾¹ç•Œåœ¨å†…)
      def range_inclusive(a,b)
      	return range(a,b+1)
      ```

      

  - $$
    C=AB=\begin{pmatrix}
    	\alpha_{1}&\alpha_{2}&\cdots&\alpha_{n}	\\
    \end{pmatrix}
    \begin{pmatrix}
    	\theta_{1}\\
    	\theta_{2}\\
    	\vdots		\\
    	\theta_{n}	\\
    \end{pmatrix}
    =\sum\limits_{i=1}^{n}\alpha_i\theta_i
    \\C,\alpha_i\theta_iéƒ½æ˜¯m\times{s}çš„çŸ©é˜µ
    \\
    $$

    - æ•´ä¸ªè¿‡ç¨‹æ˜¯æ‰‹å·¥è®¡ç®—æ—¶çš„è¿‡ç¨‹
    - $\alpha_i\theta_i=\alpha_i\cdot{\theta_i}$ç›¸å½“äºç‚¹ç§¯è¿ç®—
    
  - $$
    C=AB=
    \begin{pmatrix}
    	\beta_{1}\\
    	\beta_{2}\\
    	\vdots		\\
    	\beta_{m}	\\
    \end{pmatrix}
    (\gamma_1,\gamma_2,\cdots,\gamma_s)
    =\begin{pmatrix}
    \beta_1\gamma_1&\beta_1\gamma_2&\cdots&\beta_1\gamma_s	\\
    \beta_2\gamma_1&\beta_2\gamma_2&\cdots&\beta_2\gamma_s	\\
    \vdots&\vdots&&\vdots\\
    \beta_m\gamma_1&\beta_m\gamma_2&\cdots&\beta_m\gamma_s	\\
    \end{pmatrix}_{m\times{s}}
    \\
    \\çŸ©é˜µCçš„å…ƒç´ :c_{ij}
    =\beta_{i}\gamma_j
    =\sum\limits_{k=1}^{n}a_{ik}b_{kj},(i=1,2,\cdots,m;j=1,2,\cdots,s)
    \\\beta_{i}å’Œ\gamma_jåˆ†åˆ«æ˜¯1\times{n},n\times{1}çš„çŸ©é˜µ(å‘é‡),
    \\ä»–ä»¬çš„ä¹˜ç§¯\beta_{i}\gamma_jæ˜¯ä¸€ä¸ªä»…å«æœ‰ä¸€ä¸ªæ•°å€¼å…ƒç´ çš„çŸ©é˜µ,
    \\Cå¯ä»¥è§†ä¸º\beta_{i}\gamma_jæ„æˆçš„åˆ†å—çŸ©é˜µ
    $$
  

### ä½¿ç”¨ç‚¹ç§¯çš„å½¢å¼æè¿°çŸ©é˜µä¹˜æ³•

- åœ¨æŒæ¡ç‚¹ç§¯å’ŒçŸ©é˜µ-å‘é‡ç§¯çš„çŸ¥è¯†åï¼Œé‚£ä¹ˆ**çŸ©é˜µ-çŸ©é˜µä¹˜æ³•**ï¼ˆmatrix-matrix multiplicationï¼‰åº”è¯¥å¾ˆç®€å•ã€‚


- å‡è®¾æœ‰ä¸¤ä¸ªçŸ©é˜µ$\mathbf{A} \in \mathbb{R}^{n \times k}$å’Œ$\mathbf{B} \in \mathbb{R}^{k \times m}$ï¼š

  - $$
    \mathbf{A}=\begin{bmatrix}
     a_{11} & a_{12} & \cdots & a_{1k} \\
     a_{21} & a_{22} & \cdots & a_{2k} \\
    \vdots & \vdots & \ddots & \vdots \\
     a_{n1} & a_{n2} & \cdots & a_{nk} \\
    \end{bmatrix},\quad
    \mathbf{B}=\begin{bmatrix}
     b_{11} & b_{12} & \cdots & b_{1m} \\
     b_{21} & b_{22} & \cdots & b_{2m} \\
    \vdots & \vdots & \ddots & \vdots \\
     b_{k1} & b_{k2} & \cdots & b_{km} \\
    \end{bmatrix}.
    $$

    

- ç”¨è¡Œå‘é‡$\mathbf{a}^\top_{i} \in \mathbb{R}^k$è¡¨ç¤ºçŸ©é˜µ$\mathbf{A}$çš„ç¬¬$i$è¡Œï¼Œå¹¶è®©åˆ—å‘é‡$\mathbf{b}_{j} \in \mathbb{R}^k$ä½œä¸ºçŸ©é˜µ$\mathbf{B}$çš„ç¬¬$j$åˆ—ã€‚è¦ç”ŸæˆçŸ©é˜µç§¯$\mathbf{C} = \mathbf{A}\mathbf{B}$ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯è€ƒè™‘$\mathbf{A}$çš„è¡Œå‘é‡å’Œ$\mathbf{B}$çš„åˆ—å‘é‡:

  - $$
    \mathbf{A}=
    \begin{bmatrix}
    \mathbf{a}^\top_{1} \\
    \mathbf{a}^\top_{2} \\
    \vdots \\
    \mathbf{a}^\top_n \\
    \end{bmatrix},
    \quad \mathbf{B}=\begin{bmatrix}
     \mathbf{b}_{1} & \mathbf{b}_{2} & \cdots & \mathbf{b}_{m} \\
    \end{bmatrix}
    $$

    

- å½“æˆ‘ä»¬ç®€å•åœ°å°†æ¯ä¸ªå…ƒç´ $c_{ij}$è®¡ç®—ä¸ºç‚¹ç§¯$\mathbf{a}^\top_i \mathbf{b}_j$:
  $$
  \mathbf{C} = \mathbf{AB} = \begin{bmatrix}
  \mathbf{a}^\top_{1} \\
  \mathbf{a}^\top_{2} \\
  \vdots \\
  \mathbf{a}^\top_n \\
  \end{bmatrix}
  \begin{bmatrix}
   \mathbf{b}_{1} & \mathbf{b}_{2} & \cdots & \mathbf{b}_{m} \\
  \end{bmatrix}
  = \begin{bmatrix}
  \mathbf{a}^\top_{1} \mathbf{b}_1 & \mathbf{a}^\top_{1}\mathbf{b}_2& \cdots & \mathbf{a}^\top_{1} \mathbf{b}_m \\
   \mathbf{a}^\top_{2}\mathbf{b}_1 & \mathbf{a}^\top_{2} \mathbf{b}_2 & \cdots & \mathbf{a}^\top_{2} \mathbf{b}_m \\
   \vdots & \vdots & \ddots &\vdots\\
  \mathbf{a}^\top_{n} \mathbf{b}_1 & \mathbf{a}^\top_{n}\mathbf{b}_2& \cdots& \mathbf{a}^\top_{n} \mathbf{b}_m
  \end{bmatrix}.
  $$

- [**æˆ‘ä»¬å¯ä»¥å°†çŸ©é˜µ-çŸ©é˜µä¹˜æ³•$\mathbf{AB}$çœ‹ä½œç®€å•åœ°æ‰§è¡Œ$m$æ¬¡çŸ©é˜µ-å‘é‡ç§¯ï¼Œå¹¶å°†ç»“æœæ‹¼æ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ª$n \times m$çŸ©é˜µ**]ã€‚

### å¯¹è§’é˜µçš„ä¹˜ç§¯ğŸˆ



- $$
  è®¾çŸ©é˜µPæŒ‰åˆ—åˆ†å—ä¸º:P=(\alpha_1,\cdots,\alpha_n)
  \\né˜¶å¯¹è§’é˜µ\Lambda=diag(\lambda_1,\cdots,\lambda_n)
  \\
  P\Lambda
  =(\alpha_1,\cdots,\alpha_n)
  \begin{pmatrix}
     {{\lambda _1}} & {} & {} & {}  \cr 
     {} & {{\lambda _2}} & {} & {}  \cr 
     {} & {} &  \ddots  & {}  \cr 
     {} & {} & {} & {{\lambda _n}}  \cr 
  \end{pmatrix}
  =(\lambda_{1}\alpha_1,\cdots,\lambda_n\alpha_n)
  \\
  \\è®°Q=P^T
  \\
  \Lambda{Q}
  =\begin{pmatrix}
     {{\lambda _1}} & {} & {} & {}  \cr 
     {} & {{\lambda _2}} & {} & {}  \cr 
     {} & {} &  \ddots  & {}  \cr 
     {} & {} & {} & {{\lambda _n}}  \cr 
  \end{pmatrix}
  \begin{pmatrix}
  	\alpha_{1}\\
  	\alpha_{2}\\
  	\vdots		\\
  	\alpha_{n}	\\
  \end{pmatrix}
  =\begin{pmatrix}
  	\lambda_1\alpha_{1}\\
  	\lambda_2\alpha_{2}\\
  	\vdots		\\
  	\lambda_n\alpha_{n}	\\
  \end{pmatrix}
  $$
  
- $$
  \begin{pmatrix}
     {{a _1}} & {} & {} & {}  \cr 
     {} & {{a _2}} & {} & {}  \cr 
     {} & {} &  \ddots  & {}  \cr 
     {} & {} & {} & {{a _n}}  \cr 
  \end{pmatrix}
  \begin{pmatrix}
     {{b_1}} & {} & {} & {}  \cr 
     {} & {{b _2}} & {} & {}  \cr 
     {} & {} &  \ddots  & {}  \cr 
     {} & {} & {} & {{b _n}}  \cr 
  \end{pmatrix}
  =\begin{pmatrix}
     {{a_1b _1}} & {} & {} & {}  \cr 
     {} & {{a_2b _2}} & {} & {}  \cr 
     {} & {} &  \ddots  & {}  \cr 
     {} & {} & {} & {{a_nb _n}}  \cr 
  \end{pmatrix}
  $$

  - ä¹Ÿå°±æ˜¯è¯´,ä¸¤ä¸ªåŒå‹å¯¹è§’é˜µçš„çŸ©é˜µä¹˜æ³•å’Œhadamardè¿ç®—ç»“æœä¸€è‡´$\Lambda_1\Lambda_2=\Lambda\odot\Lambda_2$

### åˆ†å—ä¹˜æ³•

- $$
  P=(\alpha_1,\cdots,\alpha_n)
  \\
  A\in{\mathbb{R}^{n\times{n}}},P\in\mathbb{R}^{n\times{n}}
  ,AP\in\mathbb{R}^{n\times{n}},
  A\alpha_i\in\mathbb{R}^{n\times{1}}
  \\æ ¹æ®çŸ©é˜µåˆ†å—ä¹˜æ³•:
  \\
  AP=A(\alpha_1,\cdots,\alpha_n)=(A\alpha_1,\cdots,A\alpha_n)
  $$

  

## æ–¹é˜µçš„å¹‚åŠå…¶è¿ç®—ğŸˆ

- $A^m=\underbrace{AA\cdots{A}}_{mä¸ªA}$
- $A^0=E$
- $A^kA^l=A^{k+l}$
- $(A^k)^l=A^{kl}$
- Note:ä¸€èˆ¬çš„$(AB)^k=\underbrace{(AB)(AB)\cdots{(AB)}}_{kä¸ª(A)B}\neq{A^kB^k}$

## çŸ©é˜µä¹˜æ³•ç›¸å…³æ€§è´¨ğŸˆğŸˆ

### çŸ©é˜µä¹˜æ³•è¿ç®—å¾‹

- ç»“åˆå¾‹:$(AB)C=A(BC)$
- **åˆ†é…å¾‹**:(B,CåŒå‹æ—¶æ‰æˆç«‹)
  - å·¦ä¹˜åˆ†é…å¾‹:$A(B+C)=AB+AC$
  - å³ä¹˜åˆ†é…å¾‹:$(B+C)A=BA+CA$
  - Note:æå–å…¬å…±çŸ©é˜µçš„æ—¶å€™ä¹Ÿè¦æ±‚åŒå‹,å¦è€…ä¸å¯ä»¥æå–
- $\lambda{(AB)}=(\lambda{A})B=A(\lambda{B})$
- é™å®šæ¶ˆå»å¾‹
  - $å½“æ–¹é˜µAå¯é€†æ—¶,AB=AC\Rightarrow{B=C}$
    - å¯¹$AB=AC$å·¦ä¹˜$A^{-1}$,å¾—åˆ°$B=C$
  - å¯¹ä¸€èˆ¬çš„çŸ©é˜µA,ä¸æ»¡è¶³æ¶ˆå»å¾‹$AB=AC\nRightarrow{B=C}$

#### ç»“åˆå¾‹@è¯´æ˜

- ç»“åˆå¾‹æ˜¯å€¼å¾—å¤šå…³æ³¨çš„ä¸€ç§çŸ©é˜µä¹˜æ³•è¿ç®—å¾‹
- ç‰¹åˆ«æ˜¯æ ‡é‡å’ŒçŸ©é˜µä¹˜æ³•çš„æ—¶å€™,å‡è®¾çŸ©é˜µ$A\in{\mathbb{R}^{1\times{n}}}$,$B\in{R^{n\times{1}}}$,$C\in{\mathbb{R}^{n\times1}}$
  - é‚£ä¹ˆT=ABçš„ç»“æœæ˜¯ä¸€ä¸ªæ ‡é‡($T\in{R}$)
  - ä»è€Œ(AB)C=TC
  - $A(BC)$æ˜¯å¦å’Œ$(AB)C$ç›¸ç­‰?
    - è§‚å¯Ÿå‘ç°,çŸ©é˜µ$B$å’Œ$C$æ˜¯æ— æ³•ç›¸ä¹˜çš„,å®ƒä»¬çš„å½¢çŠ¶åˆ¶æ­¢äº†è¿™ä¸€ç‚¹
  - è¿™æ˜¯ä¸ºä»€ä¹ˆ?
    - é€šå¸¸,å¯¹äºä¸€ä¸ªçŸ©é˜µä¹˜æ³•é“¾,è¦æ±‚$\prod_{i=1}A_i$,æˆ‘ä»¬è¦æ±‚$A_i$çš„åˆ—æ•°å’Œ$A_{i+1}$çš„è¡Œæ•°è¦ç›¸ç­‰
    - ä½†æ˜¯æœ‰ä¸€ç§æƒ…å†µæ˜¯ä¾‹å¤–,ä¹Ÿå°±æ˜¯æ ‡é‡(çŸ©é˜µå½¢çŠ¶ä¸º$1\times{1}$)çš„æƒ…å†µ,è¿™ç›¸å½“çŸ©é˜µæ•°ä¹˜
    - è¿™ç§æƒ…å†µä¸‹,å°±ä¸èƒ½ç®€å•çš„è®¨è®ºç”¨ç»“åˆå¾‹,è¦å°†ä¹˜ç§¯ä¸ºæ ‡é‡çš„çŸ©é˜µæ•´ä½“åŒ–
- å¦‚æœçŸ©é˜µè¿ä¸­æ²¡æœ‰å‘é‡(æˆ–è¯´æ²¡æœ‰é‚£ä¸€éƒ¨åˆ†ä¹˜ç§¯ä¸ºæ ‡é‡),é‚£ä¹ˆå¯ä»¥æ”¾å¿ƒä½¿ç”¨ç»“åˆå¾‹

#### è¯æ˜ç»“åˆå¾‹

- è®¾$A\in{\mathbb{R}^{m\times{n}}}$,$B\in{\mathbb R^{n\times{u}}}$,$C\in{\mathbb{R}^{u\times{v}}}$
- è®°$M=AB$,$N=BC$
- $L=(AB)C=MC$
- $R=A(BC)=AN$
- å®¹æ˜“éªŒè¯,$L,R\in{R^{m\times{v}}}$
- $M_{ij}=\sum_{k=1}^{n}A_{ik}B_{kj}$
- $N_{ij}=\sum_{k=1}^{u}B_{ik}C_{kj}$

- $L_{pq}=\sum_{r=1}^{u}M_{pr}C_{rq}=\sum_{r=1}^{u}\sum_{k=1}^{n}A_{pk}B_{kr}C_{rq}$

- $R_{pq}=\sum_{r=1}^{n}A_{pr}N_{rq}=\sum_{r=1}^{n}A_{pr}\sum_{k=1}^{u}B_{rk}C_{kq}$

  - ç”±äºåŒé‡æ±‚å’Œå·è°ƒæ¢é¡ºåºåç»“æœä¸å˜:

    - $$
      R_{pq}
      =\sum_{r=1}^{n}\sum_{k=1}^{u}A_{pr}B_{rk}C_{kq}
      =\sum_{k=1}^{u}\sum_{r=1}^{n}A_{pr}B_{rk}C_{kq}
      $$

  - åŒæ—¶æ±‚å’Œå·çš„æŒ‡æ ‡å­—æ¯ä¸å½±å“ç»“æœ,å¯¹æ±‚å’ŒæŒ‡æ ‡$r,k$è¿›è¡ŒåŸåœ°ç¿»è½¬:

    - $$
      R_{pq}=\sum_{r=1}^{u}\sum_{k=1}^{n}A_{pk}B_{kr}C_{rq}
      $$

    - å¯è§$L_{pq}=R_{pq}$

      - $p=1,\cdots,m$;$q=1,\cdots,v$

    - æ‰€ä»¥(AB)C=A(BC)



### çŸ©é˜µå¤šé¡¹å¼

- $$
  è®¾å…³äºxçš„mæ¬¡å¤šé¡¹å¼:f(x)=\sum\limits_{i=0}^{m}a_ix^i
  \\åˆ™f(\bold{A})=\sum\limits_{i=0}^{m}a_i\bold{A}^iç§°ä¸ºçŸ©é˜µAçš„mæ¬¡å¤šé¡¹å¼
  $$

  

## çŸ©é˜µçš„è½¬ç½®ğŸˆ

- è½¬ç½®ï¼ˆtransposeï¼‰æ˜¯çŸ©é˜µçš„é‡è¦æ“ä½œä¹‹ä¸€ã€‚çŸ©é˜µçš„è½¬ç½®æ˜¯ä»¥å¯¹è§’çº¿ä¸ºè½´çš„é•œåƒ,è¿™æ¡ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„å¯¹è§’çº¿è¢«ç§°ä¸º ä¸»å¯¹è§’çº¿ï¼ˆmain diagonalï¼‰ã€‚

- æˆ‘ä»¬å°†çŸ©é˜µ $A\in\mathbb{R}^{m\times{n}}$ çš„è½¬ç½®è¡¨ç¤ºä¸º $A^T\in\mathbb{R}^{n\times{m}}$ï¼Œå®šä¹‰å¦‚ä¸‹(ä»$A^T$ä¸­çš„å…ƒç´ å’Œ$A$çš„å…³ç³»æè¿°)

  - $$
    (A^T)_{ij}=A_{ji}
    $$

    - $i=1,2,\cdots,n$
    - $j=1,2,\cdots,m$

- å‘é‡:å¯ä»¥çœ‹ä½œåªæœ‰ä¸€åˆ—çš„çŸ©é˜µã€‚å¯¹åº”åœ°ï¼Œå‘é‡çš„è½¬ç½®å¯ä»¥çœ‹ä½œæ˜¯åªæœ‰ä¸€è¡Œçš„çŸ©é˜µã€‚æœ‰æ—¶ï¼Œæˆ‘ä»¬é€šè¿‡å°†å‘é‡å…ƒç´ ä½œä¸ºè¡ŒçŸ©é˜µå†™åœ¨æ–‡æœ¬è¡Œä¸­ï¼Œç„¶åä½¿ç”¨è½¬ç½®æ“ä½œå°†å…¶å˜ä¸ºæ ‡å‡†çš„åˆ—å‘é‡ï¼Œæ¥å®šä¹‰ä¸€ä¸ªå‘é‡ï¼Œæ¯”å¦‚ $x = [x1_,\cdots, x_n]^âŠ¤$.
- æ ‡é‡:å¯ä»¥çœ‹ä½œæ˜¯åªæœ‰ä¸€ä¸ªå…ƒç´ çš„çŸ©é˜µã€‚å› æ­¤ï¼Œæ ‡é‡çš„è½¬ç½®ç­‰äºå®ƒæœ¬èº«ï¼Œ$a^âŠ¤=a$

### è¿ç®—æ€§è´¨ğŸˆğŸˆ

- $(A^T)^T=A$

- $(\lambda{A})^T=\lambda{}A^T$

- $(A+B)^T=A^T+B^T$ğŸ˜Š

  - $A^T+B^T=(A+B)^T$

  - $(\lambda E+B^T)=((\lambda{E})^T+B^T)=(\lambda E+B)^T$
    - å› ä¸º$E^T=E$,$(\lambda{E})^T=\lambda{E^T}=\lambda{E}$

- $(AB)^T=B^TA^T$(æ³¨æ„ä½ç½®çš„è°ƒæ¢)

- $$
  (A_1A_2\cdots{A_m})^T=A_m^TA_{m-1}^T\cdots{A_1^T}
  \\æˆ–(\prod_{i=1}^{m}A_i)^T=\prod_{i=1}^{m}A_{m-i+1}^T
  $$

### pythonå®ç°çŸ©é˜µè½¬ç½®ğŸˆ

- ```python
  import numpy as np
  rng = np.random.default_rng()
  ##
  m,n=4,5
  c = rng.random(size=(m,n))
  d=c.round(3)
  
  for i in d:
      # print(i)
      for j in i:
          print(j,end="\t")
      print()
  print("translating...","-"*10)
  l=len(d)
  for i in range(n):
      # print(i)
      for j in range(m):
          print(d[j,i],end="\t")
      print()
  ```
  
- ```
  0.502	0.208	0.014	0.633	0.065	
  0.035	0.117	0.387	0.086	0.369	
  0.181	0.328	0.649	0.76	0.225	
  0.741	0.432	0.881	0.795	0.597	
  translating... ----------
  0.502	0.035	0.181	0.741	
  0.208	0.117	0.328	0.432	
  0.014	0.387	0.649	0.881	
  0.633	0.086	0.76	0.795	
  0.065	0.369	0.225	0.597
  ```

#### ç›´æ¥ä½¿ç”¨numpyæä¾›çš„è½¬ç½®å‡½æ•°

- ```python
  np.transpose(d)
  ```

  - ```
    array([[0.502, 0.035, 0.181, 0.741],
           [0.208, 0.117, 0.328, 0.432],
           [0.014, 0.387, 0.649, 0.881],
           [0.633, 0.086, 0.76 , 0.795],
           [0.065, 0.369, 0.225, 0.597]])
    ```
  
  
  

##  è¿¹è¿ç®—ğŸˆ

- $Tr(A)=\sum_{i}A_{ii}$

  - ä½¿ç”¨è¿¹è¿ç®—å¯ä»¥ä»£æ›¿æ‰è¡¨è¾¾å¼ä¸­çš„æŸäº›æ±‚å’Œå·

- è¿¹è¿ç®—å¯ä»¥è®©è®¸å¤šè¿ç®—æ¸…æ¥šçš„è¡¨ç¤º:

  - ä¾‹å¦‚æè¿°çŸ©é˜µçš„Frobenius èŒƒæ•°:

  - $$
    ||A||_F=\sqrt{\sum_{i,j}(a_{ij})^2}=\sqrt{Tr(AA^T)}
    $$

  - è¿¹è¿ç®—åœ¨è½¬ç½®è¿ç®—ä¸‹æ˜¯ä¸å˜çš„:$Tr(A)=Tr(A^T)$

- è®¾$A_1,\cdots,A_n$å¯ä»¥è¿ç»­ç›¸ä¹˜,ä¸”$A_{i_1},\cdots,A_{i_n}$ä¹Ÿæ˜¯å¯ä»¥è¿ç»­ä¹˜çš„,é‚£ä¹ˆ$Tr(\prod_{i=1}A_i)=Tr(\prod_{j=1}A_{i_j})$

  - å…¶ä¸­$i_1,\cdots,i_n$è¡¨ç¤º$1,\cdots,n$çš„ä¸€ç§æ’åˆ—(å…±æœ‰$n!$ä¸­å¯èƒ½)
  - å¯¹äºæœ¬æƒ…æ™¯,å¯èƒ½è¿œæ²¡æœ‰$n!$é‚£ä¹ˆå¤š,åº”ä¸ºä¸æ˜¯æ‰€æœ‰çš„æ’åˆ—åèƒ½å¤Ÿä¾ç„¶èƒ½å¤Ÿæ‰§è¡Œè¿ç»­ä¹˜æ³•

- ç±»ä¼¼çš„çŸ©é˜µä¹˜æ³•

  - $$
    Tr(\prod_{i=1}^{n}F^{(i)})
    =Tr(F^{(1)}\prod_{i=2}^{n}F^{(i)})
    =Tr(F^{(n)}\prod_{i=1}^{n-1}F^{(i)})
    \\
    F^{(i)}ä¸­çš„iè¡¨ç¤ºç¬¬iä¸ªçŸ©é˜µ
    $$

    - $A\in\mathbb{R}^{m\times{n}}$,
    - $B\in{\mathbb{R}^{n\times{m}}}$
    - $Tr(AB)=Tr(BA)$


#### äº¤æ¢å¾‹

- å³ä½¿å¾ªç¯ç½®æ¢åçŸ©é˜µä¹˜ç§¯çš„å½¢çŠ¶å˜äº†,ä½†æ˜¯è®¡ç®—çš„ç»“æœä¾ç„¶ä¸å˜

  - $$
    è®°C=AB\in\mathbb{R}^{m\times{m}}
    \\D=BA\in\mathbb{R}^{n\times{n}}
    \\C_{ij}=\sum_{k=1}^{n}A_{ik}B_{kj}
    \\
    C_{ii}=\sum_{k=1}^{n}A_{ik}B_{ki}
    \\D_{ij}=\sum_{k=1}^{m}B_{ik}A_{kj}
    \\
    D_{ii}=\sum_{k=1}^{m}B_{ik}A_{ki}
    $$

  - $$
    A_{ij},B_{ij}éƒ½æ˜¯æ ‡é‡,å› æ­¤æ»¡è¶³ä¹˜æ³•äº¤æ¢å¾‹
    \\
    \mathbf{A}_{ij} \mathbf{B}_{ji}=\mathbf{B}_{ji}\mathbf{A}_{ij}
    $$

    

  - $$
    \mathrm{tr}(\mathbf{AB}) 
    = \sum_{i=1}^m (\mathbf{AB})_{ii} 
    =\sum_{i=1}^m (\mathbf{C}_{ii}) 
    = \sum_{i=1}^m (\sum_{k=1}^{n}A_{ik}B_{ki})
    = \sum_{i=1}^m (\sum_{j=1}^n (\mathbf{A}_{ij} \mathbf{B}_{ji}))
    \\
    \mathrm{tr}(\mathbf{BA})
    =\sum_{i=1}^n (\mathbf{BA})_{ii} 
    =\sum_{i=1}^n (\mathbf{D}_{ii} )
    =\sum_{i=1}^n (\sum_{k=1}^{m}B_{ik}A_{ki})
    =\sum_{k=1}^m \sum_{i=1}^n ( B_{ik}A_{ki})
    \\ç”±äºæ±‚å’ŒæŒ‡æ ‡å­—æ¯ä¸å½±å“æ±‚å’Œç»“æœ,æ‰€ä»¥å°†kæ›¿æ¢æˆi,å†å°†iæ›¿æ¢æˆj,ä»è€Œ:
    \\tr(BA)=\sum_{i=1}^m \sum_{j=1}^n ( B_{ji}A_{ij})
    =\sum_{i=1}^m \sum_{j=1}^n ( A_{ij}B_{ji})
    \\ä»è€Œtr(AB)=tr(BA)
    $$

- å¦ä¸€ä¸ªæœ‰ç”¨çš„äº‹å®æ˜¯**æ ‡é‡**åœ¨è¿¹è¿ç®—åä»ç„¶æ˜¯å®ƒè‡ªå·±ï¼š$a = Tr(a)$

### è¿¹è¿ç®—çš„åˆ†é…å¾‹

- å‡è®¾çŸ©é˜µ$A^{(1)},\cdots,A^{(m)}$æ˜¯åŒå‹çŸ©é˜µ(ä¸”éƒ½ä¸ºné˜¶æ–¹é˜µ),ä¸”$Q=\sum_{i=1}^{m}A^{(i)}$
- åˆ™$tr(Q)=\sum_{i=1}^{n}Q_{ii}$
- å¦ä¸€æ–¹é¢,$Q_{ij}=\sum_{k=1}^{m}A^{(k)}_{ij}$
  - $Q_{ii}=\sum_{k=1}^{m}A^{(k)}_{ii}$
  - $tr(Q)=\sum_{i=1}^{n}Q_{ii}=\sum_{i=1}^{n}(\sum_{k=1}^{m}A^{(k)}_{ii})$
    - $=\sum_{k=1}^{m}(\sum_{i=1}^{n}A_{ii}^{(k)})$
    - $=\sum_{k=1}^{m}tr(A^{(k)})$
- å¯è§$tr({\sum_{i=1}^{m}A^{(i)}})=\sum_{i=1}^{m}tr(A^{(i)})$



## æ–¹é˜µè¡Œåˆ—å¼å’Œç‰¹å¾å€¼

- è¡Œåˆ—å¼ï¼Œè®°ä½œ det(A)ï¼Œæ˜¯ä¸€ä¸ªå°†æ–¹é˜µ A æ˜ å°„åˆ°å®æ•°çš„å‡½æ•°ã€‚
- è¡Œåˆ—å¼ç­‰äº**æ–¹é˜µç‰¹å¾å€¼çš„ä¹˜ç§¯**ã€‚$|A|=\prod_{i=1}{\lambda_i}$
- è¡Œåˆ—å¼çš„**ç»å¯¹å€¼**å¯ä»¥ç”¨æ¥è¡¡é‡<u>çŸ©é˜µå‚ä¸çŸ©é˜µä¹˜æ³•å</u>ç©ºé—´æ‰©å¤§æˆ–è€…ç¼©å°äº†å¤šå°‘ã€‚
  - å¦‚æœè¡Œåˆ—å¼æ˜¯ 0ï¼Œé‚£ä¹ˆç©ºé—´è‡³å°‘æ²¿ç€æŸä¸€ç»´å®Œå…¨æ”¶ç¼©äº†ï¼Œä½¿å…¶å¤±å»äº†æ‰€æœ‰çš„ä½“ç§¯ã€‚
  - å¦‚æœè¡Œåˆ—å¼æ˜¯ 1ï¼Œé‚£ä¹ˆè¿™ä¸ªè½¬æ¢ä¿æŒç©ºé—´ä½“ç§¯ä¸å˜ã€‚



