[toc]



## 数列/数组计数公式

### 讨论对象

- 设自然数序列$1,2,3,4,...,p-1,{p,...,n-1,n}$;其中$p\leqslant n$
- 更一般序列形式:$序列\{a_n\}=\cdots,a_{-1},a_0,a_1,a_2,\cdots$

### 问题内容

- 本文讨论"<u>一维序列</u>"区间<u>元素计数与编号计算</u>公式的相关讨论
  1. 已知序列**闭区间**两端元素的序号$[p,n],p\leqslant{n}$,求该区间内包含多少个元素($len[p,n]$=?);半开半闭区间又是如何?
  2. 已知某个序列**区间长度**$m$和该区间的一个端点**序号**(坐标)$n$求另一个端点的序号$p$=?

### 基本回答

- 问题1:根据减法原理,$len[p,n]=|n-p|+1$,$len(p,n]=len[p,n)=len[p,n]-1=|n-p|$
- 问题2:由$len[p,n]=n-p+1=m$得$p=n+1-len[p,n]$=$n-m+1$

## 位置关系的描述

- 为例描述序列中元素的位置关系,通常用一个整数来描述一个元素的位置,不同的元素都有不同的整数描述,我们称这样的整数为元素的**序号**或**坐标**或**指针**
- 特别的,**指针**用来指示当前元素的坐标
- 元素序列:$a_s,\cdots,a_{e}$是一个长度为$e-s+1$的元素序列,下标$s,\cdots,e$是这些元素对应的坐标
- 起点坐标:序列的第一个元素的坐标,通常用s或S表示(start)
- 终点坐标:序列的最后一个元素的坐标,通常用e或E表示(end)

## 增量



- 为了计算一维坐标问题,引入**增量**$\Delta=e-s$这个概念
- 在序列中,增量描述的是序列中某两个元素间的**坐标差**
- 对于序列$a_s,\cdots,a_e$,$\Delta(a_s,a_e)=e-s$表示的是:
  - $a_s$的指针正向移动$\Delta$个元素后会指向元素$a_e$
  - 例如,元素$a_1\to a_2$的增量为1,记为$\Delta(a_1,a_2)=2-1=1$
- 增量也叫做**序号差**或**坐标差**或**坐标偏移量**或**距离**

### 正负性

- 增量有正负之分:对于坐标变换$a\to{a+\Delta}$
  - 序号沿着增大的方向变化的,称为**正增量**$\Delta>0$
  - 沿着负方向减小的方向变化的,称为**负增量**$\Delta<0$

### 序列长度和增量的关系

- $a_s,\cdots,a_e$的元素数目$len[e,s]=|\Delta(a_s,a_e)|+1$=$|e-s|+1$

## 利用序列长度或增量计算排列数末因式

- 例如排列数公式$A_n^m$=${n(n-1)\cdots(x)}$,其中$len[n,x]=m$,即$|n-x|+1=m$,由于$n\geqslant{x}$,所以$n-x+1=m$,即$x=n-m+1$

- 从而$A_n^m={n(n-1)\cdots(n-m+1)}$

- 从增量的角度:$|\Delta(n,x)|=m-1$,即$|n-x|=m-1,(n\geqslant{x})$,从而$n-x=m-1$,同样有$x=n-m+1$

  

