[toc]

## abstract

- 古典概型是一种简单基础的概率模型,基于这个模型有许多经典的问题

## 等可能概型(古典概型)🎈

- 若某个随机试验满足以下两个特点:
  - 试验的样本空间只包含有限个元素
  - 试验中每个基本事件发生的可能性相同

- 这种试验成为**等可能概型**,其在概率论发展初期曾是主要的研究对象,也成为古典概型



### 古典型概率公式

- 记事件A中包含的样本点个数为$n_A$
- 则古典型概率公式可以表示为
  - $P(A)=\frac{n_A}{n}$

### 基本性质

- $记\Omega=\set{\omega_i};i=1,\cdots,n$,则$P(\omega_1)=P(\omega_2)=\cdots=P(\omega_n)$
- 因为基本事件是两两互斥的,则$P(\bigcup\limits_{i=1}^{n}\omega_i)$=$\sum\limits_{i=1}^{n}P(\omega_i)$=$P(\Omega)=1$,$P(\omega_i)=\frac{1}{n};i=\set{1,\cdots,n}$

### 导出性质

- 如果某个事件$A$包含$k$个样本点,那么$P(A)=\frac{k}{n}$

### 例

- 投色子:
  - 约定投一次为一次试验
  - 那么样本空间$\Omega=\set{1,2,3,4,5,6}$
  - 事件A:点数为1的概率为
    - $P(A)=\frac{1}{6}$
  - 事件B:点数<3的概率:
    - $P(B)=\frac{2}{6}=\frac{1}{3}$





## 抽样方式👺

### 放回抽样

- 如果抽样后将把样本放回,那么称为**放回抽样**
- 一般的,计算放回抽样的总样本空间样本点数采用是乘方的形式(幂),
- 区分不同基本事件:放回抽样中,样本之间都是相互区别的,即使某两个样品是同一个种类的,但是也要区分编号
- 比如,从$n$个球中放回抽样法抽取$m$次,这$m$个球的结果构成一个样本点,那么样本空间点数$N(\Omega)=n^m$

### 不放回抽样

- 如果抽样后不放回,则称为**不放回抽样**
- $m$次取球,每次取出1个,不放回,球与球之间区分顺序,共有$\binom{n}{1}\binom{n-1}{1}\cdots\binom{n-(m-1)}{1}$=$A_{n}^{m}$取法

#### $m$次逐个取和一次性取$m$个

- 袋子中有$n$个球:
  1. $m$次逐个取,有$A_{n}^{m}$种取法
  2. 一次性取出$m$个球,这$m$个球间不区分顺序,共有$\binom{n}{m}$取法
- 上述两个试验显然不同
  - 试验1强调$m$个球间的顺序,所以取法数量用排列数计算;
  - 试验2将取出的$m$个球作为集合,不关心球的顺序,只关心球的组合
- Note:区分顺序的做法可以也可以解决不区分顺序的问题,只是如果不需要区分顺序时,样本空间更小,计算可能会更加简单

### 例:取色球和古典概型👺

- 设袋中有4白2红共6个球
- 每次从袋中取出(抽样)2个球,算作一次完整试验
- 记
  - 事件A:抽出的两个球都为白色
  - 事件B:至少有一个为白色

- 对于放回抽样:
  - 样本空间$\Omega$的样本总数为$n=6\times6=36$
  - $P(A)=\frac{4\times4}{36}=\frac{4}{9}$
  - 显然$\overline{B}$包含的样本总数为$2^{2}=4$;
  - $P(B)=1-P(\overline{B})=1-\frac{4}{36}=\frac{8}{9}$
- 对于不放回抽样:
  - 方法1:区分抽出的2个球的顺序,例如(白球1,白球2)和(白球2,白球1)视为2种不同的取法,使用乘法原理来计算样本空间和事件包含的样本点数
    - 样本空间的样本点总数:$n=6\times5=30$
    - $P(A)=\frac{4\times 3}{30}=\frac{2}{5}$
    - $P(B)=1-P{(\overline{B})}=1-\frac{2\times1}{30}=\frac{14}{15}$

  - 方法2:不区分抽出的2个球的顺序,例如(白球1,白球2)和(白球2,白球1)视为同一种取法,使用组合数计算
    - 样本空间的样本点总数为:$n=\binom{6}{2}$=15
    - $P(A)$=$\frac{\binom{4}{2}}{15}$=$\frac{2}{5}$
    - $P(B)$=$1-P(\overline B)$=$1-\frac{\binom{2}{2}}{15}$=$\frac{14}{15}$


### 例:次品排查问题

- 从2个次品和8个正品的袋子中排查出所有次品,采用逐个取出检查的方式排查,则不超过4次就可以排查出2个次品的概率?

#### 古典概型法

- 事件$A$:不超过4次排查就排查出2个次品,假设总是抽出4间产品排查,那么事件$A$要求抽出的4个样品中有2个次品
- 下面的几种方法构造的试验对应的样本空间逐步缩小
- 方法1:
  - 将10个样品排列作为一次试验,样本空间包含样本点数$n(S)$=$A_{10}^{10}$
  - 事件$A$的取法有$n(A)=\binom{2}{2}A_{4}^{2}A_{8}^{8}$
  - 或者另一种方法:先计算前4个产品的排列,在排后续的6个:$n(A)=\binom{2}{2}\binom{8}{2}A_{4}^{4}A_{6}^{6}$
  - 所以$P(A)=\frac{n(A)}{n(S)}$=$\frac{2}{15}$
- 方法2:
  - 仅考虑前4个样品的排列:样本空间包含样本点数为$n(S)=A_{10}^{4}$;
  - 4件中有2件次品的取法有$n(A)=\binom{2}{2}\binom{8}{2}A_4^{4}$=$8\times{7}\times{4}\times{3}$
  - 所以$P(A)=\frac{n(A)}{n(S)}$=$\frac{2}{15}$
- 方法3:
  - 仅考虑前4个样品的组合而不计次序:$n(S)$=$\binom{10}{4}$
  - $n(A)$=$\binom{2}{2}\binom{8}{2}$
  - 所以$P(A)=\frac{n(A)}{n(S)}=\frac{2}{15}$
- 方法4:
  - 不考虑同品质样品的顺序,仅考虑2个次品在10个样品的排列中的位置
  - $n(S)=\binom{10}{2}$
  - $n(A)$=$\binom{4}{2}$
  - 所以$P(A)=\frac{n(A)}{n(S)}=\frac{2}{15}$

## 古典概型经典问题

- 以下两个问题是同一个类型的

### 放球问题

- 将$n$只球随机地放入$N(N\geqslant{n})$个盒子中,试求事件$A:$每个盒子至多有一个球的概率
- 解:
  - 首先明确基本事件是$n$个球全部被放入盒子中
  - 设基本事件$A_1$为球$a_1,a_2,\cdots,a_n$分别落入盒子$b_1,b_2,\cdots,b_n$中
  - 基本事件$A_2$中$a_1,a_2$分别落入$b_2,b_1$中,其余和$A_1$相同,那么应该算作两件不同的基本事件
  - 由于每个球都可以放入$N$个盒子中的任意一个盒子,所以样本空间共有$N^{n}$个样本点
  - 每个盒子最多放一个球的方法有$N(N-1)\cdots{N-(n-1)}$=$A_{N}^{n}$不同的方法
  - 由古典概型公式:$P(A)$=$\frac{A_{N}^{n}}{N^{n}}$

### 两人同一天生日问题

- 假设每人在一年(365天)中的任何一天都是等可能的,(记出生在第$i$天的事件为$A_i$,$i=1,\cdots,365$),则$P(A_1)=\cdots=P(A_{365})=\frac{1}{365}$
- 若随机选取$n(n\leqslant{365})$人,他们生日各不相同的概率为$p=\frac{A_{365}^{n}}{365^{n}}$,因而,这$n$个人中至少有两个人同一天生日的概率为$q=1-p$
- 若取$n=64$,则$q$接近$1$,这就是说,一个64人的班级里,几乎总是有同一天生日的两个人



## 超几何分布概型

- 设$N$件产品中有$D$件次品,从中任取$n$件,问事件$A_k$:所取的$n$件产品其中恰好有$k(k\leqslant{D})$件次品的概率$P(A_k)$?
  - 从$N$件中取$n$件的方法数有$\binom{N}{n}$
  - 从而$D$件次品中取$k$件的方法数有$\binom{D}{k}$
  - 从而$N-D$件正品中取$n-k$件的方法数有$\binom{N-D}{n-k}$
  - 由乘法计数原理,从$N$件产品中取$k$件次品有$\binom{D}{k}\binom{N-D}{n-k}$
  - 由古典概型公式$P(A_k)=\frac{\binom{D}{k}\binom{N-D}{n-k}}{\binom{N}{n}}$

- 这个问题模型也是典型的古典概型,也成为超几何分布概型

- 若令$A_{i}$={所取的$n$件产品中恰好有$i$件次品},$i=0,1,\cdots,N$,则$A_0\cup{A_1}\cup\cdots\cup{A_N}$=$S$,且$A_iA_j=\emptyset$,$i\neq{j}$
  - $A_i$都是基本事件,显然他们两两互斥,而且全体构成必然事件
- 从而$1=P(S)$=$P(A_0\cup{A_1}\cup\cdots\cup{A_N})$=$\sum_{i=0}^{n}P(A_i)$=$\sum_{i=0}^{n}\frac{\binom{D}{i}\binom{N-D}{n-i}}{\binom{N}{n}}$;即有$\binom{N}{n}$=$\sum_{i=0}^{n}\binom{D}{i}\binom{N-D}{n-i}$

### 整除取数问题

- 在$1\sim{2000}$的整数中随机抽出一个数,则事件$C$:该数$a$同时不能被$6,8$整除的概率是?
- 解
  - 记$A$:$a$能被$6$整除,$B$:$a$能被8整除
  - 则$C=\overline{A}\;\overline{B}$=$\overline{A\cup{B}}$
  - 从而$P(C)$=$1-P(A\cup{B})$=$1-P(A)-P(B)+P(AB)$
  - 由于$333<\frac{2000}{6}<334$,所以$P(A)$=$\frac{333}{2000}$
  - 由于$\frac{2000}{8}=250$,所以$P(B)$=$\frac{250}{2000}$
  - 对于事件$AB$,由最小公倍数生成规律可知,$6,8$的公倍数同时也是其最小公倍数的$24$的整数倍,反之亦然
  - 由于$83<\frac{2000}{24}<84$,从而$P(AB)=\frac{83}{2000}$
  - 所以$P(C)$=$1-\frac{333}{2000}-\frac{250}{2000}+\frac{83}{2000}$=$\frac{3}{4}$

## 抽签问题

这是也是一个经典的古典概型问题

- 这里的"签"可以泛指两种颜色的球
- 如果有$a$个白球,$b$个红球,那么第$s$次($1\leqslant s\leqslant{a+b}$)抽取的球颜色是白色的概率

### 不放回抽样

- 若每次抽出不放回

  - 设$n=a+b$;将这$n$个球从1编号到$n$

  - 方法1:
    - 将$n$个球排列在一直线的$n$个位置上;
    - 任何一个球被排列到第$s$个的可能性相等,则第$s$个球可以理解为取出第$s$个球,因此**这$n$个球在第$s$次被抽中的概率是相等的**
    - 则第s次取出的白球的可能性等价于$n$个球的所有排列中第s个球是白球的可能性
      - 第s次抽取白球的可能性有$a$种
      - 第$s$次抽取的球的所有可能有$n$种
    - 因此第s次抽出白球的概率为$P=\frac{a}{a+b}$;这是一个和s无关的公式!

  - 方法2:

    - $s$次抽取每种取法作为一个基本事件;
    - 共有$A_{n}^{s}$种取法,每种取法等可能发生
    - 其中第$s$次取得白球的取法有$\binom{a}{1}A_{n-1}^{s-1}$
      - 先确定第$s$次取白球有$a$种取法
      - 前$s-1$次有$n-1$个球可以取,即有$A_{n-1}^{s-1}$种取法
      - 由乘法计数原理,共有$\binom{a}{1}A_{n-1}^{s-1}$种取法
    - 因此$P=\frac{\binom{a}{1}A_{n-1}^{s-1}}{A_{n}^{s}}$=$\frac{a(n-1)\cdots((n-1)-(s-1)+1)}{n\cdots(n-s+1)}$=$\frac{a}{n}$=$\frac{a}{a+b}$

    

### 放回抽样



- 对于放回抽样,第$s$次抽到的球的所有可能有$n$种;且抽到白球的可能有$a$种,每个球被抽中的概率都相等,
- 显然,由古典概型公式$P=\frac{a}{a+b}$

### 小结

- 总结,抽签或买彩票这类试验,无论是第几个买,中奖的概率都是一样的

### 例👺

- 设袋子里有红球20个,白球30个,先后2次随机地从种取出1个球,且取后**不放回**,则事件C:第二次取到红球的概率?
- 解:
  - 方法1:这是一个抽签概型,$P(C)=\frac{20}{20+30}$=$\frac{2}{5}$
  - 方法2:古典概型法:$P(C)=\frac{C_{20}^{1}A_{49}^{1}}{A_{50}^{2}}$=$\frac{2}{5}$
    - 还可以将样本空间构造地更加简单:
    - 可以仅考虑第2次取球,这50个球在第2次被抽中的概率显然相等,所以$P(C)=\frac{20}{50}=\frac{2}{3}$
  - 方法3:条件概率法(全概率公式法):
    - 第2次取到红球的概率显然受到第一次取到的球的影响:
    - 令$A_{i}$={第$i$次取到红球},$i=1,2$
    - 则$A_i,\overline{A_i}$是$i$次取球试验样本空间的一个划分($i$次取球有$A_{50}^{i}$种取法,第$i$次要么时红球,要么不是红球)
    - 由全概率公式:$P(C)$=$P(A_2|A_1)P(A_1)+P(A_2|\overline A_1)P(\overline A_1)$=$\frac{19}{49}\times{\frac{20}{50}}$+$\frac{20}{49}\times{\frac{30}{50}}$=$\frac{2}{5}$

## 取最大号球问题

- 如果有$n$个球$a_1,\cdots,a_n$,从中**有放回取**出$m$个球,求这$m$个球的最大号码是$k$的概率?

  - $A_k$={取出的**最大**球号为$k$}

    - 即抽取的$m$个球都在$1,\cdots,k$号范围内,且包含$k$号球的事件
    - $A_1\cup{A_2}\cup\cdots\cup{A_n}=\Omega$;$A_iA_j=\emptyset$,$i\neq{j}$

  - $B_i$={取出的所有球号**不大于**$i$}

    - $B_n=\Omega$
    - $B_i$:抽取的$m$个球都在$1,\cdots,i$号范围内
    - $B_{i-1}$:抽取的$m$个球都在$1,\cdots,i-1$号范围内
    - $B_{i-1}\sub B_{i}$;$B_i-B_{i-1}$={抽取的$m$个球都在$1,\cdots,k$范围内,且包含$i$号球}

  - 所有$A_{i}\sub{B_i}$,且$A_k=B_k-B_{k-1}$

    - $N(\Omega)=n^m$

    - $N(B_i)=i^m$
      - $i取k-1时,得到i$

  - 则由概率的基本性质或减法公式,有:

    - $$
        P(A_k)=P(B_k-B_{k-1})=P(B_k)-P(B_{k-1})
        \\=\frac{N(B_{k-1})}{N(\Omega)}
        -\frac{N(B_k)}{N(\Omega)}
        \\=\frac{k^m-(k-1)^{m}}{n^m}
        $$

      


### 分组分配问题

- 将15个学生随机均匀的分到3个班,优秀学生共有3名,则:
- $A$:每个班恰好分到一个优秀学生的概率?
  - 基本事件:每一种将15个学生分配完的方法对应一个基本事件
  - 显然15个学生分配成3组,每组5个人,分配给第一个班级共有$\binom{15}{5}$种方法,继续分配第二个班级共有$\binom{10}{5}$种方法,最后5个人分配给第3个班级有$\binom{5}{5}$种方法;由乘法原理,共有$\binom{15}{5}\binom{10}{5}\binom{5}{5}$=$\frac{15!}{5!5!5!}$
  - 而每个班级各有一名优秀学生的分配方法有$A_3^{3}$=$\binom{3}{1}\binom{2}{1}\binom{1}{1}$,共有$6$种方法;再将余下的12名学生分配到3个班级有$\binom{12}{4}\binom{8}{4}\binom{4}{4}$=$\frac{12!}{4!4!41}$,由乘法原理,共有$6\times{\frac{12!}{4!4!4!}}$
  - 再由古典概型公式$\Large\frac{6\times{\frac{12!}{4!4!4!}}}{\frac{15!}{5!5!5!}}$=$\frac{25}{91}$
- $B$:三名优秀学生被分配到同一个班的概率?
  - 3名优秀学生分配到同一个班的方法数有$\binom{3}{1}$=3种,不妨设这个班为X班
  - 其余12名同学中有2明分配到$X$班,有$\binom{12}{2}$种方法
  - 剩下10名同学均匀分配到2个班,有$\binom{10}{5}\binom{5}{5}$=$\frac{10!}{5!5!}$种方法
  - 由古典概型公式:$P(B)$=$\frac{3\binom{12}{2}\binom{10}{5}\binom{5}{5}}{\binom{15}{5}\binom{10}{5}\binom{5}{5}}$=$\Large\frac{\frac{3\times{12!}}{2!5!5!}}{\frac{15!}{5!5!5!}}$=$\frac{6}{91}$

## 古典概型假设条件和实际推断原则

- 某场所X在某一周内接待了12次客人,并且都发生周1,2两天,那么该场所有规定招待时间段的概率是多少?
- **假设**游客一周内每天去场所的概率相等,那么每次去场所有7种可能(周一至周日的某一天),则12次访问有$7^{12}$种可能
- 而这12次都在周1,2的可能有$2^{12}$种,由古典概型公式,场所仅在周1,2开放接待的概率为$\frac{2^{12}}{7^{12}}$=$3\times{10^{-7}}$
- 可以看到这个概率上非常小,但是给人的感觉是很有可能
- 在人们长期的实践中总结得到**实际推断原理**:概率很小的事件在**一次试验**中实际上几乎是不发生的;
- 而在本例中,这个理想化条件假设下的理论推算出的小概率事件却发生了,而且是一次试验(观察12次接待发生的日子)就发生了,因此我们**有理由**怀疑理想化假设的正确性,也就是认为接待站接待游客时间段是有规定的
- 事实上上述的计算用到的假设是脱离实际且不正确的

### 其他古典概型

- [PT@Bernoulli概型@古典概型之伯努利概型](https://blog.csdn.net/xuchaoxin1375/article/details/133163587)

