[toc]



## abstract

- 概率加法公式(Addition Rule Of Probability)
- 介绍双事件下的加法公式和$n$事件下的加法公式

## 基本加法公式(双事件)

- $P(A\cup B)=P(A)+P(B)-P(AB);(\forall A,B)$

### 互斥事件的加法公式

- 如果$A_iA_j=\varnothing,$那么$P(A_i\cup A_j)=P(A_i)+P(A_j)$
- 若$A_1,\cdots,A_n$两两互斥,则$P(A_1\cup\cdots\cup{A_n})$=$P(A_1)+\cdots+P(A_n)$

### 一般双事件加法公式

- 但是如果$A_iA_j\neq\varnothing$时,$P(A_i\cup A_j)=?$

- 构造互斥事件

- $由于B-A=B-AB;$
  - $A\cup (B\overline{A})=(A\cup B)(A\cup \overline{A})=A\cup B$
    - $同时,A(B-BA)=A(B-A)=\varnothing(这对于任意A,B都成立)$
    - $因此P(A\cup B)=P(A\cup (B-AB))=P(A)+P(B-AB)=P(A)+(P(B)-P(AB))$
    
    - $$
      P(A\cup B)=P(A)+P(B)-P(AB)
      $$
    



### 例:独立射击问题

- 类型:[加法公式@条件概率@独立事件]

- 两个射手独立的相同一个目标射击

  - 记A:选手甲击中目标;$B$:乙击中目标

  - 假设$P(A)=0.6,P(B)=0.5$;即$P(\overline{A})=0.4;P(\overline{B})=0.5$

  - 甲乙各射击一次

  - 从实际意义角度容易判断$A,B$是独立事件,并且,能够联想到其他三对独立事件:

    - $A,\overline{B}$
    - $\overline{A},B$
    - $\overline{A},\overline{B}$

  - 即,有:

    - $$
      P(AB)=P(A)P(B)
      \\P(A\overline{B})=P(A)P(\overline{B})
      \\P(\overline{A}B)=P(\overline{A})P(B)
      \\P(\overline{A}\ \overline{B})=P(\overline{A})P(\overline{B})
      $$

      

- 目标被击中的概率可以表示为$P(A\cup B)$

  - $P(A\cup B)=P(A)+P(B)-P(AB)=P(A)+P(B)-P(A)P(B)=0.6+0.5-0.3=0.8$

- 已知目标被击中,目标被甲击中的概率可以表示为:$P(A|A\cup B)$

  - $P(A|A\cup B)=\frac{P(A(A\cup B))}{P(A\cup B)}=\frac{P(A)}{P(A\cup B)}=\frac{0.6}{0.8}=0.75$

- 已知目标仅(恰好)被击中了一次,则是被甲击中的概率:可以表示为$P(A|A\overline{B}\cup \overline{A}{B})$

  - $$
    P(A|A\overline{B}\cup \overline{A}{B})
    =\frac{P(A(A\overline{B}\cup \overline{A}B))}{P(A\overline{B}\cup \overline{A}B)}
    =\frac{P(AA\overline{B}\cup A(\overline{A}B))}{P(A\overline{B})+P(\overline{A}B)-P(A\overline{B}\ \overline{A}B)}
    \\=\frac{P(A\overline{B})}{P(A\overline{B})+P(\overline{A}B)}
    =\frac{P(A)P(\overline{B})}{P(A)P(\overline{B})+P(\overline{A})P(B)}
    =\frac{0.6*0.5}{0.6*0.5+0.4*0.5}=0.6
    $$



## 推广加法公式

- 理论上,可以反复(嵌套)使用基本的加法公式,得到包含更多事件的加法公式


### 3事件的加法公式

- 对于三个事件$A_1,A_2,A_3$的和事件

- $y=P(A_1\cup A_2\cup A_3)=P(A_1)+P(A_2)+P(A_3)-P(A_1A_2)-P(A_1A_3)-P(A_2A_3)+P(A_1A_2A_3)$

- 推导如下:

- $记D=A_1\cup A_2$

- $$
  \\
  \begin{aligned}
      y=&P(D\cup A_3)=P(D)+P(A_3)-P(DA_3)
      \\=&P(A_1)+P(A_2)-P(A_1A_2)+P(A_3)-P((A_1\cup A_2) A_3)
      \\=&\sum\limits_{i=1}^{3}P(A_i)-P(A_1A_2)-P((A_1A_3)\cup (A_2A_3))
  \end{aligned}
  $$

- 其中$P((A_1A_3)\cup (A_2A_3))$=$P(A_1A_3)+P(A_2A_3)-P(A_1A_3A_2A_3)$;
  - $P(A_1A_3A_2A_3)=P(A_1A_2A_3)$
  - $y$=$(A_1)+P(A_2)+P(A_3)-P(A_1A_2)-P(A_2A_3)-P(A_1A_3)+P(A_1A_2A_3)$

- 紧凑一点写:
  $$
  \\y=\sum\limits_{i=1}^{3}P(A_i)-\sum\limits_{i=1}^{3}
  P\left(
  \bigcap_{\begin{aligned}{j=1}\\j\neq i\end{aligned}}^{3}
  A_i
  \right)
  +P(\bigcap_{i=1}^{3}A_i)
  $$

### 4事件的加法公式

- $y=P(A_1\cup{A_2}\cup{A_3}\cup{A_4})$

  - 令$D_3=A_1\cup{A_2}\cup{A_3}$
  - $y=P(D_3\cup{A_4})$=$P(D_3)+P(A_4)-P(D_3A_4)$
  - $P(D_3A_4)$=$P(A_1A_4\cup{A_2A_4}\cup{A_3A_4})$
    - =$P(A_1A_4)+P(A_2A_4)+P(A_3A_4)$-$(P(A_1A_4A_2A_4)+P(A_1A_4A_3A_4)+P(A_2A_4A_3A_4))$+$P(A_1A_4A_2A_4A_3A_4)$
    - =$P(A_1A_4)+P(A_2A_4)+P(A_3A_4)$-$(P(A_1A_2A_4)+P(A_1A_3A_4)+P(A_2A_3A_4))$+$P(A_1A_2A_3A_4)$
  - $y$=$P(A_1)+P(A_2)+P(A_3)-P(A_1A_2)-P(A_2A_3)-P(A_1A_3)+P(A_1A_2A_3)$+$P(A_4)$-[$P(A_1A_4)+P(A_2A_4)+P(A_3A_4)$-$(P(A_1A_2A_4)+P(A_1A_3A_4)+P(A_2A_3A_4))$+$P(A_1A_2A_3A_4)$]

- $$
  y=\sum_{i=1}^{4}P(A_i)-\sum_{1\leqslant{i_1}<{i_2}\leqslant{4}}{A_{i_1}A_{i_2}}
  +\sum_{1\leqslant i_1< i_2< i_3\leqslant 4}A_{i_1}A_{i_2}A_{i_3}
  -\sum_{1\leqslant i_1< i_2< i_3< i_4\leqslant 4}P(A_1A_2A_3A_4)
  $$

  

## n个事件的加法公式

- 对于$\set{A_i},i\in\set{1,2,\cdots,n}$

  - $$
    P(\bigcup\limits_{i=1}^{n}A_i)
    =\sum\limits_{i=1}^{n}P(A_i)-\sum_{1\leqslant i_1<i_2\leqslant n}P(A_{i_1}A_{i_2})
    +\sum\limits_{1\leqslant i_1<i_2<i_3\leqslant n}P(A_{i_1}A_{i_2}A_{i_3})
    -\cdots
    \\+(-1)^{n-1}P(\bigcap_{i=1}^{n}A_i)
    \\
    $$

#### 第一项

$$
\\第一项(绝对值)可以写作:\sum\limits_{i=1}^{n}P(A_i)=\sum\limits_{1\leqslant i_1\leqslant n}P(A_{i_1});
\\(i(或者说i_1)有n个互不相同的取值,下标是用来区分不同的事件的)
\\而这里采用二级下标i_j的形式是便于反映累加式(或者累积项的数量)
\\用a,b,c,d\cdots,也是可以的
\\
$$



#### 最后一项

$$
比如:其中最后一项的绝对值记为T(n)=P(\bigcap_{i=1}^{n}A_i),
\\其实,这只是下面式子的简化后的下法
\\\sum\limits_{1\leqslant i_1< \cdots < i_n\leqslant n}P(\bigcap_{j}^{n}A_{i_j})
$$

- 其中,满足$1\leqslant i_1< \cdots < i_n\leqslant n$的序列只有一个,即,就是${1,2,\cdots,n}$
  ,因此求和号可以不写出来

#### 中间项

$$
如果记
|T(k)|=\sum\limits_{1\leqslant i_1<\cdots<i_k\leqslant n}
P(\bigcap_{j=1}^{k}A_{i_j})
\\
T(k)=(-1)^{k-1}\sum\limits_{1\leqslant i_1<\cdots<i_k\leqslant n}
P(\bigcap_{j=1}^{k}A_{i_j})
\\
$$



### 紧凑的形式👺



- 经过上面的记号演变和说明,得到下面用求和符号以及类交符号的形式:
  - 其中重要的是通项公式$T(k)$或其绝对值$|T(k)|$的提取

$$
P(\bigcup\limits_{i=1}^{n}A_i)
=\sum_{k=1}^{n}T(k)
=\sum_{k=1}^{n}
\left(
(-1)^{k-1}\cdot
    \left(
        \sum\limits_{1\leqslant i_1<\cdots<i_k\leqslant n}
        P(\bigcap_{j=1}^{k}A_{i_j})
    \right)
\right)
$$



### 证明

- 容易知道$n$个事件的加法公式可以被$1,\cdots,n-1$事件的加法公式所表示
- 通过猜测$n$事件公式然后用数学归纳法证明



### n事件两两互斥时的加法公式(可列可加性)

- $P(\bigcup\limits_{i=1}^{n} A_i)=\sum\limits_{i=1}^nP(A_i)$

#### 加法公式在随机变量中的形式

- 离散型

  - $$
    \\随机变量表现形式中的应用
    \\P(\bigcup\limits_{i=1}^{n} X=x_i)=\sum\limits_{i=1}^nP(X=x_i)
    \\P(X\leqslant k)=\sum\limits_{x_i\leqslant k}P(x_i)
    \\P(X\geqslant k)=\sum\limits_{x_i\geqslant k}^{}P(x_i)
    \\\sum\limits_{x_k\leqslant k}和\sum\limits_{x_k\geqslant k}分别代表对所有
    小于k的x_i与所有大于k的x_i进行求和
    $$




- 连续性

  - $$
    \\P(a\leqslant X<b)=P(\set{X=a}\cup \set{a<X<b})
    \\=P(X=a)+P(a<X<b)=P(a<X<b)
    $$

    

## 公式记号补充说明

### $n$选$k$的元素序列记法

- 假设要从$a_1,\cdots,a_n$中抽取出$k$个元素,那么有$\binom{n}{k}$种抽法;
- 假设抽出的$k$个元素的下标从小到大排列后分别记为$i_1,\cdots,i_k$,即$1\leqslant i_1<i_2<\cdots<i_k\leqslant{i_n}$,满足该不等式的解有$\binom{n}{k}$种,可见,当$k=n$时,具有唯一解

- 运用:
  - 比如要计算$a_1,\cdots,a_n$中所有$k$个元素所能构成的积的和,可以表示为$\sum\limits_{1\leqslant i_1<i_2<\cdots<i_k\leqslant{i_n}}a_{i_1}a_{i_2}\cdots{a_{i_k}}$



## refs

- **An Introduction to Probability Theory and Its Applications, Vol. 1, 3rd Edition (William Feller) .pdf**
  - $\P\sect$[combinaton of Event ]

![在这里插入图片描述](https://img-blog.csdnimg.cn/c90826623d444353950e862327d71954.png)


![在这里插入图片描述](https://img-blog.csdnimg.cn/e500c05e95514f5e9a60be21ca8b985d.png)


![在这里插入图片描述](https://img-blog.csdnimg.cn/6709998772f04259add2fe9467f74685.png)


![在这里插入图片描述](https://img-blog.csdnimg.cn/d66b6b66dc554d39a7145e31a27ecc8d.png)


- $P=\sum\limits_{i=1}^{n}(-1)^{i-1}S_i$
- 推导:TODO

