[toc]

## 存储器分类

### 作用(层次)分类

- 主存储器(内存):
  - 存放计算机$运行期间$所需要的$程序和数据$
  - cpu可以直接访问内存
  - 内存可以和Cache以及辅助存储器交换数据
  - 特点是:
    - 容量小
    - 存取速度快
    - 每位价格较高
- 辅助存储器
- 高速缓冲存储器(cache)
  - 位于主存和cpu之间(现代计算机将cache制作在cpu中)
  - 用来存放当前的cpu经常使用的$指令和数据$
  - Cache的存取速度和cpu相匹配
  - 但是容量小,价格高

### 存储介质

- 磁表面存储器
  - 磁盘
  - 磁带
- 磁芯存储器
- 半导体存储器
  - MOS型存储器
  - 双极型存储器
- 光存储器(光盘)

### 存取方式分类的存储器

#### 随机访问

- 随机存储器(RAM)
  - RAM的任意一个单元都可以随机存取
  - 存取时间和物理位置无关
  - 读写方便灵活,主要用作主存和cache
  - RAM可以进一步分为:
    - SRAM
    - DRAM
- 只读存储器(ROM)
  - ROM的内容只能够随机读取而不能够写
  - 信息一旦写入ROM,就固定不变,即使断电,也不会丢失
  - 通常用来存放固定不变的
    - 程序
    - 常数
    - 字库
    - 可以和RAM共同作为主存的一部分(统一构成主存的地址域)
  - ROM的派生存储器也包含可重写的类型
    - 广义上的只读存取器可以通过电擦除等方式进行重写
      - 但是仍然具有断点保留内容,随机读取的特性
      - 写入速度比读取速度慢的多
    - ROM和RAM都是随机存取类型

#### 不可随机访问

- 串行访问存储器
  - 对**存储单元**的访问,需要其按照物理位置的先后**顺序寻址**
    - **顺序存取存储器**(SAM)
      - 磁带
    - **直接存取存储器**(DAM)
      - 其中,**直接存取存储器**是介于顺序存取存储器和随机存储器之间的一种存储器
        - 先在整个存储器中找到目标单元所在的个小区域(比如磁盘磁道)
        - 再在区域中顺序查找
      - 例如:
        - 磁盘
        - 光盘(CD-ROM:Compact Disc Read-Only Memory)

### 信息留存性

- 断电后数据消失的存储器是易失性存储器
  - RAM
- 断电后数据仍然保持的存储器,称为非易失性存储器
  - ROM
  - 磁表面存储器
  - 光存储器

### 破坏性读出

- 如果某个存储单元的信息被读取后,原存储信息被破坏,称为破坏性读出
  - 否则为非破坏性读出
- 具有破坏性读出特性的存储器,在读取操作后需要紧接着一个再生操作(恢复被破坏的信息)

## 存储器的性能

- 有三个性能指标,它们相互制约
  - 设计存储系统追求:
    - 大容量
    - 低成本
    - 高速度

### 存储容量

- $容量=存储字数\times{字长}$

### 单位成本

- $每位(bit)价格=\frac{总成本}{总容量}$

### 存储速度(传输速率)

- 设:
  - 数据的宽度为S
  - 存储周期为为T

- $传输速率v=\frac{S}{T}$
  - 注意单位的统一
  - 通常数据是2的幂,将其转换为2的方幂形式进行计算
  - 注意单位统一,通常将宽度化为字节数,周期化为秒


#### 存取时间(memoryAccessTime)

- 存取时间:$T_a$(memory access time)
  - 从**启动**一次存储器操作到**完成**该操作所经历的时间
    - 读出时间
    - 写入时间

#### 存取周期(memeroyCycleTime)

- 存取周期(读写周期/访问周期):$T_m$ 
  - 存储器进行一次**完整的读写操作**所需要的全部时间
  - **连续两次**独立访问存储器操作之间所需要的**最小时间间隔**
    - 两次访存时间点分别记为$t_1,t_2$
    - 间隔$T_m=t_2-t_1$
  - 通常,存取周期大于存取时间,(考虑到前一次存取完需要恢复时间,以便下一次存取)
    - 用存取周期来衡量存取速度比较准确
    - 例如,破坏性读出,恢复时间和存取时间一样长($T_m=2T_a$)
- 主存带宽(数据传输率)$B_m$:
  - 每秒从主存进出信息的**最大数量**
  - 单位:
    - 字/s(Word/s)
    - Byte/s(B/s)
    - bit/s(b/s)

## 多级分层次的存储系统

- 为实现一下的特点,引入多级分层次存储系统
  - 高速度
  - 大容量
- 主要思想是:利用上一层的存储器作为第一层存储器的**高速缓存**

### cache-主存层

- 解决cpu和内存速度不匹配问题

### 主存-辅存层

- 解决存储系统容量的问题

#### 虚拟存储系统

- 在主存-辅存层的发展中,形成了虚拟存储系统(Virtual storage system)
  - 在Vss中,程序员**编址的地址范围**和虚拟存储器的空间地址相对应
  - 对于具有Vss的计算机系统而言,编程是可以用的地址空间远远大于主存空间
  - 详见(操作系统部分)

### 副本

- cache-主存层和主存-辅存层,上一层的内容都是下一层内容的副本
  - cache保存主存数据副本
  - 主存保存辅存数据副本
- 这主要和buffer(缓冲)相区别

## cpu访存

- cpu可以和内存以及cache直接交换信息
- cpu通过内存间接和辅存交换信息
- 主存和下面三种部件都能够直接交换信息
  - cpu
  - cache
  - 辅存
- 主存和cache之间的数据调动是**硬件**自动完成的,对<u>所有程序员</u>都是透明的(不可见的)
- 主存和辅存之间的数据调动则是**硬件和操作系统**共同完成,对<u>应用级程序员</u>是透明的





# 附:rom

- [What is Read Only Memory (ROM)? Types of ROM Defined](https://www.arrow.com/en/research-and-events/articles/what-is-rom-types-of-rom-explained)
  - Read-Only Memory (ROM), is a type of electronic storage that comes built in to a device during manufacturing. You’ll find ROM chips in computers and many other types of electronic products; VCRs, game consoles, and car radios all use ROM to complete their functions smoothly. ROM chips come built into an external unit – like flash drives and other auxiliary memory devices – or installed into the device’s hardware on a removable chip. Non-volatile memory like ROM remains viable even without a power supply.

### What Does Read Only Memory Do? Function of ROM

ROM stores “firmware,” which is permanent software that’s hard-wired with integrated circuits. The manufacturer fits a specifically designed ROM chip into a device during the building process.

Unlike the non-volatile memory of a hard drive, it’s difficult and time-consuming to rewrite a ROM chip’s memory. In most cases, it’s impossible to alter integrated circuits, which may mean you can’t update more basic forms of read only memory. You may be able to reprogram some modern types of ROM, but only at slow speeds and with special equipment. These hurdles make traditional ROM poorly suited for functions that require frequent feature updates or are prone to bugs or security issues.

Conventional ROM is pre-programmed to suit its intended hardware. It often controls functions that are both integral to the utility of the device and unlikely to need modification or personalization. One kind of data usually stored in a read only memory chip is the Basic Input-Output System (BIOS). A device’s BIOS controls the way the device responds to cues from the user at the most fundamental level, such as a computer’s “booting-up” process that occurs when the system powers on.

### What Are The Types of ROM?

Here’s an overview of the different types of ROM, ranging from the most basic to more versatile.

 **ROM**: Classic or “mask-programmed” ROM chips contain integrated circuits. A ROM chip sends a current through a specific input-output pathway determined by the location of fuses among the rows and columns on the chip. The current can only travel along a fuse-enabled pathway and thus can only return via the output the manufacturer chooses. Rewiring is functionally impossible, and so there’s no way to modify these types of ROM chips. While producing a template for an original ROM chip is laborious, chips made according to an existing template can be much more affordable.

 **PROM**: [Programmable ROM](https://www.arrow.com/categories/memory/memory-chips/prom), or PROM, is essentially a blank version of ROM that you can purchase and program once with the help of a special tool called a programmer. A blank PROM chip allows current to run through all possible pathways; the programmer chooses a pathway for the current by sending a high voltage through the unwanted fuses to “burn” them out. Static electricity can create the same effect by accident, so PROMs are more vulnerable to damage than conventional ROMs.

 **EPROM**: [Erasable Programmable ROM](https://www.arrow.com/categories/memory/memory-chips/eprom) chips allow you to write and rewrite them many times. These chips feature a quartz window through which a specialized EPROM programmer emits a specific frequency of ultraviolet light. This light burns out all the tiny charges in the EPROM to reopen its circuits. This exposure effectively renders the chip blank again, after which you can reprogram it according to the same process as a PROM. EPROM chips will eventually wear out, but they frequently have lifetimes of over 1000 erasures.

 **EEPROM**: To modify an [Electrically Erasable Programmable ROM](https://www.arrow.com/categories/memory/memory-chips/eeprom) chip, apply localized electrical fields to erase and rewrite the data. EEPROMs have several advantages over other types of ROM. Unlike the earlier forms, you can rewrite EEPROM without dedicated equipment, without removing it from the hardware, and in specifically designated increments. You don’t have to erase and rewrite everything to make a single edit.

Arrow.com is an authorized distributor of new and popular [memory chips](https://www.arrow.com/categories/memory) from top industry manufacturers. Explore our wide selection of products today.

- 