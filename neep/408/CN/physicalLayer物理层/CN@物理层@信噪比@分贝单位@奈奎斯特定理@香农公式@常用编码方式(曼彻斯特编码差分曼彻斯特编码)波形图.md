[toc]

# CN_@信噪比@分贝单位@奈奎斯特定理@香农公式@常用编码方式(曼彻斯特编码/差分曼彻斯特编码)波形图

## 通信基础概念

### 数据 (data) 

-  运送消息的实体 

### 信号 (signal)

- 数据的电气的或电磁的表现 
- 是数据的具体表现形式

#### 基带信号 

- 基带信号:

  - 信源（[信息源](https://baike.baidu.com/item/信息源/10812948?fromModule=lemma_inlink)，也称发送端）发出的没有经过调制（进行频谱搬移和变换）的原始电信号
  - 其特点是频率较低，信号频谱从零频附近开始，具有低通形式。
  - 根据原始电信号的特征，基带信号可分为
    - [数字基带信号](https://baike.baidu.com/item/数字基带信号/6430726?fromModule=lemma_inlink)和
    - 模拟基带信号

  - 相应地，信源也分为数字信源和模拟信源

  - 像计算机输出的代表各种文字或图像文件的数据信号都属于基带信号 

- 基带信号往往包含有较多的**低频成分**,甚至有**直流成分**,
  - 而许多信道并不能传输这种低频分量或直流分量 
  - 因此必须对基带信号进行**调制 (modulation)** 

#### 信号的放大

- 放大器:放大传输**模拟信号**
- 中继器:放大基带信号,传输**数字信号**

#### 模拟信号 (analogous signal)

- 代表消息的参数的取值是连续的 

#### 数字信号 (digital signal)

-  代表消息的参数的取值是离散的 



### 信道和通信电路

- [信道 (wikipedia.org)](https://zh.wikipedia.org/wiki/信道)
  - **信道**、**频道**或**波道**,是[信号](https://zh.wikipedia.org/wiki/訊號_(資訊理論))在[通信系统](https://zh.wikipedia.org/wiki/通訊系統)中传输的通道,
  - 由信号从**发射端**传输到**接收端**所经过的[传输媒质](https://zh.wikipedia.org/wiki/介质)所构成 
  - **广义的信道**定义除了包括**传输媒质**,还包括传输信号的相关设备
  - 信道与电路并不等同,信道是信号的传输媒介。
  - 一个信道可视为一条**线路的逻辑部件**,一般用来表示向某个方向传送信息的**介质**
    - 因此一条**通信线路**往往包含**一条发送信道和一条接收信道**。
  - **噪声源**是信道上的噪声（即对信号的干扰）及<u>分散在通信系统其他各处的噪声</u>的集中表示。


#### 狭义信道的分类

- 狭义信道,按照传输媒质来划分,可以分为[有线信道](https://zh.wikipedia.org/w/index.php?title=有线信道&action=edit&redlink=1)、[无线信道](https://zh.wikipedia.org/w/index.php?title=无线信道&action=edit&redlink=1)和[存储信道](https://zh.wikipedia.org/w/index.php?title=存储信道&action=edit&redlink=1)三类

#### 广义信道

- 按照其功能进行划分,可以分为[调制信道](https://zh.wikipedia.org/w/index.php?title=调制信道&action=edit&redlink=1)和[编码信道](https://zh.wikipedia.org/w/index.php?title=编码信道&action=edit&redlink=1)两类.

#### 信道和通信电路有所区别

- 例如,一条可双向通信的电路包含有2条信道
  - 对于同一个段
    - 其中的一条信道用于发送信息)
    - 另一条用于接信息

### 信源与信宿

- 数据通信
  - 是指数字计算机或其他数字终端之间的通信。
  - 一个**数据通信系统**主要划分为信源、信道和信宿三部分。
- 信源
  - 是产生和发送数据的源头。
- 信宿
  - 是接收数据的终点,它们通常都是计算机或其他数字终端装置。
- 发送端信源发出的信息需要通过**变换器**转换成适合于在信道上传输的信号
- 而通过信道传输到接收端的信号先由反变换器转换成原始信息,再发送给信宿

### 载波carrier

- [载波 (wikipedia.org)](https://zh.wikipedia.org/wiki/载波)

  - **载波**（carrier wave）是指被[调制](https://zh.wikipedia.org/wiki/调制)以传输[信号](https://zh.wikipedia.org/wiki/信号)的**波形**,一般为[正弦波](https://zh.wikipedia.org/wiki/正弦波) 

  - **载波就是携带信息/信号的波形**,它携带的方式是进行**频率、幅度、相位间隔调制** 

  - 一般要求正弦载波的[频率](https://zh.wikipedia.org/wiki/频率)远远高于调制信号的[带宽](https://zh.wikipedia.org/wiki/带宽),否则会发生混叠,使传输信号有损 

  -  可以这样理解,我们一般需要发送的数据的频率是低频的,如果按照本身的数据的频率来传输,不利于接收和同步 

  - 使用**载波传输**,我们可以将**数据的信号加载到载波的信号**上,接收方按照**载波的频率**来接收数据信号,有意义的信号波的波幅与无意义的信号的波幅是不同的,

    - 将这些信号提取出来就是我们需要的数据信号  

    [电子计算机科学](https://zh.wikipedia.org/w/index.php?title=電子計算機科學&action=edit&redlink=1)中,[基带](https://zh.wikipedia.org/wiki/基頻)（baseband）加上载波（carrier wave）而成为[宽带](https://zh.wikipedia.org/wiki/寬頻)（broadband） 

- **载波聚合**（英语：carrier aggregation）是一项[无线通信](https://zh.wikipedia.org/wiki/無線通訊)技术,
  - 用于聚合多个**载波单元**（英语：component carrier,或称**组成载波**、**分量载波**）以提高传输[带宽](https://zh.wikipedia.org/wiki/带宽) 

### 码元 (code) 🎈

-  在使用时间域（或简称为**时域**）的**波形表示数字信号**时,代表不同**离散数值**的**基本波形**称为**码元**

  - 用一个**固定时长$\delta$**的波形信号(数字脉冲)表示1位k进制数

  - 时长$\delta$称为**码元宽度**
  - 时长$\delta$内的信号称为**k进制码元**

- 码元是数字通信中<u>数字信号的</u>**计量单位**

  - 例如:1码元可以携带m比特的信息量
  - 使用二进制编码是,只有两种不同的码元
    - 其中一种表示0状态
    - 另一种表示1状态

#### 码元的离散电平值@码元状态数为V🎈

- **不同码元的个数**

  - 码元的离散电平数目
  - 码元可取的离散值个数
  - 码元状态数为V
  - 信号级数
  - 量化级数(模拟信号编码为数字信号)
  - **相位数**

- 比如有16种不同的码元(信号),V=16
  - 则需要$\log_2{V}=\log_2{16}=4$个二进制位来区分V个码元
  - <u>每个码元含有$k=4$比特的信息量🎈</u>
  - 因此数据传输速率是码元传输速率的4倍

- 设

  - 一个码元含有**k**比特的信息量🎈

  - 该码元所**需要**的不同离散值为$n=2^k$

  - 数值上

    - 记
    
      - 比特率为$v_{bit},简记为v_b$
      - 波特率$v_{Baud},简记为B$
      - 码元所含的信息量(比特数)$u=\log_2{V}$
    
    - $$
      v_{Baud}=\frac{v_{b}}{u}
      \\
      v_{b}=v_{Baud}\times{u}
      $$
    
    - $B=\frac{v_b}{u};v_b=Bu$
    

- 为了理解这一点,可以类比:

  - u位二进制数可以组合出$n=2^u$不同的编码
  - 反之,为了能够充分表达出u位二进制数每位的取值情况,需要$n=2^u$个不同的码元才能做到

#### 例

- 某通信链路的<u>数据传输速率</u>为$v_{bit}$=2.4kb/s
  - 采用V=4相位调制
  - 则波特率$B=\frac{v_{b}}{u}=\frac{2.4K}{\log_2{4}}=1.2KBaud$

### 码元传输速率

- 波特率
- 调制速率
- 波形速率
- 符号速率
- 单位事件内,数字通信系统所传输的码元个数(脉冲个数或者信号变化次数)
  - 单位是Baud(波特)
- 1Baud表示数字通信系统每秒传输一个码元
  - 码元速率与进制数k无关

### 信息传输速率🎈

- 别名:
  - 信息速率
  - 比特率
  - 位速率
  
- 表示**单位时间**内数字通信系统传输的**二进制码元**个数(注意是二进制码元数,即bit数)
  - 每个二进制码元包含的信息量为1bit(的取值)

- **信道传输速率**:就是信号的**发送速率**
  - 调制速率会影响发送速率,进而影响数据传输速率

- 比特率和波特率的关系
  - 如果一个码元携带n bit信息量,那么M波特率的码元传输速率对应于Mn bit/s的信息传输速率
- 发送速率和传播速率
- 通常,我们关心的是发送速率,传播速率是信号在信道上的传播的速度,和发送速率(传输速率/打发信息)的速率没有关系

#### 以太网速率表示

- 10BASE-T
  - 10:速率为10 Mbit/s
    - 注意是Mbit而不是MByte
  - BASE:表示基带
  - T:表示**双绞线**

# 编码@调制

- 数据可能是
  - 数字的
  - 信号的
- 调制
  - 一般情况下,信道不能直接传输由信源产生的原始信号,
    - 信源产生的信号需要变换成适合信号,才能在信道中进行传输 
    - 将信源产生的信号变换成适合于信道传输的信号的过程就称为[调制](https://baike.baidu.com/item/调制?fromModule=lemma_inlink)(modulation)
  - 所谓调制是指<u>利用要传输的原始信号*S*(*t*)</u>去**控制**高频谐波或周期性脉冲信号的某个或几个[参量](https://baike.baidu.com/item/参量?fromModule=lemma_inlink),
    - 使高频谐波或周期性脉冲信号中的某个或几个参量随*S*(*t*)的变化而变化 
  - 要传输的原始信号称为**调制信号**或[基带](https://baike.baidu.com/item/基带?fromModule=lemma_inlink)信号,用*S*(*t*)表示；
  - 被调制的高频谐波或周期性的脉冲信号起着运载原始信号的作用,因此称为[载波](https://baike.baidu.com/item/载波?fromModule=lemma_inlink),用*C*(*t*)表示；
  - 调制后的信号所得到的其参量随*S*(*t*)线性变化的信号则称为已调信号,用$\varphi(t)$表示
  - **带通信号** ：经过载波调制后的信号
- 编码
  - 把**数据**变换为**数字信号**的过程称为编码

## 调制分类：

###  基带调制：

- 仅对**基带信号**的**波形进行变换**,使它能够与**信道特性**相适应
  - 变换后的信号**仍然是基带信号** 把这种过程称为**编码(coding)**

### 带通调制：

- 使用**载波 (carrier)**进行调制,把**基带信号**的**频率范围**搬移到**较高的频段**,并转换为**模拟信号**,这样就能够更好地在模拟信道中传输（即**仅在一段频率范围**内能够通过信道） 

### 数字调制&模拟调制

- 调制信号两种,[模拟信号](https://baike.baidu.com/item/模拟信号?fromModule=lemma_inlink)和[数字信号](https://baike.baidu.com/item/数字信号?fromModule=lemma_inlink) 


- 用模拟信号控制载波参量的变化,这种调制方式称为模拟调制；
- 用数据信号控制载波信号的参量变化,这种调制方式称为数字调制 

- 数字调制是[现代通信](https://baike.baidu.com/item/现代通信/1916083?fromModule=lemma_inlink)的重要方法,它与模拟调制相比有许多优点 

  - 数字调制具有更好的抗干扰性能,更强的抗[信道](https://baike.baidu.com/item/信道/499862?fromModule=lemma_inlink)损耗,以及更好的安全性；

  - [数字传输系统](https://baike.baidu.com/item/数字传输系统/3374401?fromModule=lemma_inlink)中可以使用差错控制技术,支持复杂信号条件和处理技术,如[信源编码](https://baike.baidu.com/item/信源编码/3216745?fromModule=lemma_inlink)、[加密技术](https://baike.baidu.com/item/加密技术/220679?fromModule=lemma_inlink)以及均衡等 

  - 在数字调制中,调制信号可以表示为[符号](https://baike.baidu.com/item/符号/197?fromModule=lemma_inlink)或[脉冲](https://baike.baidu.com/item/脉冲/1938481?fromModule=lemma_inlink)的时间序列,

    - 其中每个符号可以有*m*种有限状态,而每个符号又可采用*n*比特来表示 

    

## 编码方式

### 数字数据编码为数字信号

- ![在这里插入图片描述](https://img-blog.csdnimg.cn/e32c680322384242986f1f393ca37c44.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAeHVjaGFveGluMTM3NQ==,size_20,color_FFFFFF,t_70,g_se,x_16)

- ![在这里插入图片描述](https://img-blog.csdnimg.cn/c11960dd0eec4ab18e22e301585dd7f6.png)

#### 1)归零编码 

- 在归零编码(RZ)中用
  - 高电平代表1、低电平代表0（或者相反）,
- 每个时钟周期的中间均跳变到低电平（归零）,接收方**根据该跳变调整本方的时钟基准**,这就为传输双方提供了**自同步机制** 
- 由于归零需要占用一部分带宽,因此**传输效率受到了一定的影响** 

#### 2)非归零编码 

- NRZ最简单的编码方式🎈
- 非归零编码(NRZ)与RZ编码的区别是**不用归零**,一个周期可以全部用来传输数据 
- 但NRZ编码无法传递时钟信号,双方难以同步,因此若想传输高速同步数据,则需要都带有**时钟线** 

#### 3)反向非归零编码 

- 反向非归零编码(NRZI)与NRZ编码的区别是用(周期边界(入口):进入周期前和进入周期后的电平是否变化)
  - **信号的翻转代表O**、
  - **信号保持不变代表1** 
- 翻转的信号本身可以作为一种通知机制 
- 这种编码方式集成了**前两种编码的优点**,**既能传输时钟信号,又能尽量不损失系统带宽** 
- USB2.0通信的编码方式就是NRZI编码 

#### 4)曼彻斯特编码 

- 曼彻斯特编码(Manchester Encoding)将一个码元分成两个相等的间隔,前一个间隔为高电平而后一个间隔为低电平表示码元1：码元0的表示方法则正好相反 
- 当然,也可采用相反的规定 该编码的特点是,在每个码元的中间出现电平跳变,位中间的跳变既作为时钟信号（可用于同步）,又作为数据信号,但它所占的频带宽度是原始基带宽度的两倍 
- 注意：**以太网**使用的编码方式就是**曼彻斯特编码** 

- 每个周期内分为电平不同的两部分
  - A=(低,高)=(L,H)
  - B=(高,低)=(H,L)
  - 根据需要,将A或B表示为1,另一个表示为0
  - 这种区分0,1的方法比判断周期中间的:向上跳变和向下跳变更加不容易出错!(更加直观)
    - 比如,您可以对某个曼彻斯特波形图在分析时,
      - 分析每个周期的**前半周期**是
        - 如果**低电平**的标L
        - 如果是高电平的标H
        - 然后根据具体约定,令L,H分别取0,1或者相反,即可
        - 但是建议分批量处理,这样不容易在中途搞混🎈:
          - 先处理L,再处理H
          - 或者相反
      - 如果没有约定,那么写出两种可能的答案,两个答案互为反码

#### 5)差分曼彻斯特编码 

- 差分曼彻斯特编码常用于**局域网传输**,其规则是：(和NRZI类似)
  - 若码元为1,则**前半个码元**的电平与**上一码元的后半个码元**的**电平相同**：(XNOR)同或运算
  - 若码元为0,则情形相反 
- 该编码的特点是,在每个码元的中间都有一次电平的跳转,可以实现**自同步**,且抗干扰性较好 

-  在每个时钟周期的起始处,跳变则说明该比特是0,不跳变则说明该比特是1
- 也是推荐批量判断:
  - 先判断1:
    - 每个周期与周期的边界,如果某个边界来两侧电平一样高,那么将**后一个周期标记位1**🎈
      - 设边界为第i周期和第i+1个周期的边界,判断结果就是第i+1个周期的码元代表的值
    - 其余周期标记为0(处了第一个周期不能判断,选择题用排除法)
- 给定的某个波形图,通常第1个码元的信号波形因缺乏上一码元的信号波形,无法判断是0还是1,
  - 但根据后面的信号波形,可以求出后面的码元为0111001

#### 6)4B/5B编码 

- 将欲发送数据流的每4位作为一组,然后按照4B/5B编码规则将其转换成相应的5位码 
- 5位码共32种组合,但只采用其中的16种对应16种不同的4位码,其他16种作为控制码(帧的开始和结束、线路的状态信息等)或保留 



#### 数字数据调制为模拟信号

- **数字数据调制**技术在发送端将**数字信号转换为模拟信号**,而在接收端将模拟信号还原为数字信号,分别对应于调制解调器的调制和解调过程 

- 基本的**数字调制**方法有如下几种：

- 1）幅移键控（ASK）Amplitude Shift Keying

  - 通过改变**载波信号**的**振幅**来表示数字信号1和0,而载波的**频率和相位**都不改变 
  - 比较容易实现,但抗干扰能力差 

- 2）频移键控（FSK）(Frequency Shift Keying)

  - 通过改变载波信号的**频率**来表示数字信号1和0,而载波的振幅和相位都不改变 
  - 容易实现,抗干扰能力强,**目前应用较为广泛** 

- 3）相移键控（PSK） (phase shift keying)

  - 通过改变载波信号的**相位**来表示数字信号1和0,而载波的振幅和频率都不改变 
  - 它又分为**绝对调相和相对调相** 

- 4）正交振幅调制（QAM）(Quadrature Amplitude Modulation)

  - 在**频率相同**的前提下,将**ASK与PSK结合**起来,形成**叠加信号** 

    - 设
      - 波特率为B,信道频率为W
      - 采用P个相位,
      - 每个相位有A种振幅
      - 记QAM调出后,信号种数(信号的变化种数)$V=P\times A$
    - 则该QAM技术的**数据传输速率**R为🎈
      - 利用波特率和每个码元含有的信息量(比特数)可以计算:
        - $R=B\times\log_2{V}$ （单位为b/s）
          - 其中,$V=P\times{A}$表示QAM调制后有V种不同的信号
          - $K=\log_2V$就是每个码元可以表达的信息比特位数
      - 利用那奎斯特定理也可以计算最大数据速率:
        - R=$2W\log_2V=2W\log_2{(PA)}$
    - 例
      - 采用P=8中相位,每种相位各有A=2种幅度的QAM调制方法
        - V=PA=16
      - 在1.2KBoud的信号传输速率(波特率)下能达到的**数据**传输速率(比特率)为
        - $R=B\times{\log_2(PA)}=1.2k\times{\log_2{16}}$=4.8kb/s
    - 例
      - 无噪声的情况系,某通信链路的带宽W=3kHz
        - 采用P=4个相位
        - 每个相位具有4种振幅的QAM调制技术
        - 通过通信链路的最大传输速率R=?
      - 分析
        - 本例未直接给出波特率B
        - 则直接使用奈奎斯特计算

- 对于k进制的数字调制方法可以在上述调制方法前面加上前缀`k`

  - 例如2ASK,表示二进制幅移键控

  

#### 模拟数据编码为数字信号

- 比如对音频信号进行编码的脉码调制(PCM)
  - 脉冲编码调制(Pulse Code Modulation)
- 主要包括
  - 采样
  - 量化
  - 编码

##### 采样

​	是指对模拟信号进行周期性扫描,把时间上连续的信号变成时间上离散的信号 

###### 采样定理(奈奎斯特定理)

- **带宽**:在**通信**领域,带宽是指信号最高频率与最低频率之差,单位为 Hz

- 将模拟信号转换成数字信号时,假设**原始信号**中的最大频率为$f$

  - 那么**采样频率**$f_{sample},简记为f_s$必须大于等于**最大频率**f的两倍($f_s\geqslant{2f}$)
  - 才能保证**采样后的数字信号完整保留原始模拟信号的信息**
  - 另外,采样定理又称**奈奎斯特定理** 

  

- 根据采样定理,当采样的频率大于等于模拟数据的频带带宽（最高变化频率）的两倍时,所得的离散信号可以无失真地代表被采样的模拟数据 

###### 采样和速率🎈

- 记采样频率$f_s$和信道带宽(频率)为$f=W$
  - 有效采样率上限为$2f$,如果$f_s\geqslant{2W}$,高出的部分是没有额外的意义的
  - 对于模拟信号编码为数字信号的**最大数据传输速率**,
    - $V_{s}=f_sK$
      - $K=\log_2{V}$
      - $f_s最大有效值为2W$
    - $V_{max}=2WK=2W\log_2V$
  - 如果没有给出低通理想信道带宽$f$,而仅给出采样频率$f_s$
  - 那么此时的最大传输速率为:
    - $V=f_sK=f_s\log_2{V}$
    - 相当于默认$f_s$是一个有效值(没有超过$2W$)

###### 例

- 一个信道每0.125s采样一次(频率$f_s=1/0.125s=8Hz$);
- 传输信号共有V=16中变化状态,
- 最大数据传输速率$V_s$=$f_s\log_2{16}={8}\times{4=32}$

###### 例

- 用PCM对语音进行数字量化
  - 如果将声音分为V=128个量化级
  - 采样频率为$f_s=8kHz$
  - 那么一条话音需要**数据传输速率**为V=$f_s\times{\log_2{128}}=8k\times{7}=$56kb/s



##### 量化

- 是把采样取得的**电平幅值**按照一定的**分级标度**转化为对应的**数字值并**取整数,
- 这样就把**连续的电平幅值**转换为了**离散的数字量** 
- **采样和量化**的实质就是**分割和转化**

##### 编码

- 是把<u>量化的结果转换为与之对应的二进制编码</u> 

##### 例

- 将1路模拟信号分别编码为数字信号后,与另外7路数字信号采用同步TDM(时分复用)方式复用到一条通信线路上 
- 1路模拟信号的**频率变化范围为0~1kHz,**每个采样点**采用PCM方式编码**为**k=4**位的二进制数
- 另外7路数字信号的**数据率均为7.2kb/s** 复用线路需要的最小通信能力是（）
  A.7.2kb/s
  B.8kb/s
  C.64kb/s
  D.512kb/s
- 分析
  - 1路:
    - 频率变换范围宽度为W=1kHz,所以采样频率为$f_s=2W=2kHz$
    - 相应的数据率为$V_s=f_sK=2kHz\times{4}=8kHz$
  - 另外7路的数据率不足8kHz,
  - 但是复用的每条支路都要相等,所以另外7路数字信号的速率均要补到最高速支路的8kb/s
    - 可以使用脉冲填充的方式提高速率
  - 8路信号复用,需要的通信能力为$8kb/s\times{8}=64kb/s$

#### 模拟数据调制为模拟信号

- 模拟数据调制为模拟信号为了实现**传输的有效性**,可能需要**较高的频率** 
  - 这种调制方式还可以使用频分复用(FDM)技术,充分利用**带宽**资源 
  - <u>电话机和本地局交换机</u>采用模拟信号传输模拟数据的**编码方式**,**模拟的(连续的)声音数据**是加载到**模拟的载波信号**中传输的 



## 通信数据交换

### 电路交换

- 1)通信时延小 由于通信线路为通信双方用户专用,数据直达,因此传输数据的时延非常小 当传输的数据量较大时,这一优点非常明显 

#### 优点

- 2)有序传输 
  - 双方通信时按发送顺序传送数据,不存在失序问题 
- 3)没有冲突 
  - 不同的通信双方拥有不同的信道,不会出现争用物理信道的问题 
- 4)适用范围广 
  - 电路交换既适用于传输模拟信号,又适用于传输数字信号 
- 5)实时性强 
  - 通信双方之间的物理通路一旦建立,双方就可以随时通信 
- 6)控制简单 
  - 电路交换的交换设备（交换机等）及控制均较简单 

#### 缺点

- 1)建立连接时间长 电路交换的平均连接建立时间对计算机通信来说太长 
- 2)线路独占,使用效率低 电路交换连接建立后,物理通路被通信双方独占,即使通信线路空闲,也不能供其他用户使用,因而信道利用率低 
- 3)灵活性差 只要在通信双方建立的通路中的任何一点出了故障,就必须重新拨号建立新的连接,这对十分紧急和重要的通信是很不利的 
- 4)难以规格化 
  - 电路交换时,数据直达,不同类型、不同规格、不同速率的终端很难相互进行通信,
  - 也难以在通信过程中进行**差错控制** 
  - 不提供可靠性
    - 因为传输过程中的错误难以控制


### 报文交换

- 报文大小不固定
- 延迟长(存储转发),不能用于实时通信
- 主要被分组交换取代

### 分组交换

- 以太网采用的交换技术是<u>分组交换技术</u>

#### 分组交换的优点：

- 1)无建立时延 
  - 不需要为通信双方预先建立一条专用的通信线路,不存在连接建立时延,用户可随时发送分组 
- 2)线路利用率高 
  - 通信双方不是固定占有一条通信线路,而是在不同的时间一段一段地部分占有这条物理通路,因而大大提高了通信线路的利用率 
- 3)简化了存储管理（相对于报文交换) 
  - 因为分组的长度固定,相应的缓冲区的大小也固定,在**交换结点中存储器**的管理通常被简化为对**缓冲区**的管理,相对比较容易 
- 4)**加速传输** 
  - 分组是逐个传输的,可以使后一个分组的**存储操作**与前一个分组的**转发操作**两者**并行**,这种流水线方式减少了报文的传输时间 
  - 此外,传输一个分组所需的缓冲区比传输一次报文所需的缓冲区小得多,这样因缓冲区不足而等待发送的概率及时间也必然少得多 
- 5)减少了出错概率和重发数据量 
  - 因为**分组较短,其出错概率必然减小**,所以**每次重发的数据量也就大大减少**,
  - 这样不仅**提高了可靠性**,也**减少了传输时延** 

#### 分组交换的缺点：

- 1)存在**传输时延** 
  - 尽管分组交换比报文交换的传输时延少,但**相对于电路交换**仍存在存储转发时延,
  - 而且其**结点交换机**必须具有**更强的处理能力** 
- 2)需要**传输额外的信息量** 
  - 每个小数据块都要加上源地址、目的地址和分组编号等信息,从而构成分组,
  - 因此使得传送的信息量增大了5%10%,一定程度上降低了通信效率,**增加了处理的时间,使控制复杂**,时延增加 
- 3)失序/丢失/重复问题
  - 当分组交换采用数据报服务时,可能会出现失序、丢失或重复分组,
  - 分组到达目的结点时,要对分组按编号进行排序等工作,因此很麻烦 
  - 若采用虚电路服务,虽无失序问题,但有呼叫建立、数据传输和虚电路释放三个过程 

#### 例

- 某个采用存储-转发方式的分组交换网络中

  - **所有链路**的数据传输速率为$100Mb/s$

    - ```mermaid
      flowchart LR
      	H1[H1]<--->st1[(switch1)]<-->st2[(switch2)]<-->H2[H2]
      	st1<-->st3[(stiwtch3)]<-->st2
      ```

      

  - 分组大小为1000B

    - 分组头大小为20B

  - 每个分组从$H_1\to{H_2}$都要经过至少2个交换机

  - 主机$H_1$向主机$H_2$发送一个大小为S=980KB的文件,

  - 记:$H_2$接**收完所有的信息**需要的时间记为$T_{receive}$

  - 在<u>不考虑分组拆装时间和传播时延</u>的情况下,T的最小值?

- 分析:

  - 一个分组(packet)1KB,其中20B为头部信息,剩余1K-20=980B为数据信息

  - 也就是头部和数据信息的比例是20:980,

  - 总信息量:数据量=980:1000

  - 现在一致要传输的文件大小S=980KB,那么分组后的总信息量大小$x$满足:

    - $S:x=980:1000$
    - $x=1000S/980=1K\times{980KB}/980=1MB$

  - 那么需要的时间为:$T_{send}=\frac{1MB}{100M\frac{1}{8}B/s}=\frac{8}{100}s=80ms$

  - 在H1将最后一个分组发送完(switch1)上还有一个分组未发送(到下一站switch2)

    - H2上也还有一个分组未发送到H2

    - 而最迟送到H2的分组是此时的Switch1上的分组,

    - 我们只需要计算最后一个分组从swith2经过两次转发到达H2的时间

      - 记转发1次需要$\delta$的时间,那么总共需要$T_{r}=2\delta$

    - 由于所有链路的数据率都为100Mb/s,且不考虑传播时间

      - 那么发送到相邻设备的时间为

      - $$
        \delta=\frac{1000B}{100M(\frac{1}{9}B)/s}
        =80M^{-1}s=80\times{10^{-6}}\times{10^3}ms
        =0.08ms
        $$

        

      - $T_r=2\delta=0.16ms$

  - $T_{receive}=T_{send}+T_r=80.16ms$


#### 例

-  **主机甲**通过1个路由器（存储转发方式）与**主机乙**互联

  - ```mermaid
    flowchart LR
    	H1[甲]<-->r0[(Router0)] <-->H2[乙]
    	 
    ```

    

- 两段链路的数据传输速率均为10Mb/s,主机甲分别采用以下两种方式完成任务:向主机乙发送一个大小为8Mb报文

  - 报文交换
  - 分组大小为10kb的分组交换

- 若忽略

  - 链路传播延迟、
  - 分组头开销
  - 分组拆装时间,

- 则两种交换方式完成该报文传输所需的总时间分别为（D）

  - A.800ms、1600ms
  - B.801ms、1600ms
  - C.1600ms、800ms
  - **D.1600ms、801ms**

- 分析:

  - 报文交换:

    - 报文交换方式将被发送报文整个的作为整体进行发送
    - 报文将信息直接传送,其发送时延就是每个结点**转发**报文的时间
    - 则:
      - 对于每个结点,均需要$t_1=\frac{8Mb}{10Mb/s}=0.8s=800ms$的时间
      - 从拓扑结构上看,从甲发送到乙,报文被发送了2次
      - $所以t_{d}=2t_1=1.6s$

  - 分组交换方式:

    - 报文的所有分组离开主机甲需要的时间$T_{send}=t_1$

    - 需要考虑此时路由器中是否残留分组未发送到主机乙

    - 发现路由器中还有一个分组没有发送到主机乙

    - 根据分组大小为10kb,链路速率为10Mb/s

    - 完成残余分组的转发需要$\delta=\frac{10kb}{10M/b}=K^{-1}s=1ms$

    - 所有分组方式需要的总时间是$t_{p}=T_{send}+\delta=800+1=801ms$

      

### @数据报和虚电路

- 🎈数据报方式和虚电路方式是分组交换范畴内的交换方式

  - 虚电路方式(虚电路分组交换):面向连接的
    - 虚电路方式试图将数据报方式与电路交换方式结合起来,充分发挥两种方法的优点,以达到最佳的数据交换效果 

    - 在分组发送之前,要求在发送方和接收方建立一条**逻辑上相连的虚电路**,并且连接一旦建立,就固定了虚电路**所对应的物理路径** 
      - 虚电路是**多路复用技术**

      - <u>每条物理线路可以进行多条逻辑上的链接</u>

    - 包括临时性(交换型虚电路SVC)和永久性的虚电路PVC
    - 与电路交换类似,整个通信过程分为三个阶段：
      - 虚电路建立、数据传输与虚电路释放 

      - 在虚电路方式中,端系统每次建立虚电路时,**选择一个未用过的虚电路号**分配给该虚电路,以区别于本系统中的其他虚电路 

    - 在传送数据时,每个数据分组不仅要有分组号、校验和等控制信息,还要有它要通过的**虚电路号**,以区别于**其他虚电路上的分组** 

    - 在虚电路网络中的每个结点上都维持一张**虚电路表**,表中的**每项**记录了一个**打开的虚电路的信息**,
      - 包括在<u>接收链路和发送链路</u>上的虚电路号、

      - 前一结点和下一结点的标识 

    - 数据的传输是**双向进行**的,上述信息是在虚电路的建立过程中确定的 

    - 尽管虚电路提供的是可靠的服务但是不适合在出错率较高的传输系统中使用
      - 因为虚电路对于单点故障比较敏感

      - 频繁出错会导致效率问题

  - **数据报**方式(数据报分组交换):无连接的
    - 注意和**报文**交换区分,不同的东西
    - 虽然不可靠,但是适合用于出错率较高的传输系统中
    - 因为对单点故障不敏感,可以由高层实现可靠通信


|                    | 数据报服务                                                   | 虚电路服务                                               |
| ------------------ | ------------------------------------------------------------ | -------------------------------------------------------- |
| 连接的建立         | 不需要                                                       | 必须有                                                   |
| 目的地址           | 每个分组都有完整的目的地址                                   | 仅在建立连接阶段使用,之后每个分组使用长 度较短的虚电路号 |
| **路由选择**       | 每个分组独立地进行路由选择和转发                             | 属于同一条虚电路的分组按照同一路由转发(不需要预分配带宽) |
| 分组顺序           | 不保证分组的有序到达                                         | 保证分组的有序到达                                       |
| 可靠性             | 不保证可靠通信,可靠性由用户主机来保证                        | 可靠性由网络保证                                         |
| 对网络故障的适应性 | 出故障的结点丢失分组,其他分组路径选择发生变化 时可以正常传输 | 所有经过故障结点的虚电路均不能正常工作                   |
| 差错处理和流量控制 | 由用户主机进行流量控制,不保证数据报的可靠性                  | 可由分组交换网负责,也可由用户主机负贵                    |


### 和传输媒介的比较

- 传输媒介可以被称为第0层,物理层则是第1层
- 传输媒介本身不知道自己传输的信号代表的是什么含义(比如,什么时候是1或者是0)
- 而物理层规定了电气特性,可以识别传送的比特流
- 物理层比特流
- 传输媒介传输信号

## 信道复用技术

- 复用 (multiplexing) 是通信技术中的基本概念 
- 它允许用户使用一个共享信道进行通信,降低成本,提高利用率
- 不同信号通过**复用**共享一个信道,在通过**分用**还原出不同的信号

### 频分复用FDM

- 将**整个(频率)带宽**(Hz)分为多份,用户在分配到一定的**频带**后,在通信过程中**自始至终都占用这个频带** 

  - 这里的“带宽”是**频率带宽**<u>而不是数据的发送速率</u>

-  频分复用的所有用户在**同样的时间占用不同的带宽资源**🎈

  

#### ref

- [频分多路复用  (wikipedia.org)](https://zh.wikipedia.org/wiki/频分多路复用#:~:text=频分多路复用（Frequency-division multiplexing,,上各自占据4KHz带宽 )

  - **频分多路复用**（Frequency-division multiplexing,**FDM**）,也叫**分频多任务**
  - 是一种将多路[基带](https://zh.wikipedia.org/wiki/基带)[信号](https://zh.wikipedia.org/wiki/信号)[调制](https://zh.wikipedia.org/wiki/调制)到不同频率[载波](https://zh.wikipedia.org/wiki/载波)上再进行[叠加](https://zh.wikipedia.org/wiki/疊加原理)形成一个**复合信号**的多路复用技术 
  - 历史上,[电话](https://zh.wikipedia.org/wiki/电话)网络曾使用FDM技术在单个物理电路上传输若干条语音[信道](https://zh.wikipedia.org/wiki/信道) 
    - 这样,12路语音信道被调制到载波上各自占据4KHz带宽
  - 在现代电话系统所使用的数字传输方式中,[时分多路复用](https://zh.wikipedia.org/wiki/时分多路复用)（Time-Division Multiplexing）代替了FDM技术 

  

#### 波分复用 WDM(Wavelength Division Multiplexing)

- 波分复用就是**光的频分复用** 
- 使用一根光纤来同时传输多个光载波信号

### 时分复用TDM

- 时分复用TDM (Time Division Multiplexing)
- 时分复用的所有用户在**不同的时间占用同样的频带宽度**🎈
- 时分复用则是**将时间划分**为一段段等长的**时分复用帧**（TDM帧）
- 每一个时分复用的用户在**每一个 TDM 帧**中占用固定序号的时隙
- 每一个用户所占用的**时隙**是**周期性地出现**（其周期就是TDM帧的长度）
- **TDM 信号**也称为**等时 (isochronous) 信号**
- 时分复用可能会造成线路资源的浪费
  - 使用时分复用系统传送计算机数据时,由于计算机数据的突发性质,用户对分配到的子信道的利用率一般是不高的
  - 当某用户暂时无数据发送时,在时分复用帧中分配给该用户的时隙只能处于**空闲状态** 
- TDM利用传输介质的性质:
  - 介质的位速率大于单个信号的位速率


#### 统计时分复用 STDM (Statistic TDM)

- STDM 帧**不是固定分配时隙**,而是**按需动态地分配时隙** 
- 因此统计时分复用可以提高线路的利用率 

### 码分复用 CDM (Code Division Multiplexing)@码分多址CDMA

- 常用的名词是**码分多址** CDMA (Code Division Multiple Access)
- 各用户使用**经过特殊挑选的**不同**码型**,因此**彼此不会造成干扰** 

- 这种系统发送的信号有很强的**抗干扰能力**,其频谱类似于白噪声,不易被敌人发现 

### 小结🎈

- 频分复用共享时间而不共享空间
  - **频带宽**被划分为若干道,不同频带的信号都独自占有其中的某一个频带,而不会共享一给频带
  - 时间是共享的,因为同一时间(段),多个频带的信号同时可以通过被频分复用的同一条信道
- 时分复用共享空间而不共享时间
  - 信道频带没有被划分,所有信号在传输时走的都是同一条信道(共享空间)
  - 但是同一时刻只有一个信号占有信道,因此是不共享时间的
- 宏观上看
  - 频带宽分道共享同一条信道
  - 时间片段内划分时间间隙的角度,TDM方式共享时间

## 码片序列(chip sequence)

- 每一个**比特时间**划分为 m 个**短的间隔**,称为**码片 (chip)** (时间概念)

  - **比特时间**是指发送1比特需要的时间,这种时间单位与数据率密切相关

  - 每个**站**被指派一个唯一的 m bit **码片序列** 

    - 如发送比特 1,则发送自己的 <u>m bit 码片序列</u>:$M=a_1\cdots,a_m$

    - 如发送比特 0,则发送该<u>码片序列的二进制反码</u>,$\overline{M}=\overline{a_1}\cdots,\overline{a_{m}}$
    - 例如,S 站的 8 bit 码片序列是 M=00011011
      - 发送比特 1 时,就发送序列 00011011,
      - 发送比特 0 时,就发送序列 11100100
    - 按照惯例,码片中的1被写作`+1`,0被写作`-1`
    - 所以S站的码片为-1-1-1+1+1-1+1+1
- 当多个站点同时发送时,各路数据在信道中线性相加
- 从信道中分离出各路信号,要求各个站点的码片序列相互正交
- ![在这里插入图片描述](https://img-blog.csdnimg.cn/e156838b29c54f448d4445b306bbf73f.png)
  - 发送端
    - 数据码元bit是1,1,0
    - S站的信号$S_x$
      - 码片序列$S$(作为$S_x$各个码片的取反的参考)
      - 序列1,1,0,说明第个bit对应的码片为S反码$\overline{S}$

    - T站的信号$T_x$
    - 总的发送信号$S_x+T_x$

  - 接收端


### 码片正交

- 令向量 S 表示站 S 的码片向量,令 T 表示其他任何站的码片向量。

-  两个不同站的**码片序列正交**,就是**向量 S 和T 的规格化内积** (inner product) 等于 0：

- $$
  \mathbf{S} \bullet \mathbf{T} = \frac{1}{m} \sum_{i=1}^{m} S_{i} T_{i}=0
  $$

### 正交性质

- 任何一个码片向量和码片向量自己的**规格化内积**都是1

  - 取T=S:

  - $$
    S\bullet{S}=\frac{1}{m}\sum_{i=1}^{m}{S_iS_i}=\frac{1}{m}\sum_{i=1}^{m}S_i^2
    =\frac{1}{m}\sum_{i=1}^{m}(\pm1)^2=1
    $$

- 一个码片向量和该码片反码的向量的看规格化内积值为-1

  - 取T=$\overline{S}$
    $$
    S\bullet{\overline{S}}=\frac{1}{m}\sum_{i=1}^{m}{S_i\overline{S_i}}
    =\frac{1}{m}(m\times(-1))=-1
    $$

    

#### 例

-  站点A、B、C通过CDMA共享链路
- A、B、C的码片序列分别是（1,1,1,1)(1,-1,1,-1)和(1,1,-1,-1)。
- 若C从链路上收到的序列是（2,0,2,0, 0,-2,0,-2, 0,2,0,2),
- 则C收到A发送的数据是（101）
  - A.000
    B.101
    C.110
    D.111
- 分析:先分组,再做内积运算,得到序列中bit
  - 把收到的序列分成4个数字1组
    - 2,0,2,0
    - 0,-2,0,-2
    - 0,2,0,2
  - 要求出A发送的数据,将三组数据和A站的码片序列1,1,1,1做内积运算:
    - $S\bullet{T}=\frac{1}{m}\sum_{i=1}^{m}S_i{T_i}$
    - $\frac{1}{4}(2,0,2,0)\cdot(1,1,1,1)=1$
    - $\frac{1}{4}(0,-2,0,-2)\cdot(1,1,1,1)=-1$
    - $\frac{1}{4}(0,2,0,2)\cdot(1,1,1,1)=1$
  - 码片序列对应的二进制串就是1,0,1

## 传输方式

#### 基带传输

在**计算机内部**或在**相邻设备之间**近距离传输时,可以<u>不经过调制就在信道上直接进行的传输</u>方式称为基带传输 

- 它通常用于**局域网** 
- **数字基带传输**就是在信道中**直接传输数字信号**,且传输媒体的**整个带宽都被基带信号占用**,双向地传输信息 
- 最简单的方法是用两个高低电平来表示二进制数字,常用的编码方法有不归零编码和曼彻斯特编码 
  - 例如,要传输1010,低电平代表0,高电平代表1,那么在基带传输下,1010需要向通信线路传输（高、低、高、低电平） 

#### 频带传输🎈

- 频带传输是信号经**调制后**传输到终端后经**再解调**的传输方式 
  - 即将数字信号 (二进制电信号)进行调制变换,变成能在公共电话线上传输的模拟信号(音频信号) ,
    - 经传输介质传送到接收端后,再由[调制解调器](https://baike.baidu.com/item/调制解调器/103486?fromModule=lemma_inlink)将该音频信号解调变换成原来二进制电信号  
  - 频带传输需在发送端和接收端<u>分别设置**调制解调器**</u> 
  - 此种传输方式克服了许多长途电话线路不能直接传输基带信号的缺点,且能实现多路复用功能
- 数字信号调制为模拟信号,在模拟信道上传输
  - 数字信号不能直接在模拟信道上传输,需要先**调制**为模拟信号
- **远距离传输**或**无线传输**时,**数字信号**必须用**频带传输技术**进行传输 
  - 利用频带传输,不仅解决了电话系统传输数字信号的问题,而且可以实现多路复用,进而提高传输信道的利用率 
  - 🎈同样传输1010,经过**调制**,一个码元对应4个二进制位,假设码元A代表1010
    - 那么在**模拟信道**上传输码元A就相当于传输了1010,这就是频带传输 

#### 宽带传输

- 借助<u>频带传输</u>,可将<u>链路容量分解成两个或多个信道</u>,**每个信道可以携带不同的信号**,这就是**宽带传输** 

- 宽带传输中所有的信道能**同时互不千扰地发送信号**,链路**容量**大大增加 
- 比如把**信道进行频分复用**,划分为2条**互不相关的子信道**,分别在两条子信道上同时进行频带传输,链路容量就大大增加了,这就是宽带传输 

## 分贝(dB)🎈

- [分贝  (wikipedia.org)](https://zh.wikipedia.org/zh-cn/分貝)

- **分贝**（Decibel）是<u>量度两个相同单位</u>之数量[比例](https://zh.wikipedia.org/wiki/比例)的单位,常用**dB**表示 
  - “[分](https://zh.wikipedia.org/wiki/分)”（deci-）指十分之一
    - 取十分之一的对象是“贝”或“贝尔”（bel,纪念发明家[亚历山大·格拉汉姆·贝尔](https://zh.wikipedia.org/wiki/亚历山大·格拉汉姆·贝尔)）,

- 考虑[功率](https://zh.wikipedia.org/wiki/功率)(power)或者[强度](https://zh.wikipedia.org/wiki/强度)（intensity）时,其比值可以表示为**分贝**
  - 如果单位是**分贝**是通过把测量值与参考量值之比计算**基于10的对数**,**再乘以10** 
  - 如果单位是**贝尔**那么就不用乘以10

### 换算关系

- 分贝（dB）是十分之一贝尔（B）
  - 1B = 10dB
- 1贝尔的两个功率量的比值是10:1,
- 1贝尔的两个场量的比值是${\displaystyle {\sqrt {10}}:1}$  
  - 场量（field quantity）是诸如[电压](https://zh.wikipedia.org/wiki/电压)、[电流](https://zh.wikipedia.org/wiki/电流)、[声压](https://zh.wikipedia.org/wiki/声压)、[电场强度](https://zh.wikipedia.org/wiki/电场强度)、[速度](https://zh.wikipedia.org/wiki/速度)、[电荷密度](https://zh.wikipedia.org/wiki/電荷密度)等量值,
  - 其平方值在一个线性系统中与功率成比例 
  - 功率量（power quantity）是功率值或者直接与功率值成比例的其它量,如[能量密度](https://zh.wikipedia.org/wiki/能量密度)、[音强](https://zh.wikipedia.org/wiki/音强)、[发光强度](https://zh.wikipedia.org/wiki/发光强度)等 
- 分贝的计算,依赖于是功率量还是场量而不同 🎈
  - 此处仅讨论**功率量**

### 功率量下的分贝计算🎈

- 考虑[功率](https://zh.wikipedia.org/wiki/功率)或者[强度](https://zh.wikipedia.org/wiki/强度)（intensity）时,其比值可以表示为分贝,

  - 求**贝**值通过把**测量值**$P_1$与**参考量值**$P_0$之比$(\frac{P_1}{P_0})$计算**基于10的对数**$\lg{\frac{P_1}{P_0}}$
  - 根据
    - $1B=10dB$,
    - $L_B=\lg\frac{P_1}{P_0}$,单位是$B$
    - $L_B$表示以**贝**尔为单位时的**数值**
  - **分贝**值就是
    - $L_{dB}=10L_B=10\log_{10}{\frac{P_1}{P_0}}=10\lg{\frac{P_1}{P_0}}$(dB),单位是$dB$
      - $L_{dB}$表示以**分贝**为单位时的数值
- 公式解释

  - 单位变大,数值变小
    - $L_B=\frac{1}{10}L_{dB}$
    - 例如$10dB=1B,其中L_{dB}=10,L_{B}=1$
  - 两个功率值的比值基于10的对数,就是`贝尔（bel）`值 (以(B)为单位时的数值)
  
  - 两个功率值之比的`分贝值(dB)`是`贝尔值(B)`的1/10倍（或者说,1个分贝是十分之一贝尔）

#### 使用分贝有很多便利之处 

- **分贝或贝尔**实际上是**对数值**(分贝需要再对**对数结果**乘以一个因子10),因此可以用常用的数量来表示非常大的比值,可以清楚地表示非常大的数量变化 
- 多部件系统的整体增益（如级联的[放大器](https://zh.wikipedia.org/wiki/放大器)）可以直接用各部件的增益分贝`相加`而求得 不必把这些增益值`相乘`（例如`log(A × B × C) = log(A) + log(B) + log(C)）` 
- 人对强度的感知,如声音或者光照,更接近与强度的对数成正比而不是强度值本身,依据[韦伯定理](https://zh.wikipedia.org/wiki/韋伯定理),因此分贝值可用于描述感知级别或级差 

## 信噪比

- 记信噪比:$\eta=S/N$（SIGNAL-NOISE RATIO,简记为SNR)

- 单纯的信号的平均功率和噪声的平均功率之比,常记为 S/N,这个数值的单位还不是dB

  - 信噪比采用dB来为衡量单位时,需要从S/N带入转换公式计算一下

  - $$
    \eta=\frac{S}{N},纯比值,无单位(分子分母单位一致,被约去)
    \\
    \eta_{dB}=10\lg{\eta}(取对数处理,得到以dB为单位的信噪比数值)
    \\
    \frac{1}{10}\eta_{dB}=\lg{\eta}
    \\
    \eta=10^{\frac{1}{10}\large\eta_{\normalsize{dB}}}
    $$
    
  - 下面以香农公式为例说明
  

##  香农定理@香农公式



- 1984年,香农 (Shannon) 用信息论的理论推导出了<u>带宽受限且有高斯白噪声干扰的</u>信道的**极限、无差错的**信息传输速率（香农公式）  

  - 信道的**极限信息传输速率 ** C可表达为:

  - $$
    C=WQ=W \log _{2}(1+S / N) \quad(b i t / s)
    \\记Q=\log_2{(1+\eta)}
    \\ \eta=\frac{S}{N}
    \\\clubsuit再三注意,和奈奎斯特定理不同,香农公式是1W没有2W🎈
    \\
    \\其中: 
    W  为信道的带宽（以  \mathrm{Hz}  为单位）；
    \\ S  为信道内所传信号的平均功率;
    \\  {N}  为信道内部的高斯噪声功率。
    \\信噪比(以分贝dB为单位)
    \\
    \eta_{dB}=10\lg{\eta}
    $$

  - 

    

  $$
  S,N单位相同,被约去成了一个无单位比值
  \\上述的分贝值L_{dB}在这个比值\eta上进一步处理,
  \\使得其更好的反映信噪比(的变换程度)
  \\所以此处\eta_{dB}和\eta都是信噪比,但是数值单位不同而已
  \\
  \\如果用常用的长度单位来类比形容,
  \\就是1m=100cm,表达的是相同的长度,物理含义也相同,
  \\但是数值不同罢了
  $$

  

- 如果问题中给出的信噪比是分贝(贝尔)为单位的$\eta_{dB}$,那么带入香农公式前需要转换为无量纲的$\eta$

  - $$
    \eta=10^{\frac{1}{10}\eta_{{dB}}}
    $$


#### 例:

- 某电话系统的参数:
  - 信道带宽W=3kHz
  - 信噪比$\eta_{dB}=30(dB)$
    - 则$\eta=10^{0.1\eta_{dB}}=10^{3}=1k$
  - 根据香农公式,
    - $C=W\log_2{(1+\eta)}= {3k}\times{\log_2(1+1K)}\approx3k\times{10}=30k$(b/s)



## 奈奎斯特准则

- Nyquist准则(定理)指出,
  - **码元传输速率**是受限的🎈,不能无限提高
  - 只要离散系统的奈奎斯特频率`高于`被采样信号的最高频率或[带宽](https://zh.wikipedia.org/wiki/带宽),就可以避免[混叠](https://zh.wikipedia.org/wiki/混叠)现象 

- 具体的信道所能通过的频率范围是有限的,信号中的许多高频分量往往不能通过信道
  - 否则在传输中会衰减,导致接收端接受到的信号波形失去原码之间的清晰界限,这种现象称为**码间串扰**
- 奈奎斯特(Nyquist) 定理又称奈氏准则,它规定:在**理想低通**(没有噪声、带宽有限)的信道中,

### 波特率形式

- 为了避免码间串扰,**极限码元传输速率M**为2W波特,
- 即最高的[码元传输速率](https://baike.baidu.com/item/码元传输速率/6305673?fromModule=lemma_inlink)Bmax:
  - $B_{max} = 2W(band)$
    - 其中**W**是理想低通信道的**带宽**(Hz)

### 比特率形式

- 如果编码方式的**码元状态数为V**,得出极限信息传输速率（信道容量） ：
  - 每个码元包含的信息量为$K=\log_2{V}$
  - 极限数据律:$V_{Nmax}=C_{max} =B_{max}\times{K}= 2W\log_2V$单位(b/s)
  



###  奈奎斯特频率

- **奈奎斯特频率**(Nyquist frequency）是离散信号系统[采样频率](https://zh.wikipedia.org/wiki/采样频率)的一半

## 总结🎈🎈

### 速率有限性

- 奈氏准则指出码元的传输速率是有限的
- 香农定理指出,信息传输速率是有限的

### 对比两个定理

- 定理中的带宽都是频率而不是速率!
- 对于香农定理,可以得出以下结论：
  - 1)信道的带宽或信道中的信噪比越大,信息的极限传输速率越高 
  - 2)对一定的传输带宽和一定的信噪比,信息传输速率的上限是确定的 
  - 3)只要信息传输速率低于信道的极限传输速率,就能找到某种方法来实现无差错的传输 
  - 4)香农定理得出的是极限信息传输速率,实际信道能达到的传输速率要比它低不少 

- 奈氏定理只考虑了带宽与极限码元传输速率的关系,
- 香农定理不仅考虑到了带宽,也考虑到了信噪比 
- 这从另一个侧面表明,**一个码元对应的二进制位数是有限的**

### 综合:低通信道的极限传输速率

- 例:
  - 二进制信号在信噪比$\eta=127:1$的W=4kHz信道上传输,最大传输速率v?
    - 注意到二进制信号,有两种不同的信号
      - 离散电平数为V=2
      - u=$\log_2{V}=\log_{2}{2}=1$


- 同时考虑奈奎斯特定理和香农公式
  - 根据奈氏定理
    - $V_{NM}=2W\log_2V=2\times{4K}\times1$=8kb/s
  - 根据香农定理:
    - $V_{SM}=W\log_{2}{(1+\eta)}=4k\times{7}=28kb/s$
  - 取上述两个极限值中的最小值,作为最大传输速率
    - $V_{max}=min(V_{NM},V_{SM})=8kb/s$

### 🎈🎈叮咛嘱咐W和2W

- 奈奎斯特定理的极限数据率是$2Wu=2W\log_2{V}$
  - 注意奈奎斯特定理是考虑的**无噪**理想条件下的情况🎈
- 香农定理的极限速率为:$WQ=W\log_2{(1+S/N)}$
  - 将噪声功率一同考虑进来🎈
- 这两个定理都是求的极限值(上限/最大)
  - 特别是奈奎斯特定理,求实际传输速率,还要结合采样率

### 周期内的脉冲数/电平数

- 每个周期内的脉冲数等于电平数,对应了**码元**的传输速率
  - 可见,码元传输速率(波特率)不一定比数据传输速率(比特率)来的小
  
- 例如
  - ManchesterCode 每位数据就需要占用两个电平(2个脉冲信号)来表示
  
  - 意味比特传输速率(也称为数据率或比特率)为是码元传输速率(波特率)的$\frac{1}{2}$
  
    



