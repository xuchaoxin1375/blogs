[toc]

# 性能指标

## 带宽(Bandwidth)🎈

- 本来表示通信线路允许通过的信号频带范围，单位是赫兹(Hz)
- 而在计算机网络中，带宽表示网络的通信线路所能传送数据的能力，是数字信道所能传送的“最高数据传输速率”的同义语，单位是比特/秒(bs).

## 时延(Dely)

- 指数据（一个报文或分组）从网络（或链路）的一端传送到另一端所需要的总时间，
- 它由4部分构成：发送时延、传播时延、处理时延和排队时延

### 发送时延🎈

- 结点将分组的所有比特推向（传输）链路所需的时间，

  - 即从**发送**分组的第一个比特算起，到**该分组的最后一个比特发送完毕**所需的时间，因此也称**传输时延**


  - 计算公式

    - 发送时延=分组长度/信道宽度


### 传播时延


- **电磁波**在信道中传播一定的距离需要花费的时间，即**一个比特从链路的一端传播到另一端所需的时间**


  - 传播时延$T_{spred}$

  - 信道长度L

  - 电磁波在信道上的传播速率$v_c$

  - $$
    T_{spred}=\frac{L}{v_c}
    $$

    

### 处理时延


- 数据在**交换结点**为**存储转发**而进行的一些必要的处理所花费的时间

  - <u>交换结点</u>上的处理和发送端的有所不同
- 例如，

  - 分析分组的首部、从分组中提取数据部分、进行差错检验或查找适当的路由等

### 排队时延

- 分组在进入路由器后要先在输入队列中排队等待处理
- **路由器确定转发端口后**，还要在**输出队列中排队等待转发**，这就产生了排队时延
- 因此，数据在网络中经历的总时延就是以上4部分时延之和：
  - <u>总时延=发送时延+传播时延+处理时延+排队时延</u>
  - 其中
    - <u>排队时延和处理时延</u>一般可**忽略不计**(计算条件中经常提示忽略这些时间)
- 另外，对于高速链路，提高的仅是数据发送速率而非比特在链路上的传播速率
  - 提高数据的**发送速率**只是为了**减少数据的发送时延**

### 时延带宽积

- 单位是bit
- 指发送端发送的**第一个比特即将到达终点时**，**发送端已经发出了多少个比特**，因此又称以**比特为单位的链路长度**，即
  - 时廷带宽积$T_{wd}$=传播**时延**$T_{spred}$×信道**带宽**W
  - $T_{wd}=T_{spred}W$
-  考虑一个代表链路的圆柱形管道，
  - 其长度表示链路的传播时延，横截面积表示链路带宽，
  - 则时延带宽积表示该**管道可以容纳的比特数量**
  - 类比流速乘以管道横截面面积

##  往返时延(Round-Trip Time,RTT)

- 互联网上的信息不仅仅单方向传输，而是双向交互的。因此，有时很需要知道双向交互一次所需的时间。

  - ![在这里插入图片描述](https://img-blog.csdnimg.cn/ef3f80b165ef4994b0a57bdd6fe54347.png)

    

- **往返时间 RTT (round-trip time)** 

  - 表示从**发送方**发送数据(发送结束的瞬间)开始，到发送方**收到来自接收方的确认**，总共经历的时间。
  - 或者说从**发送端A发出一个短分组**(所有比特发送到信道中)，到**发送端**A收到来自**接收端B**的**确认**（接收端收到数据后立即发送确认），**总共经历的时延**

- 在互联网中，往返时延还包括各**中间结点的处理时延、排队时延及转发数据时的发送时延**
  -  当使用卫星通信时，往返时间 RTT 相对较长，是很重要的一个性能指标
  -  在简化的情况下,可以取$RTT=2T_{trans}$,其中 $T_{trans}$是传播时延

##  吞吐量(Throughput)

- 指**单位时间内**通过某个网络(或信道、接口)的**数据量**
  - 吞吐量受网络**带宽或网络额定速率**的限制

##  速率(Speed)

- 网络中的速率是指连接到计算机网络上的主机在数字信道上传送数据的速率，也称数据传输速率、数据率或比特率，单位为b/s(比特/秒)等

### 带宽(Bandwidth)

- 在计算机网络中，通常把**最高数据传输速率称为带宽**

## 信道利用率

- 指出某一信道有百分之多少的时间是有数据通过的，
  - 即**信道利用率=有数据通过时间/(有+无)数据通过时间**

# 补充

## @利用率

-  分为**信道利用率**和**网络利用率**

##  @信道利用率

-  信道利用率
   - 指出某**信道**有**百分之几的时间**是被利用的（**有数据通过**）
   - **完全空闲**的信道的利用率是**零**

#### 发送周期

- 发送方从开始发送数据,到收到第一个**确认帧**为止,称为一个**发送周期**,记为T

#### 发送时间(传输时间)

- **发送时间**即,发送端将数据传输到出去(进入信道)需要的时间,和**传输时间**是一样的含义

  - 传输时间受到多方面影响
    - 发送的数据量大小
    - 发送端的处理性能
      - 信号调制速度(对于数字信号要再模拟信道上传输的情况)
    - ...
  - 但是区别于信号在信道中的**传播**时间(例如光速),仅取决于**介质**

  

#### 信道利用率计算🎈



- 设发送周期T内,**发送端**发送了S bit的数据,且数据传输速率为C(平均)

  - 那么发送方在时间T内用于传输数据的时间为$T_s=T_{send}=\frac{S}{C}$
  - 那么信道利用率$\eta=\frac{T_{s}}{T}=\frac{S}{C}\frac{1}{T}$

- 另一形式:

  - 设发送端发送时间耗费了$T_s=T_D=T_{Dispatch}$

  - 发送端接受确认帧花费的时间为$T_A=T_{Acknowledge}$

    - 根据条件要求,$T_A$既有可能被处理为和$T_s$相等,也可能被忽略不计...

  - 往返时间为RTT

    - 即,**发送端A**发送完分组的最后一个bit时,知道A接收到分组的接收端B立刻返回一个确认帧(需要一定的接受时间才能完整接收,这里只考虑接受到第一个bit的时间,作为RTT的终点)的经历时间段
  
  - $$
    \eta=\frac{T_D}{T_D+RTT+T_A}
    $$

  - 例如,停止-等待协议中的信道利用率分析:
  
    - ![在这里插入图片描述](https://img-blog.csdnimg.cn/5144dbd99ebb45fca94fb5aba61b6d66.png)


###  网络利用率

-  网络利用率:是全网络的**信道利用率的加权平均值**

-  信道利用率**并非越高越好**
   - 过低会造成资源浪费
   - 但是过高(当某信道的利用率增大时)，**该信道引起的时延也就迅速增加**



## @信道吞吐率

- 信道吞吐率$\sigma=\frac{S}{T}=\eta{C}=\frac{S}{CT}\times{C}$

## @例

### 例

- 一个信道的数据传输速率为C=4kb/s,**单向**传播时延为D=30ms,

- 如果使**停止-等待协议**的信道最大利用率达到$\eta=$80%，那么要求的**数据顿长度**至少为L=?

- 分析:

  - 停止等待协议往往意味着发送端发送的数据是断断续续的,因为只有收到确认帧后,才会继续发送下一帧

  - 发送端A等待接收端B传回确认帧至少需要一个单向传播时延时间D

  - 发送时延$T_s=\frac{L}{C}$

  - A到B的传播时延D

    - 传递数据帧

  - B到A的传播时间D

    - 用于接受确认帧

  - 所以从一个完整的发送周期来看(耗费的周期时间T=$T_s$+2D)

  - $\eta=\frac{T_s}{T}=\frac{T_s}{T_s+2D}\geqslant{80\%}$

    - $取\eta=80\%$求解最值

    - $$
      T_s=\frac{-2D\eta}{\eta-1}=\frac{-2\times{30\times{10^{-3}}s}\times{0.8}}{-0.2}
      =240\times{10^{-3}}s
      $$

    - $T_s=L/C,L=T_sC=240\times{k^{-1}}\times{4k}=960bit$

      

